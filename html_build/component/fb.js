define(["require","facade","views","utils","vendor","facebook"],function(e){return function(e){var t=window.cordova&&window.facebookConnectPlugin?window.facebookConnectPlugin:FB;console.log(t);var n=this,r="facebook-jssdk-api",i=function(){if(e)for(var t in e)this.currentTarget=e[t]}(),s=function(){t.init({appId:App.Settings.appId,status:!0,cookie:!0,xfbml:!0,oauth:!0})},o=function(e,t){setTimeout(function(){n[e](t)},2e3)};checkIfScriptExists=function(){var e=document.getElementById(r)?!0:!1;return manageLoader(e),e},manageLoader=function(e){this.currentTarget&&(e?$(this.currentTarget).removeClass("blue-loading"):$(this.currentTarget).addClass("blue-loading"))},this.shareOnFacebook=function(e){if(FB&&typeof FB!="undefined"){if(e.link)var n=window.location.protocol+"//"+window.location.host+"/"+e.link+"/";else var n=undefined;t.ui({method:e.method||"",name:e.name||"Facebook Dialogs",link:n||"http://localhost/",picture:e.picture||"",caption:e.caption||"",description:e.description||""},function(t){t&&t.post_id?e.success&&_.isFunction(e.success)&&e.success():e.error&&_.isFunction(e.error)&&e.error()})}else new o("shareOnFacebook",e)},this.sendInvite=function(e){if(FB&&typeof FB!="undefined"){if(e.link)var n=window.location.protocol+"//athletez.com/"+e.link+"/";else var n=undefined;t.ui({method:e.method||"send",to:e.to||"",name:e.name||"Come join Me on Atheletez",link:n||"http://localhost/",picture:e.picture||"",description:e.description||""},function(t){t&&t.success?e.success&&_.isFunction(e.success)&&e.success():e.error&&_.isFunction(e.error)&&e.error()})}else s(),new o("sendInvite",e)},this.getFriends=function(){FB&&typeof FB!="undefined"?t.api("/me/friends?fields=id,first_name",function(e){}):new o("getFriends",{})},s()}});