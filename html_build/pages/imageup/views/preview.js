define(["require","text!imageup/templates/preview_template.html","facade","views","utils","vendor"],function(e,t){var n,r=e("facade"),i=e("views"),s=e("utils"),o=s.lib.Channel,u=e("vendor"),a=i.SectionView,f=r.$,l=r._,c=s.debug;return n=a.extend({id:"imgpreview",template:t,events:{"click .rotate":"imageRotate","click .close":"closePreview"},initialize:function(e){a.prototype.initialize.call(this,e),c.log("preview view"),this.degree=0},imageRotate:function(e){id=e.currentTarget.id,val=e.currentTarget.value,this.degree=f("#"+val+"rotang").val(),this.degree=parseInt(this.degree)+90,this.degree>=360&&(this.degree=0),f("#"+id).css({"-webkit-transform":"rotate("+this.degree+"deg)","-moz-transform":"rotate("+this.degree+"deg)","-ms-transform":"rotate("+this.degree+"deg)","-o-transform":"rotate("+this.degree+"deg)",transform:"rotate("+this.degree+"deg)",zoom:1}),f("#"+val+"rotang").val(this.degree)},closePreview:function(e){id=e.currentTarget.value+"group";var t=document.getElementById(id);t.parentNode.removeChild(t)}}),n});