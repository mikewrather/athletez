/**
 * @license RequireJS text 2.0.4 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

define("text",["module"],function(e){var t,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,s=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,o=typeof location!="undefined"&&location.href,u=o&&location.protocol&&location.protocol.replace(/\:/,""),a=o&&location.hostname,f=o&&(location.port||undefined),l=[],c=e.config&&e.config()||{};t={version:"2.0.4",strip:function(e){if(e){e=e.replace(i,"");var t=e.match(s);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:c.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,c.isBuild&&(l[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}c.isBuild=i.isBuild;var s=t.parseName(e),l=s.moduleName+(s.ext?"."+s.ext:""),h=n.toUrl(l),p=c.useXhr||t.useXhr;!o||p(h,u,a,f)?t.get(h,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([l],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(l.hasOwnProperty(n)){var s=t.jsEscape(l[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(c.env==="node"||!c.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node)n=require.nodeRequire("fs"),t.get=function(e,t){var r=n.readFileSync(e,"utf8");r.indexOf("﻿")===0&&(r=r.substring(1)),t(r)};else if(c.env==="xhr"||!c.env&&t.createXhr())t.get=function(e,n,r){var i=t.createXhr();i.open("GET",e,!0),c.onXhr&&c.onXhr(i,e),i.onreadystatechange=function(t){var s,o;i.readyState===4&&(s=i.status,s>399&&s<600?(o=new Error(e+" HTTP status: "+s),o.xhr=i,r(o)):n(i.responseText))},i.send(null)};else if(c.env==="rhino"||!c.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};return t}),define("text!userresume/templates/layout.html",[],function(){return'<div class="main-container" style="margin : auto">\r\n	<!-- Basic Info Section Starts-->\r\n	<div id="section-basics-prof-setting" style=""></div>\r\n	<!-- Basic Info Section Ends-->\r\n\r\n<!-- Sent Resume Section Starts\r\n	<div id="section-sent-resume">\r\n\r\n	</div>-->\r\n<!-- Sent Resume Section Ends -->\r\n\r\n<!-- Rd Tree Section Starts -->\r\n	<div id="section-RD-Tree">\r\n		\r\n	</div>\r\n<!-- Rd Tree Section Ends -->\r\n\r\n<!-- Academic Gpa Section Starts\r\n	<div id="section-academic">\r\n		\r\n	</div>\r\n<!-- Academic Gpa Section Ends -->\r\n\r\n<!-- User Awards Section Starts\r\n	<div id="section-awards">\r\n		\r\n	</div>\r\n<!-- User Awards Section Ends -->\r\n\r\n<!-- User References Section Starts\r\n	<div id="section-references">\r\n		\r\n	</div>\r\n<!-- User Reference Section Ends -->\r\n\r\n<!-- User Contacts Section Starts\r\n	<div id="section-contacts">\r\n		\r\n	</div>\r\n<!-- User Contacts Section Ends -->\r\n\r\n\r\n	<div id="main-footer-prof-setting">\r\n	</div>\r\n</div>\r\n'}),define("text!userresume/templates/sentresume.html",[],function(){return'<div class="row-fluid sub-section-prof-setting well well-large">\r\n<div class="row-fluid">\r\n	<span class="spn-black-heading  well-small">Sent Resumes</span>\r\n</div>\r\n<div id="btn-Add-Resume" class="clearfix div-add-dotted well-small">\r\n	+ Send Resume\r\n</div>\r\n<table class="row-fluid">\r\n	<tr>\r\n		<th>Id</th>\r\n		<th>Sports Id</th>\r\n		<th>Users Id</th>\r\n		<th>College Coach Id</th>\r\n	</tr>\r\n	{{#resumes}}\r\n	<tr>\r\n		<td>{{id}}</td>\r\n		<td>{{sports_id}}</td>\r\n		<td>{{users_id}}</td>\r\n		<td>{{college_coach_id}}</td>\r\n	</tr>\r\n	{{/resumes}}\r\n</table>\r\n</div>'}),define("text!userresume/templates/basic_info_header.html",[],function(){return'{{#payload}}\r\n<div class="span3">\r\n	<img id="img-profile-prof-setting" src="{{user_picture}}" />\r\n</div>\r\n<div class="span6">\r\n	<h2>{{name}}</h2>\r\n	<p>\r\n		{{user_height}} INCHES\r\n	</p>\r\n	<p>\r\n		{{user_weight}} LBS\r\n	</p>\r\n</div>\r\n{{/payload}}'}),define("text!userresume/templates/rdtree.html",[],function(){return'<div class="sub-section-prof-setting">\r\n<div class="row-fluid">\r\n	<span class="green-left-heading">Personal Bests</span>\r\n</div>\r\n<div id="container-rdtree" class="row-fluid inset-data-entry">\r\n	{{#rdtrees}}\r\n	<div class="section-rdtree-items_h">\r\n		<div><span class="standard-subsection-header" style="margin-top:15px;">{{title}}</span></div>\r\n		{{#data}}\r\n			<div class="rd-entry">\r\n				<span>{{#icon}}<img src="{{icon}}" />{{/icon}}{{name}}</span>\r\n				<span>\r\n					<input type="text" class="txtRdTrees_h" treeId="{{id}}" value="{{val}}" resumeDataId="{{resumeDataId}}"/>\r\n					<span class="alert alert-danger displayNone error_h"></span>\r\n					<span class="alert alert-success displayNone success_h"></span>\r\n					\r\n				</span>\r\n			</div>\r\n		{{/data}}\r\n		<!--<a href="javascript:void(0)" class="resume_button btn-Finish-RdTree_h displayNone">FINISH</a>-->\r\n	</div>\r\n	{{/rdtrees}}\r\n</div>\r\n</div>'}),define("text!userresume/templates/academic.html",[],function(){return'<div class="sub-section-prof-setting">\r\n	<div class="row-fluid">\r\n		<span class="green-left-heading">Academic</span>\r\n	</div>\r\n	<div class="inset-data-entry">\r\n		<div id="container-academic-gpa"></div>\r\n		<div id="container-StandardizedTest"></div>\r\n		<div id="container-ApTest"></div>\r\n	</div>\r\n</div>'}),define("text!userresume/templates/awards.html",[],function(){return'<div class="row-fluid sub-section-prof-setting">\r\n	<div class="row-fluid">\r\n		<span class="green-left-heading">Awards</span>\r\n	</div>\r\n\r\n	<div class="inset-data-entry section-new-award">\r\n		<div class="div-add-dotted well-small btn-Add-award_h" testids="{{TestIds}}">\r\n			+ Add an Award\r\n		</div>\r\n		<div class="section-new-controls displayNone">\r\n			<div class="clearfix row-fluid">\r\n				<div style="width: 100%; padding:5px; margin: 0;">\r\n				<span>\r\n					<select class="ddl-sports-awards_h"></select>\r\n				</span>\r\n				<span>\r\n					<input type="text" class="txtAwards_h txt_name_h" placeholder="Award Name" value="{{name}}"/>\r\n				</span>\r\n				<span>\r\n					<input type="text" class="txtAwards_h txt_year_h" placeholder="Year Awarded" value="{{year}}"/>\r\n				</span>\r\n				</div>\r\n				<div style="width: 100%; padding:5px; margin: 0;">\r\n				<span>\r\n					<textarea class="txtAwards_h txt_description_h" placeholder="Description">{{description}}</textarea>\r\n				</span>\r\n				</div>\r\n			</div>\r\n			<div style="width: 100%; padding:5px; margin: 0;">\r\n				<span class=""><a href="javascript:void(0)" class="resume_button btn-Save_award_h" >Save</a> <a href="javascript:void(0)" class="resume_button btn-Cancel-New">Cancel</a> <span class="alert alert-danger displayNone error_h"></span> <span class="alert alert-success displayNone success_h"></span>\r\n			</div>\r\n		</div>\r\n		<br/>\r\n	</div>\r\n	<div id="section-list-awards" class="row-fluid">\r\n\r\n	</div>\r\n</div>'}),define("text!userresume/templates/contact.html",[],function(){return"<div>Contact</div>"}),define("text!userresume/templates/references.html",[],function(){return'<div class="row-fluid sub-section-prof-setting">\r\n	<div class="row-fluid">\r\n		<span class="green-left-heading">References</span>\r\n	</div>\r\n\r\n	<div class="inset-data-entry section-new-reference">\r\n		<div class="div-add-dotted well-small btn-Add-reference_h" testids="{{TestIds}}">\r\n			+ Add an Reference\r\n		</div>\r\n		<div class="well section-new-controls displayNone">\r\n			<div class="clearfix row-fluid">\r\n				<span class="reference-labels">Sport:</span>\r\n				<span class=""> <select class="ddl-sports-references_h"></select> </span>\r\n			</div>\r\n			<div class="clearfix row-fluid">\r\n				<span class="reference-labels">Name:</span>\r\n				<span class="">\r\n					<input type="text" class="txtReferences_h txt_name_h" value="{{name}}"/>\r\n				</span>\r\n			</div>\r\n\r\n			<div class="clearfix row-fluid">\r\n				<span class="reference-labels">Description:</span>\r\n				<span class="">\r\n					<input type="text" class="txtReferences_h txt_description_h" value="{{description}}"/>\r\n				</span>\r\n			</div>\r\n			<div class="clearfix row-fluid">\r\n				<span class="reference-labels">Email:</span>\r\n				<span class="">\r\n					<input type="text" class="txtReferences_h txt_email_h" value="{{year}}"/>\r\n				</span>\r\n			</div>\r\n			<div class="clearfix row-fluid">\r\n				<span class="reference-labels">Relationship:</span>\r\n				<span class="">\r\n					<input type="text" class="txtReferences_h txt_relation_h" value="{{year}}"/>\r\n				</span>\r\n			</div>\r\n			<div class="clearfix row-fluid">\r\n				<span class="reference-labels">Phone:</span>\r\n				<span class="">\r\n					<input type="text" class="txtReferences_h txt_phone_h" value="{{description}}"/>\r\n				</span>\r\n			</div>\r\n			<div class="clearfix row-fluid">\r\n				<span class="span12"> <a href="javascript:void(0)" class="resume_button btn-Save_reference_h" >Save</a> <a href="javascript:void(0)" class="resume_button btn-Cancel-New">Cancel</a> <span class="alert alert-danger displayNone error_h"></span> <span class="alert alert-success displayNone success_h"></span>\r\n			</div>\r\n		</div>\r\n		<br/>\r\n	</div>\r\n	<div id="section-list-references" class="row-fluid">\r\n\r\n	</div>\r\n</div>'}),define("controller",["facade","collections","models","utils"],function(e,t,n,r){var i,s=t.ApplicationStates,o=n.EventModel,u=e._,a=e.$,f=r.lib.Channel,l=e.Backbone.Model.extend;return i=function(e){e=e||{},e.title?document.title=e.title:document.title="Athletez",this.route=e.route,i.prototype.appStates?e.appStates&&(i.prototype.appStates=e.appStates):i.prototype.appStates=new s,this.route&&i.prototype.appStates&&this.getStoredState(),this.initialize(e)},i.extend=l,i.prototype={initialize:function(e){return this.triggerPublishers(),u.bindAll(this),this.handleOptions(e),this.addSubscribers(),this.handleDeferreds(),this},setParamsArray:function(e){if(e)for(var t in e)this[e[t].key]=e[t].value},generateRandomNumber:function(){var e=(new Date).getTime();return e+=Math.floor(Math.random()*200+1),e},setupSections:function(){},setupScheme:function(){},setupLayout:function(){var e;return this.layout=e,this.layout},handleDeferreds:function(){var e=this;a.when(null).then(function(){})},addSubscribers:function(){},removeSubscribers:function(){},triggerPublishers:function(){},meta:{activeViews:[],viewNames:[]},handleOptions:function(e){i.prototype.handleOptions(e)},routeChange:function(e){i.prototype.routeChange(options)},addStateChangeSubscriber:null},i.prototype.data=null,i.prototype.layout=null,i.prototype.scheme=[],i.prototype.sections={},i.prototype.route=null,i.prototype.handleOptions=function(e){e&&e.useFixtures&&this.useFixturesForWebServices()},i.prototype.transitionActiveViews=function(e){var t,n=this.layout,r=this.meta.sectionName,i=this.meta.activeViews=[];e=e||this.meta.presentation,t=function(t,s){s===e&&(t.state()==="not-rendered"&&t.render(),n.transition(r,t),i.push(s))},this.iterateOverLayoutViews(t)},i.prototype.renderInActiveViews=function(){var e;e=function(e){e.state()==="not-rendered"&&(e.callbacks.add(function(){e.state("not-displayed")}),e.render())},this.iterateOverLayoutViews(e)},i.prototype.iterateOverLayoutViews=function(e){var t=this.meta.activeViews,n=this.sections,r=this.meta.viewNames,i,s,o;for(o=0;o<r.length;o++)i=r[o],u.contains(t,i)||(s=n[i],e&&u.isFunction(e)&&e(s,i))},i.prototype.routeChange=function(e,t,n){var r={data:{}},s;if(e&&!u.isString(e))throw s="Controller routeChange expects string as 1st argument.",new Error(s);this.route=e,this.layout&&(this.layout.state({route:e}),r.data=this.layout.state(),u.extend(r,t||{}),i.prototype.appStates.add(r),this.data=r.data,debug.log(r),i.prototype.appStates.save(e)),n&&u.isFunction(n)&&n(this.data),debug.log("Controller routeChange method called with: "+e)},i.prototype.getStoredState=function(){var e;if(!this.route)throw new Error("Controller does not have route property.");return e=i.prototype.appStates.findInCollectionOrStorage(this.route),this.data=e&&e.data?e.data:e,this.data},i.prototype.addStateChangeSubscriber=function(e,t){function s(r,s){var o=e,a=t,f=n,l;f.layout&&(l=f.layout.state(),l&&i.prototype.appStates.add({name:f.route,data:l,expires:new Date(Date.now()+4032e4),storage:"localStorage"})),a&&u.isFunction(a)&&a(r,s)}var n=this,r;if(!e||!u.isString(e))throw r="controller method addStateChangeSubscriber expected string as 1st argument.",new Error(r);f(e+":stateChanged").subscribe(s)},i.prototype.remove=function(){var e;this.layout&&this.layout.remove();for(e in this)delete this[e]},i.prototype.webServices={},i.prototype.useFixturesForWebServices=function(){},i}),define("user/models/basics",["facade","models/base"],function(e,t){var n,r=e._;return n=t.extend({url:function(){return"undefined"==typeof this.id?testpath?testpath+"/user/basics/":"/api/user/basics/":testpath?testpath+"/user/basics/"+this.id:"/api/user/basics/"+this.id},initialize:function(){n.__super__.initialize.apply(this,arguments)},user_pic_small:function(){return this.payload.user_picture.types.small_thumb.url}}),n}),define("profilesetting/models/basic_info",["facade","user/models/basics"],function(e,t){var n,r=e._;return n=t.extend({}),n}),define("user/models/resume",["facade","models/base"],function(e,t){var n,r=e._;return n=t.extend({}),n}),define("userresume/models/resume",["facade","user/models/resume"],function(e,t){var n,r=e._;return n=t.extend({}),n}),define("user/models/rdtree",["facade","models/base"],function(e,t){var n,r=e._;return n=t.extend({}),n}),define("userresume/models/rdtree",["facade","user/models/rdtree"],function(e,t){var n,r=e._;return n=t.extend({idAttribute:"id1",data:{user_id:this.user_id,resume_data_id:this.resume_data_id,user_value:this.user_value},processData:!0,url:function(){return this.action=="save"?"api/resumedataval/add/"+this.treeId+"?id1="+this.treeId:this.action=="update"?"api/resumedataval/basics/"+this.treeId+"?id1="+this.treeId:this.action=="delete"?"api/user/gpa/"+this.user_id+"?id1="+this.user_id:"api/user/addgpa/"+this.user_id+"?id1="+this.user_id},showSuccessMessage:function(e){$(this.target).parent().find(".success_h").html(e).fadeIn(),$(this.target).parent().find(".error_h").html("").fadeOut()},showErrorMessage:function(e){console.log("Show Error Message Rdtree.js Model",e),$(this.target).parent().find(".success_h").html("").fadeOut(),$(this.target).parent().find(".error_h").html(e).fadeIn()}}),n}),define("user/models/common",["facade","models/base"],function(e,t){var n,r=e._;return n=t.extend({}),n}),define("userresume/models/gpa",["facade","user/models/common"],function(e,t){var n,r=e._;return n=t.extend({idAttribute:"id1",data:{user_id:this.user_id,year:this.year},processData:!0,url:function(){return this.action=="delete"?"api/user/gpa/"+this.user_id+"?id1="+this.user_id:"api/user/addgpa/"+this.user_id+"?id1="+this.user_id},showSuccessMessage:function(e){$(this.target).parent().find(".success_h").html(e).fadeIn(),$(this.target).parent().find(".error_h").html("").fadeOut()},showErrorMessage:function(e){$(this.target).parent().find(".success_h").html("").fadeOut(),$(this.target).parent().find(".error_h").html(e).fadeIn()}}),n}),define("userresume/models/award",["facade","user/models/common"],function(e,t){var n,r=e._;return n=t.extend({idAttribute:"id1",data:{user_id:this.user_id,year:this.year},processData:!0,url:function(){return this.action=="update"?"api/awards/basics/"+this.award_id+"?id1="+this.award_id:this.action=="save"?"api/awards/add/":(this.action=="delete","api/awards/base/"+this.award_id+"?id1="+this.award_id)},showSuccessMessage:function(e){$(this.target).parent().find(".success_h").html(e).fadeIn(),$(this.target).parent().find(".error_h").html("").fadeOut()},showErrorMessage:function(e){$(this.target).parent().find(".success_h").html("").fadeOut(),$(this.target).parent().find(".error_h").html(e).fadeIn()}}),n}),define("userresume/models/contact",["facade","user/models/common"],function(e,t){var n,r=e._;return n=t.extend({}),n}),define("userresume/models/reference",["facade","user/models/common"],function(e,t){var n,r=e._;return n=t.extend({idAttribute:"id1",processData:!0,url:function(){return this.action=="update"?"api/references/basics/"+this.reference_id+"?id1="+this.reference_id:this.action=="save"?"api/references/add/":(this.action=="delete","api/references/base/"+this.reference_id+"?id1="+this.reference_id)},showSuccessMessage:function(e){$(this.target).parent().find(".success_h").html(e).fadeIn(),$(this.target).parent().find(".error_h").html("").fadeOut()},showErrorMessage:function(e){$(this.target).parent().find(".success_h").html("").fadeOut(),$(this.target).parent().find(".error_h").html(e).fadeIn()}}),n}),define("text!profilesetting/templates/basic_info_header.html",[],function(){return'{{#payload}}\r\n<div class="span4 profile-image">\r\n	<img id="img-profile-prof-setting" src="{{user_picture_obj.types.large_thumb.url}}" />\r\n	<a href="javascript:void(0);" id="change_user_pic">Change User Picture</a>\r\n</div>\r\n<div class="two-column-form mt20" id="user_profile_data"></div>\r\n{{/payload}}\r\n\r\n	<!--div id="edit_profile_info_section">\r\n		<div>\r\n			<span>Name: </span>\r\n			<input type="text" id="txt_user_name" model-property="name" value="{{name}}" />\r\n		</div>\r\n		<div>\r\n			<span>Height (in):</span>\r\n			<input type="text" id="txt_user_height" model-property="height_in" value="{{height_in}}" />\r\n		</div>\r\n		<div>\r\n			<span>Weight (lbs)</span>\r\n			<input type="text" id="txt_user_weight" model-property="weight_lb" value="{{weight_lb}}" />\r\n		</div>\r\n		<div style="font-size: .8em; font-weight: bolder;">\r\n			Change Password\r\n		</div>\r\n		<div>\r\n			<span>New</span>\r\n			<input type="password" id="txt_new_password" model-property="password" placeholder="New Password" />\r\n		</div>\r\n		<div>\r\n			<span>Again</span>\r\n			<input type="password" id="txt_re_new_password" model-property="re_password" placeholder="New Password Again" />\r\n		</div>\r\n		<a href="javascript:void(0);" class="resume_button" id="save_user_data">Save</a>\r\n	</div-->'}),define("text!profilesetting/templates/basic_info_header_edit.html",[],function(){return'{{#payload}}\r\n		<div id="edit_profile_info_section">\r\n			<div><span>Name: </span><input type="text" id="txt_user_name" model-property="name" value="{{name}}" /></div>\r\n			<div><span>Height (in):</span><input type="text" id="txt_user_height" model-property="height_in" value="{{height_in}}" /></div>\r\n			<div><span>Weight (lbs)</span><input type="text" id="txt_user_weight" model-property="weight_lb" value="{{weight_lb}}" /></div>\r\n			<div style="font-size: .8em; font-weight: bolder;">Change Password</div>\r\n			<!--<div><span>Current</span><input type="password" id="txt_current_password" model-property="current_password"  placeholder="Current Password" /></div>-->\r\n\r\n			<div><span>New</span><input type="password" id="txt_new_password" model-property="password" placeholder="New Password" /></div>\r\n			<div><span>Again</span><input type="password" id="txt_re_new_password" model-property="re_password" placeholder="New Password Again" /></div>\r\n			<a href="javascript:void(0);" class="resume_button" id="save_user_data">Save</a>\r\n		</div>\r\n{{/payload}}'}),define("text!profilesetting/templates/basic_info_header_completed.html",[],function(){return'{{#payload}}\r\n	<h2 id="user_name">{{first_name}} {{last_name}}</h2>\r\n	<p id="user_height">\r\n		{{#height_in}} {{height_in}} INCHES{{/height_in}}\r\n	</p>\r\n	<p id="user_weight">\r\n		{{#weight_lb}}{{weight_lb}} LBS{{/weight_lb}}\r\n	</p>\r\n	<div class="resume_button" id="edit_profile_info">Edit Basic User Info</div>\r\n\r\n{{/payload}}'}),define("text!usercontrols/imagecropper/templates/layout.html",[],function(){return'<iframe id="cropper_iframe"></iframe>'}),define("usercontrols/imagecropper/imagecropper",["require","text!usercontrols/imagecropper/templates/layout.html","facade","controller","views"],function(e,t){var n,r=e("facade"),i=e("controller"),s=e("views"),o=e("utils"),u=r.$,a=r._,f=o.lib.Channel,l=s.LayoutView;return n=i.extend({cssArr:["/usercontrols/imagecropper/imagecropper.css"],events:{"click button.close":"alertsomething"},initialize:function(e){console.log("init");var t=this;f("load:css").publish(this.cssArr),a.bindAll(this),console.log(e),this.image_o=e.image_o?e.image_o:"",this.image_e=e.image_e?e.image_e:"",this.modelHTML='<div id="modalPopup" class="modal imagecropper hide fade model-popup-h"><div class="modal-header"><span>Athletez Profile Pic Editor</span><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button></div><div class="modal-body page-content-h"></div></div>',this.setupLayout().render(),this.handleDeferreds()},handleDeferreds:function(){},setupLayout:function(){var e=this;this.scheme=[];var t="/vendor/plugins/iedit2/index.html?vh=500&vw=500&sx=0&sy=0&sz=100&t=Profile%20Picture&edit=";this.image_e!=""&&(t+="&edit="+this.image_e),this.image_o!=""&&(t+="&o="+this.image_o);var n={};return n.width="100%",n.height="100%",n.title="Change your Athletez Photo",n.html='<iframe src="'+t+'" id="cropper_iframe" style="width:100%;height:100%;margin:0;"></iframe>',n.id="change-userpic-modal",n.addClass=["noBorder"],routing.trigger("common-popup-open",n),u("#"+n.id+" .close").bind("click",function(){e.notifyUpdate()}),this.layout},notifyUpdate:function(){f("userpic-changed").publish()}}),n}),define("component/forms",["require","facade","views","utils","vendor"],function(e){return function(t,n){var r={},s,o=e("facade"),u=e("views"),a=o.Backbone.Model.extend({schema:t}),f=new a,l=(new o.Backbone.Form({model:f,formValues:r})).render();n.append(l.el);if(t){var c=l.getValue();r.fields={};for(var h in c)r.fields[h]={currentValue:function(){return l.fields[h].editor.getValue()},form_field:l.fields[h].editor,deps:l.fields[h].editor.valueBindings?l.fields[h].editor.valueBindings:[],post_to_server:typeof l.fields[h].editor.post_to_server!="undefined"?l.fields[h].editor.post_to_server:!0};r.getFormValues=function(){var e={};if(r.fields)for(var t in r.fields)if(r.fields[t].post_to_server){var n=[];if(r.fields[t].deps&&r.fields[t].deps.length)for(var i in r.fields[t].deps)n.push(l.fields[r.fields[t].deps[i]].editor.getValue()||"");else n.push(l.fields[t].editor.getValue());var s=l.fields[t].editor.serverKey||t;e[s]=n.join(" ")}return e},r.updateUiAfterUpdatingObject=function(e,t){l.fields&&e&&l.fields[e]&&l.fields[e].editor.setValue(t)},r.getFieldValue=function(e){if(l.fields&&e&&l.fields[e]){var t=[];if(r.fields[e].deps&&r.fields[e].deps.length)for(var n in r.fields[e].deps)t.push(l.fields[r.fields[e].deps[n]].editor.getValue()||"");else t.push(l.fields[i].editor.getValue());return t.join(" ")}return undefined},r.updateFormValues=function(e){if(e&&e.objectValuesToUpdate)for(var t in e.objectValuesToUpdate){var n=l.fields[e.objectValuesToUpdate[t]].editor;console.error(n),n.setValue("","")}},r.showServersErrors=function(e){if(l.fields)for(var t in l.fields)if(l.fields[t].editor.serverDbField)for(var n in e)if(e[n].field==l.fields[t].editor.serverDbField){if(l.fields[t].editor.valueBindings&&l.fields[t].editor.valueBindings.length){var r=l.fields[l.fields[t].editor.valueBindings[0]].editor.id;$("#"+r).parents(".field-row").find("*[data-error='']").html(e[n].error).show()}else{var r=l.fields[t].editor.id;$("#"+r).parents(".field-row").find("*[data-error='']").html(e[n].error).show()}break}}}return{form:l,formValues:r}}}),define("profilesetting/views/basic_info",["require","text!profilesetting/templates/basic_info_header.html","text!profilesetting/templates/basic_info_header_edit.html","text!profilesetting/templates/basic_info_header_completed.html","profilesetting/models/basic_info","facade","views","utils","vendor","usercontrols/imagecropper/imagecropper","component/forms"],function(e,t,n,r){var i,s=e("facade"),o=e("views"),u=e("profilesetting/models/basic_info"),a=o.SectionView,f=e("utils"),l=f.lib.Channel,c=e("vendor"),h=c.Mustache,p=s.$,d=e("usercontrols/imagecropper/imagecropper"),v=e("component/forms");return i=a.extend({id:"basic_info",template:t,events:{"click .btn-prof-setting-h":"initialize","click #edit_profile_info":"editProfile","click #change_user_pic":"changeUserpic","click #save_user_data":"saveProfileBasics"},initialize:function(e){e.name&&a.prototype.initialize.call(this,e),this.initBasicView()},render:function(){a.prototype.render.call(this)},generateForm:function(){var e=this,t=new v({name:{form_values:{post_to_server:!0,serverKey:"name",serverDbField:"name",value:e.basicInfoModel.get("payload").name},type:"Text",attr:{placeholder:"Name","class":""},label:"Name"},Height:{form_values:{post_to_server:!0,serverKey:"height_in",serverDbField:"height",value:e.basicInfoModel.get("payload").height_in},type:"Text",attr:{placeholder:"Height","class":""},label:"Height (in)"},Weight:{form_values:{post_to_server:!0,serverKey:"weight_lb",serverDbField:"weight",value:e.basicInfoModel.get("payload").weight_lb},type:"Text",attr:{placeholder:"Weight","class":""},label:"Weight (lbs)"},Password:{form_values:{post_to_server:!0,serverKey:"password",serverDbField:"password"},type:"Password",attr:{placeholder:"New Passord","class":""},label:"New"},Again:{form_values:{post_to_server:!0,serverKey:"re_password",serverDbField:"re_password"},type:"Password",attr:{placeholder:"New Password Again"},label:"Again"},submit:{type:"Submit",fieldClass:"button-field",form_values:{post_to_server:!1},attr:{value:"Save","class":"resume_button"},showLable:!1,onSubmit:function(t){var r=n.commit();if(r)for(var i in r);else{if(e.formValues)var s=e.formValues.getFormValues();else var s=n.getValue();var s=e.formValues.getFormValues();e.saveProfileBasics(s)}}}},p("#user_profile_data")),n=t.form;this.formValues=t.formValues},initBasicView:function(){var e=this;this.basicInfoModel=new u,this.basicInfoModel.fetch(),p.when(this.basicInfoModel.request).done(function(){e.basicInfoModel.set("id",e.basicInfoModel.get("payload").id),e.setupBasicView(),e.generateForm()})},setupBasicView:function(){console.log("called");var e=this,t=h.to_html(e.template,this.basicInfoModel.toJSON());p("#section-basics-prof-setting").html(t),p("#change_user_pic").bind("click",function(){e.changeUserpic()}),p("#edit_profile_info").bind("click",function(){e.editProfile()}),p("#save_user_data").bind("click",function(){e.saveProfileBasics()})},setOptions:function(e){if(!this.model)throw new Error("HeaderView expects option with model property.")},editProfile:function(){p("#user_profile_data").html(""),this.generateForm()},saveProfileBasics:function(e){var t=this,n={};e?n=e:p("div#user_profile_data").find("input").each(function(){n[p(this).attr("model-property")]=p(this).val()}),this.basicInfoModel.save(n,{success:function(){var e=h.to_html(r,t.basicInfoModel.toJSON());p("div#user_profile_data").html(e),p("#edit_profile_info").bind("click",function(){t.editProfile()})},error:function(e,n){var r=JSON.parse(n.responseText),i=r.exec_data.error_array;t.formValues.showServersErrors(i)}})},changeUserpic:function(){var e=this.basicInfoModel.get("payload");l("userpic-changed").subscribe(function(){t.initBasicView()});var t=this,n=new d({image_o:e.user_picture_obj.pre_crop_url,image_e:e.user_picture_obj.image_path})}}),i}),define("user/collections/resumes",["facade","collections","user/models/resume","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel;return i=s.extend({model:n,fetchSuccess:function(e,t){e.reset();var r=t.payload;for(var i in r){var s=new n;s.id=Math.ceil(Math.random()*1e5),s.set("payload",r[i]),s.set("desc",t.desc),s.set("exec_data",t.exec_data),e.push(s)}e.deferred.resolve(t)}}),i}),define("userresume/collections/sentresumes",["facade","collections","user/collections/resumes","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel,i=n.extend({url:function(){return testpath?testpath+"/api/user/sent_resume/"+this.user_id:(this.user_id==undefined,"api/user/sent_resumes/"+this.user_id+"?id1="+this.user_id)}});return i}),define("userresume/views/sentresumeview",["require","text!userresume/templates/sentresume.html","facade","views","utils","vendor","userresume/collections/sentresumes"],function(e,t){var n,r=e("facade"),i=e("views"),s=i.SectionView,o=e("utils"),u=o.lib.Channel,a=e("vendor"),f=a.Mustache,l=r.$,c=e("userresume/collections/sentresumes"),h=s.extend({template:t,events:{},controls:{},messages:{dataNotExist:"Data Not Exists For Resumes."},initialize:function(e){s.prototype.initialize.call(this,e),n=this,n.setOptions(e),this.init()},setOptions:function(e){this.user_id=e.user_id},init:function(){n.setupView()},render:function(){var e=this;s.prototype.render.call(this)},setupView:function(){var e=this,t={user_id:e.user_id},n=new c(t);n.user_id=e.user_id,n.fetch(),l.when(n.request).done(function(){if(n.isError())return;var t=n.toJSON();if(t.length){var r=[];l.each(t,function(e,t){r.push(t.payload)}),e.Resumes=t;var i=f.to_html(e.template,{resumes:r});l(e.el).html(i)}else l(e.el).html(e.messages.dataNotExist)})}});return h}),define("user/collections/rdtree",["facade","collections","user/models/rdtree","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel;return i=s.extend({model:n,fetchSuccess:function(e,t){e.reset();var r=t.payload;for(var i in r){var s=new n;s.id=Math.ceil(Math.random()*1e5),s.set("payload",r[i]),s.set("desc",t.desc),s.set("exec_data",t.exec_data),e.push(s)}e.deferred.resolve(t)}}),i}),define("userresume/collections/rdtree",["facade","collections","user/collections/rdtree","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel,i=n.extend({url:function(){return testpath?testpath+"/api/user/rdtree/"+this.user_id:(this.user_id==undefined,"api/user/rdtree/"+this.user_id+"?id1="+this.user_id)},parseAsRequired:function(){var e=this,t=e.toJSON(),n=[];return t.length&&$.each(t,function(e,t){var r={title:t.payload.name},i=[];for(var s in t.payload.data){var o=t.payload.data[s],u={name:o.name,id:o.id,type:o.type,val:o.val||"",resumeDataId:o.resume_data_id,icon:o.icon||null};i.push(u)}r.data=i,n.push(r)}),n}});return i}),define("userresume/views/rdtree",["require","text!userresume/templates/rdtree.html","facade","views","utils","vendor","userresume/collections/rdtree","userresume/models/rdtree"],function(e,t){var n,r=e("facade"),i=e("views"),s=i.SectionView,o=e("utils"),u=o.lib.Channel,a=e("vendor"),f=a.Mustache,l=r.$,c=e("userresume/collections/rdtree"),h=e("userresume/models/rdtree"),p=s.extend({template:t,events:{"click .btn-edit-rdtree_h":"MarkEdit","click .txtRdTrees_h":"MakeEdit","click .btn-Finish-RdTree_h":"FinishEdit","blur .txtRdTrees_h":"SaveResumeData"},controls:{btnEditRdTree:".btn-edit-rdtree_h",btnFinishRdTree:".btn-Finish-RdTree_h",sectionRdTreeItems:".section-rdtree-items_h",txtRdTree:".txtRdTrees_h"},messages:{dataNotExist:"Data Not Exists For RD Trees."},initialize:function(e){s.prototype.initialize.call(this,e),n=this,n.setOptions(e),this.init()},render:function(){s.prototype.render.call(this)},setOptions:function(e){this.user_id=e.user_id},init:function(){n.setupView()},setupView:function(){var e=this,t={user_id:e.user_id},n=new c(t);n.user_id=e.user_id,n.fetch(),l.when(n.request).done(function(){if(n.isError())return;e.Tree=n.parseAsRequired(),console.log("d",e.Tree);var t=f.to_html(e.template,{rdtrees:e.Tree});l(e.el).html(t)})},MarkEdit:function(e){console.log(e),l(e.target).fadeOut(),l(e.target).parents(n.controls.sectionRdTreeItems).find(n.controls.txtRdTree).removeAttr("disabled"),l(e.target).parents(n.controls.sectionRdTreeItems).find(n.controls.btnFinishRdTree).fadeIn()},MarkEdit:function(e){console.log(e),l(e.target).fadeOut(),l(e.target).removeAttr("disabled"),l(e.target).parents(n.controls.sectionRdTreeItems).find(n.controls.btnFinishRdTree).fadeIn()},FinishEdit:function(e){l(e.target).fadeOut(),l(e.target).parents(n.controls.sectionRdTreeItems).find(n.controls.txtRdTree).attr("disabled","disabled"),l(e.target).parents(n.controls.sectionRdTreeItems).find(n.controls.btnEditRdTree).fadeIn()},SaveResumeData:function(e){var t=l(e.target).attr("treeId"),r=l(e.target).attr("resumeDataId"),i=l(e.target).val(),s={treeId:t,user_id:n.user_id,resume_data_id:r,user_value:i},o=new h(s);o.treeId=t,o.user_id=n.user_id,o.target=l(e.target),t>0?(o.action="update",o.save({id1:t})):(o.action="save",o.save()),l.when(o.request).done(function(t){var n=l(e.currentTarget).parents(".rd-entry").find(".success_h");n.removeClass("displayNone").html("Updated Successfully."),console.log("response",t),t.payload!=null&&t.payload.id>0&&(console.log(t.payload),l(e.target).attr("treeId",t.payload.id)),l('.txtRdTrees_h[resumedataid="'+t.payload.resume_data_id+'"]').val(t.payload.user_value),l(e.target).parent().find(".error_h").html("").fadeOut(),setTimeout(function(){n.addClass("displayNone").html("")},3e3)})}});return p}),define("text!userresume/templates/gpa.html",[],function(){return'<span class="standard-subsection-header">GPA</span>\r\n<div class="div-add-dotted well-small btn-Add-gpa" testids="{{TestIds}}">\r\n	+ Add a Gpa\r\n</div>\r\n<div class="section-Add-Gpa displayNone">\r\n	<div class="alert alert-danger displayNone error_h"></div>\r\n	<span class="span5">Year : \r\n		<select class="txtGpaYear_h">\r\n			<option value="">Select</option>\r\n			<option value="Senior">Senior</option>\r\n			<option value="Junior">Junior</option>\r\n			<option value="">Sophomore</option>\r\n			<option value="Freshman">Freshman</option>\r\n		</select>\r\n		</span>\r\n	<span class="span5">Score : <input type="text" class="txtGpaScore_h"/></span>\r\n	<p ><button class="resume_button btn-Save-Gpa">Save</button></p>\r\n</div>\r\n<a href="javascript:void(0)" id="edit-gpa-btn" class="edit edit-gpa displayNone"></a>\r\n{{#data}}\r\n			<div class="row-fluid">\r\n				<span class="span3">{{year}}</span>\r\n				<span class="span9">\r\n					<input type="text" class="txtGpa_h" year="{{year}}" gpaId="{{id}}" value="{{gpa}}" disabled="disabled"/>\r\n					<a href="javascript:void(0)" class="remove btn-delete-gpa" year="{{year}}"></a>\r\n					<span class="alert alert-danger displayNone error_h"></span>\r\n					<span class="alert alert-success displayNone success_h"></span>\r\n					</span>\r\n					\r\n			</div>\r\n		{{/data}}\r\n		<button class="resume_button btn-finish-gpa_h displayNone">Finish</button>'}),define("text!userresume/templates/test.html",[],function(){return'<span class="standard-subsection-header">{{Test_Type}} Tests</span>\r\n<div class="clearfix ">\r\n<div class="div-add-dotted well-small btn-Add-test" testids="{{TestIds}}">\r\n	+ Add a Test\r\n</div>\r\n<div class="section-modal-academic-tests_h"> </div>\r\n</div>\r\n\r\n<div class="section-test-topics_h">\r\n	\r\n</div>'}),define("text!userresume/templates/testtopics.html",[],function(){return'\r\n{{#data}}\r\n			<div class="row-fluid item-test-topic_h item-test-{{id}}">\r\n				<div>\r\n				<span class="span3"><h4>{{testname}} :</h4></span> <span class="span3"><a href="javascript:void(0)" class="edit edit-test"></a></span>\r\n				<span class="span9">\r\n					{{#topics}}\r\n					<div class="row-fluid">\r\n						<span class="span3">{{name}}</span>\r\n						<span class="span9"><input type="text" class="txtTestScore_h" testId="{{id}}" topicId="{{topicid}}" initial="{{score}}" value="{{score}}" disabled="disabled"/>\r\n<a href="javascript:void(0)" class="remove btn-delete-test_h" testId="{{id}}" topicId="{{topicid}}"></a>\r\n							<span class="alert alert-danger displayNone error_h"></span> <span class="alert alert-success displayNone success_h"></span>\r\n						</span>\r\n					</div>\r\n					 {{/topics}}\r\n				</span>\r\n				</div>\r\n				<div>\r\n					</div>\r\n					<a href="javascript:void(0)" class="btn btn-primary btn-finish-test-topic_h displayNone" >Finish</a>\r\n				</div>\r\n			</div>\r\n		 {{/data}}'}),define("text!userresume/templates/testlist.html",[],function(){return'<div class="modal hide fade tests-modal_h" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n<div class="modal-header">\r\n<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>\r\n<h3 id="myModalLabel">Add a Test ({{Test_Type}})</h3>\r\n</div>\r\n<div class="modal-body  well">\r\n	{{#data}}\r\n	<div class="row-fluid">\r\n		<span class="span3">\r\n		<input type="checkbox" class="chk-test-{{type}}_h chk-{{id}}" testid="{{id}}" /> </span> &nbsp;\r\n		<span class="span3"> {{testname}} </span>\r\n	</div>\r\n		{{/data}}\r\n</div>\r\n<div class="modal-footer">\r\n<button class="btn" data-dismiss="modal" aria-hidden="true">Finish</button>\r\n<!--<button class="btn btn-primary btn-Save-Positions">Finish</button> -->\r\n</div>\r\n</div>'}),define("user/collections/gpa",["facade","collections","user/models/common","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel;return i=s.extend({model:n,fetchSuccess:function(e,t){e.reset();var r=t.payload;for(var i in r){var s=new n;s.id=Math.ceil(Math.random()*1e5),s.set("payload",r[i]),s.set("desc",t.desc),s.set("exec_data",t.exec_data),e.push(s)}e.deferred.resolve(t)}}),i}),define("userresume/collections/gpa",["facade","collections","user/collections/gpa","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel,i=n.extend({url:function(){return testpath?testpath+"/api/user/gpa/"+this.user_id:(this.user_id==undefined,"api/user/gpa/"+this.user_id+"?id1="+this.user_id)},parseAsRequired:function(){var e=this,t=e.toJSON(),n=[];return t.length&&$.each(t,function(e,t){if(t!=null&&t.payload!=null){var r=t.payload;n.push({gpa:r.gpa,year:r.year})}}),n}});return i}),define("user/collections/tests",["facade","collections","user/models/common","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel;return i=s.extend({model:n,fetchSuccess:function(e,t){e.reset();var r=t.payload;for(var i in r){var s=new n;s.id=Math.ceil(Math.random()*1e5),s.set("payload",r[i]),s.set("desc",t.desc),s.set("exec_data",t.exec_data),e.push(s)}e.deferred.resolve(t)}}),i}),define("userresume/collections/tests",["facade","collections","user/collections/tests","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel,i=n.extend({url:function(){return testpath?testpath+"/api/user/tests/"+this.user_id:(this.user_id==undefined,"api/user/tests/"+this.user_id+"?id1="+this.user_id+"&standardized="+(this.includeStandard||0)+"&ap="+(this.includeAp||0))},parseAsRequired:function(){var e=this,t=e.toJSON(),n=[];return t.length&&$.each(t,function(e,t){if(t!=null&&t.payload!=null){var r=t.payload,i={id:r.id,testname:r.name,type:r.test_type,topics:[]};for(var s in r.topics)i.topics.push({topicid:s,name:r.topics[s].name,score:r.topics[s].score==0?"":r.topics[s].score});n.push(i)}}),n}});return i}),define("userresume/collections/academictests",["facade","collections","user/collections/tests","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel,i=n.extend({url:function(){return testpath?testpath+"/api/academictest/listall/"+this.user_id:(this.user_id==undefined,"api/academictest/listall/0?id1="+this.user_id+"&standardized="+(this.includeStandard||0)+"&ap="+(this.includeAp||0))},parseAsRequired:function(){var e=this,t=e.toJSON(),n=[];return t.length&&$.each(t,function(e,t){if(t!=null&&t.payload!=null){var r=t.payload,i={id:r.id,testname:r.name,type:r.test_type,topics:[]};if(r.topics!=null)for(var s in r.topics)i.topics.push({topicid:s,name:r.topics[s].name,score:r.topics[s].score||""});n.push(i)}}),n}});return i}),define("userresume/models/test",["facade","user/models/common"],function(e,t){var n,r=e._;return n=t.extend({idAttribute:"academics_tests_topics_id",data:{user_id:this.user_id,year:this.year},processData:!0,url:function(){return this.action=="update"?"api/user/testscore/"+this.users_id+"?id1="+this.users_id:this.action=="save"?"api/user/addtestscore/"+this.users_id+"?id1="+this.users_id:this.action=="delete"?"api/user/testscore/"+this.users_id+"?id1="+this.users_id:"api/user/addtestscore/"},showSuccessMessage:function(e){console.log("showSuccessMessage test"),$(this.target).parent().find(".success_h").html(e).fadeIn(),$(this.target).parent().find(".error_h").html("").fadeOut()},showErrorMessage:function(e){$(this.target).parent().find(".success_h").html("").fadeOut(),$(this.target).parent().find(".error_h").html(e).fadeIn()}}),n}),define("userresume/views/academic",["require","text!userresume/templates/academic.html","text!userresume/templates/gpa.html","text!userresume/templates/test.html","text!userresume/templates/testtopics.html","text!userresume/templates/testlist.html","facade","views","utils","vendor","userresume/collections/gpa","userresume/collections/tests","userresume/collections/academictests","userresume/models/gpa","userresume/models/test"],function(e,t,n,r,i,s){var o,u=e("facade"),a=e("views"),f=a.SectionView,l=e("utils"),c=l.lib.Channel,h=e("vendor"),p=h.Mustache,d=u.$,v=e("userresume/collections/gpa"),m=e("userresume/collections/tests"),g=e("userresume/collections/academictests"),y=e("userresume/models/gpa"),b=e("userresume/models/test"),w=f.extend({events:{"click .edit-gpa":"EditGpa","click .edit-test":"EditTest","click .btn-Add-test":"OpenTestPopUp","change .chk-test-Standardized_h":"AddStandardTest","change .chk-test-AP_h":"AddAPTest","click .btn-finish-test-topic_h":"FinishTest","click .btn-finish-gpa_h":"FinishGpa","blur .txtGpa_h":"SaveGpa","click .btn-delete-gpa":"DeleteGpa","click .btn-Add-gpa":"AddGpa","click .btn-Save-Gpa":"SaveNewGpa","blur .txtTestScore_h":"SaveTestScore","click .btn-delete-test_h":"DeleteTestScore"},controls:{BtnFinishTestTopics:".btn-finish-test-topic_h",BtnEditTest:".edit-test",BtnFinishGpa:".btn-finish-gpa_h",BtnEditGpa:".edit-gpa",BtnSaveGpa:".btn-Save-Gpa",ContainerGpa:"#container-academic-gpa",ContainerStandard:"#container-StandardizedTest",ContainerAP:"#container-ApTest",SectionModalTests:".section-modal-academic-tests_h",SectionTestTopics:".section-test-topics_h",ItemTestTopic:".item-test-topic_h",SectionAddGpa:".section-Add-Gpa",TxtScore:".txtTestScore_h",ModalBox:".tests-modal_h",TxtGpa:".txtGpa_h",TxtGpaYear:".txtGpaYear_h",TxtGpaScore:".txtGpaScore_h",lblError:".error_h",lblSuccess:".success_h"},messages:{dataNotExistGPA:"No GPAs entered yet.",dataNotExistTests:"No Tests entered yet.",YearScoreIsRequired:"Year And Score Are Required.",MandatoryFieldsTest:"Please enter a score."},initialize:function(e){f.prototype.initialize.call(this,e),o=this,o.setOptions(e),this.init()},render:function(){f.prototype.render.call(this)},setOptions:function(e){this.user_id=e.user_id},init:function(){o.setupView()},setupView:function(){o.setUpMainView(),o.setUpGpaView(),o.setUpStandardTestView(),o.setUpAPTestView()},setUpMainView:function(){d(o.el).html(o.template)},setUpGpaView:function(){var e={user_id:o.user_id},t=new v(e);t.user_id=o.user_id,t.fetch(),d.when(t.request).done(function(){if(t.isError())return;o.gpa=t.parseAsRequired();var e=p.to_html(n,{data:o.gpa}),r=d(o.el).find(o.controls.ContainerGpa);r.html(e),parseInt(t.models.length)>0?r.find("a#edit-gpa-btn").css("visibility","visible"):r.find("a#edit-gpa-btn").css("visibility","hidden")})},EditGpa:function(e){d(e.target).parent().find(o.controls.TxtGpa).removeAttr("disabled"),d(e.target).parent().find(o.controls.BtnFinishGpa).fadeIn(),d(e.target).fadeOut()},SaveGpa:function(e){var t=d(e.target).attr("year"),n=d(e.target).val(),r={user_id:o.user_id,gpa:n,year:t},i=new y(r);i.user_id=o.user_id,i.target=d(e.target),i.save()},DeleteGpa:function(e){var t=d(e.target).attr("year"),n={user_id:o.user_id,year:t,id1:1},r=new y(n);r.user_id=o.user_id,r.id1=1,r.action="delete",r.target=d(e.target),r.idAttribute="year",r.destroy({data:{user_id:o.user_id,year:t},success:function(){o.setUpGpaView()}}),d.when(r.request).done(function(){d(e.target).parent().find(o.controls.TxtGpa).val("")})},FinishGpa:function(e){d(e.target).parent().find(o.controls.TxtGpa).attr("disabled","disabled"),d(e.target).parent().find(o.controls.BtnEditGpa).fadeIn(),d(e.target).fadeOut()},AddGpa:function(e){o.$(o.controls.SectionAddGpa).fadeIn().css("display","inline-block")},SaveNewGpa:function(e){var t=o.$(o.controls.SectionAddGpa).find(o.controls.TxtGpaYear).val(),n=o.$(o.controls.SectionAddGpa).find(o.controls.TxtGpaScore).val();if(t==""||n=="")o.$(o.controls.SectionAddGpa).find(o.controls.lblError).html(o.messages.YearScoreIsRequired).fadeIn();else{o.$(o.controls.SectionAddGpa).find(o.controls.lblError).html("").fadeOut();var r={user_id:o.user_id,gpa:n,year:t},i=new y(r);i.user_id=o.user_id,i.target=d(e.target).parent(),i.save(),d.when(i.request).done(function(){o.setUpGpaView()})}},setUpStandardTestView:function(){var e={user_id:o.user_id},t=new m(e);t.user_id=o.user_id,t.includeStandard=1,t.includeAp=0,t.fetch(),d.when(t.request).done(function(){if(t.isError())return;o.standardTests=t.parseAsRequired();var e="";d.each(o.standardTests,function(t,n){e+=n.id+","});var n=p.to_html(r,{Test_Type:"Standardized",TestIds:e});d(o.el).find(o.controls.ContainerStandard).html(n);var s=p.to_html(i,{Test_Type:"Standardized",data:o.standardTests});d(o.el).find(o.controls.ContainerStandard).find(o.controls.SectionTestTopics).html(s),o.setUpStandardTestListAllView()})},setUpStandardTestListAllView:function(){var e={user_id:o.user_id},t=new g(e);t.user_id=o.user_id,t.includeStandard=1,t.includeAp=0,t.fetch(),d.when(t.request).done(function(){if(t.isError())return;o.standardTestsListAll=t.parseAsRequired();if(o.standardTestsListAll.length>0){var e=p.to_html(s,{Test_Type:"Standardized",data:o.standardTestsListAll});d(o.el).find(o.controls.ContainerStandard).find(o.controls.SectionModalTests).html(e)}else o.$el(o.controls.ContainerStandard).find(o.controls.SectionModalTests).html(o.messages.dataNotExistTests)})},AddStandardTest:function(e){var t=d(e.target).attr("testid");if(d(e.target).is(":checked")){var n=[];d.each(o.standardTestsListAll,function(e,r){r.id==t&&n.push(r)});var r=p.to_html(i,{Test_Type:"Standardized",data:n});d(o.el).find(o.controls.ContainerStandard).find(o.controls.SectionTestTopics).append(r)}else d(o.el).find(o.controls.ContainerStandard).find(".item-test-"+t).remove()},setUpAPTestView:function(){var e={user_id:o.user_id},t=new m(e);t.user_id=o.user_id,t.includeStandard=0,t.includeAp=1,t.fetch(),d.when(t.request).done(function(){if(t.isError())return;o.apTests=t.parseAsRequired();var e="";d.each(o.apTests,function(t,n){e+=n.id+","});var n=p.to_html(r,{Test_Type:"AP",TestIds:e});d(o.el).find(o.controls.ContainerAP).html(n);var s=p.to_html(i,{Test_Type:"AP",data:o.apTests});d(o.el).find(o.controls.ContainerAP).find(o.controls.SectionTestTopics).html(s),o.setUpAPTestListAllView()})},setUpAPTestListAllView:function(){var e={user_id:o.user_id},t=new g(e);t.user_id=o.user_id,t.includeStandard=0,t.includeAp=1,t.fetch(),d.when(t.request).done(function(){if(t.isError())return;o.apTestsListAll=t.parseAsRequired();if(o.apTestsListAll.length>0){var e=p.to_html(s,{Test_Type:"AP",data:o.apTestsListAll});d(o.el).find(o.controls.ContainerAP).find(o.controls.SectionModalTests).html(e)}else d(o.el).find(o.controls.ContainerAP).find(o.controls.SectionModalTests).html(o.messages.dataNotExistTests)})},AddAPTest:function(e){var t=d(e.target).attr("testid");if(d(e.target).is(":checked")){var n=[];d.each(o.apTestsListAll,function(e,r){r.id==t&&n.push(r)});var r=p.to_html(i,{Test_Type:"Standardized",data:n});d(o.el).find(o.controls.ContainerAP).find(o.controls.SectionTestTopics).append(r)}else d(o.el).find(o.controls.ContainerAP).find(".item-test-"+t).remove()},EditTest:function(e){d(e.target).parents(o.controls.ItemTestTopic).find(o.controls.TxtScore).removeAttr("disabled"),d(e.target).parents(o.controls.ItemTestTopic).find(o.controls.BtnFinishTestTopics).fadeIn(),d(e.target).fadeOut()},FinishTest:function(e){d(e.target).parents(o.controls.ItemTestTopic).find(o.controls.TxtScore).attr("disabled","disabled"),d(e.target).parents(o.controls.ItemTestTopic).find(o.controls.BtnEditTest).fadeIn(),d(e.target).fadeOut()},OpenTestPopUp:function(e){var t=d(e.target).attr("testids"),n=t.split(",");d.each(n,function(t,n){o.$(e.target).parent().find(o.controls.ModalBox).find(".chk-"+n).attr("checked","checked")}),o.$(e.target).parent().find(o.controls.ModalBox).modal("show")},SaveTestScore:function(e){var t=d(e.target).attr("topicId"),n=d(e.target).val(),r=d(e.target).attr("initial"),i="save";if(d.trim(n)==""){d(e.target).parent().find(o.controls.lblError).html(o.messages.MandatoryFieldsTest).fadeIn();return}d(e.target).parent().find(o.controls.lblError).html("").fadeOut();var s={id1:o.user_id,academics_topics_id:t,score:n,users_id:o.user_id};r!=""&&(i="update",s.academics_tests_topics_id=t);var u=d(e.target).attr("testscoreid"),a=new b(s);a.users_id=o.user_id,a.action=i,a.target=d(e.target),a.save({success:function(){}}),d.when(a.request).done(function(){d(e.target).attr("initial",n)})},DeleteTestScore:function(e){var t=d(e.target).attr("topicid"),n={users_id:o.user_id,id1:1,academics_tests_topics_id:t},r=new b(n);r.users_id=o.user_id,r.id1=o.user_id,r.academics_tests_topics_id=t,r.action="delete",r.target=d(e.target),r.destroy({data:{users_id:o.user_id,academics_tests_topics_id:t},success:function(){d(e.target).val("").attr("initial","")}}),d.when(r.request).done(function(){d(e.target).parent().find(o.controls.TxtScore).val("")})}});return w}),define("text!userresume/templates/listAwards.html",[],function(){return'{{#data}}\r\n	<div class="section-rdtree-items_h inset-data-entry">\r\n		<div class="row-fluid awards-sports-header"><span class="standard-subsection-header">{{#icon}}<img src="{{icon}}" />{{/icon}}{{sports_name}}</span></div>\r\n		{{#awards}}\r\n		<div class="section-new-award" style="background-color: #eeeeee; border-bottom: 1px solid #ccc;">\r\n			<div class="row-fluid section-new-controls">\r\n				<span class=""><span class="award-labels">Award Name:</span> <input type="text" class="txtAwards_h txt_name_h" value="{{name}}" disabled="disabled"/></span>\r\n				<span class=""><span class="award-labels">Year Awarded:</span> <input type="text" class="year txtAwards_h txt_year_h" value="{{year}}" disabled="disabled"/></span>\r\n				<span>\r\n					<a href="javascript:void(0)" class="edit edit_award_h"></a>\r\n					<a href="javascript:void(0)" class="resume_button btn-Update_award_h displayNone" sportid="{{sports_id}}" awardid="{{id}}">Save</a>\r\n					<a href="javascript:void(0)" class="resume_button btn-Cancel-Existing_award_h displayNone">Cancel</a>\r\n					<a href="javascript:void(0)" class="remove btn-remove_award_h" awardid="{{id}}"></a>\r\n					<span class="alert alert-danger displayNone error_h"></span>\r\n					<span class="alert alert-success displayNone success_h"></span>\r\n\r\n				</span>\r\n\r\n				<span><textarea style="width:90%;" type="text" class="txtAwards_h txt_description_h" disabled="disabled">{{description}}</textarea></span>\r\n\r\n			</div>\r\n		</div>	\r\n		{{/awards}}\r\n	</div>\r\n	{{/data}}'}),define("user/collections/awards",["facade","collections","user/models/common","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel,i=s.extend({model:n,fetchSuccess:function(e,t){e.reset();var r=t.payload;for(var i in r){var s=r[i];s.sports_id=i;var o=new n;o.id=Math.ceil(Math.random()*1e5),o.set("payload",s),o.set("desc",t.desc),o.set("exec_data",t.exec_data),e.push(o)}e.deferred.resolve(t)}});return i}),define("userresume/collections/awards",["facade","collections","user/collections/awards","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel,i=n.extend({url:function(){return testpath?testpath+"/api/user/awards/"+this.user_id:(this.user_id==undefined,"api/user/awards/"+this.user_id+"?id1="+this.user_id)},parseAsRequired:function(){var e=this,t=e.toJSON(),n=[];return t.length&&$.each(t,function(e,t){if(t!=null&&t.payload!=null){var r=t.payload,i={sports_id:r.id,sports_name:r.name,icon:r.icon,awards:[]};$.each(r.awards,function(e,t){i.awards.push({id:t.id,name:t.name,description:t.description,year:t.year})}),n.push(i)}}),n}});return i}),define("sportorg/models/sport",["facade","models/base"],function(e,t){var n,r=e._;return n=t.extend({}),n}),define("sportorg/collections/sports",["facade","collections","sportorg/models/sport","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel;return i=s.extend({model:n,url:function(){return this.state_name==undefined,"/api/sport/search/?sport_name="+this.sport_name+"&gender="+this.gender},fetchSuccess:function(e,t){e.reset();var r=t.payload;for(var i in r){var s=new n;s.id=Math.ceil(Math.random()*1e5),s.set("payload",r[i]),s.set("desc",t.desc),s.set("exec_data",t.exec_data),e.push(s)}e.deferred.resolve(t),e.processResult(e)},processResult:function(e){},returnProcessedData:function(e){}}),i}),define("userresume/collections/sports",["facade","collections","sportorg/collections/sports","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel;return i=n.extend({sport_type:1,male:1,female:0,url:function(){return testpath?testpath+"/api/sport/listall":(this.gender==undefined,"/api/sport/listall/?sport_type="+this.sport_type+"&male="+this.male+"&female="+this.female+"&sport_type_id="+this.sport_type_id)}}),i}),define("userresume/views/awards",["require","text!userresume/templates/awards.html","text!userresume/templates/listAwards.html","facade","views","utils","vendor","userresume/collections/awards","userresume/collections/sports","userresume/models/award"],function(e,t,n){var r,i=e("facade"),s=e("views"),o=s.SectionView,u=e("utils"),a=u.lib.Channel,f=e("vendor"),l=f.Mustache,c=i.$,h=e("userresume/collections/awards"),p=e("userresume/collections/sports"),d=e("userresume/models/award"),v=o.extend({template:t,events:{"click .btn-Add-award_h":"AddNewAward","click .btn-Save_award_h":"SaveNewAward","click .btn-Update_award_h":"UpdateAward","click .btn-Cancel-New":"CancelNew","click .btn-Cancel-Existing_award_h":"CancelExisting","click .btn-remove_award_h":"RemoveAward","click .edit_award_h":"EditAward"},controls:{listContainer:"#section-list-awards",newAwardContainer:".section-new-award",newAwardControls:".section-new-controls",btnAddAwardsExisting:".btn-Add-Existing",btnAddNew:".btn-Add",btnCancelExisting:".btn-Cancel-Existing_award_h",btnRemoveExisting:".btn-remove_award_h",btnUpdateAwardExisting:".btn-Update_award_h",btnEditAward:".edit_award_h",ddlSports:".ddl-sports-awards_h",newControls:".txtAwards_h",txtName:".txt_name_h",txtDescription:".txt_description_h",txtYear:".txt_year_h",lblError:".error_h",lblSuccess:".success_h"},messages:{dataNotExistAwards:"No Awards Entered Yet.",MandatoryFields:"All fields are mandatory."},initialize:function(e){o.prototype.initialize.call(this,e),r=this,r.setOptions(e),this.init()},render:function(){o.prototype.render.call(this)},setOptions:function(e){this.user_id=e.user_id},init:function(){r.setupView()},setupView:function(){r.setUpMainView(),r.setUpListView()},setUpMainView:function(){var e=l.to_html(r.template,{});c(r.el).html(e)},setUpListView:function(){var e={user_id:r.user_id},t=new h(e);t.user_id=r.user_id,t.fetch(),c.when(t.request).done(function(){if(t.isError())return;r.awards=t.parseAsRequired();if(r.awards.length>0){var e=l.to_html(n,{data:r.awards});c(r.el).find(r.controls.listContainer).html(e)}else c(r.el).find(r.controls.listContainer).html(r.messages.dataNotExistAwards)})},ClearControls:function(e){console.log(c(e.target).parents(r.controls.newAwardContainer).find(r.controls.newAwardControls)),c(e.target).parents(r.controls.newAwardContainer).find(r.controls.newControls).val(""),c(e.target).parents(r.controls.newAwardContainer).find(r.controls.newAwardControls).fadeOut()},AddNewAward:function(e){r.ClearControls(e);var t=c(e.target).parents(r.controls.newAwardContainer).find(r.controls.ddlSports);c(e.target).parents(r.controls.newAwardContainer).find(r.controls.newAwardControls).fadeIn();if(r.sports&&r.sports.length>0){r.setDropdownOptions(r.sports,"sport_name","sport_id",t,"Select Sport");return}var n=new p;n.sport_type=1,n.sport_type_id=1,n.male=1,n.female=0,r.gender=="male"?n.male=1:r.gender=="famale"&&(n.female=0),n.fetch(),c.when(n.request).done(function(){if(n.isError())return;var e=n.toJSON();(e==null||e.length<1)&&r.$(r.controls.ddlSports).parent().find(r.controls.fieldMessage).html(r.messages.dataNotExist).stop().fadeIn(),r.sports=[];for(var i in e)r.sports.push(e[i].payload);r.sort(r.sports,"sport_name",!1),r.setDropdownOptions(r.sports,"sport_name","sport_id",t,"Select Sport")})},AddExistingAward:function(){console.log("Add Existing")},SaveAward:function(e,t){var n=c(e.target).parents(r.controls.newAwardContainer).find(r.controls.newAwardControls),i=c(e.target).attr("sportid")||n.find(r.controls.ddlSports).val(),s=n.find(r.controls.txtName).val(),o=n.find(r.controls.txtYear).val(),u=n.find(r.controls.txtDescription).val();if(i==""||i<1||c.trim(s)==""||c.trim(u)==""||c.trim(o)==""){n.find(r.controls.lblError).html(r.messages.MandatoryFields).fadeIn();return}n.find(r.controls.lblError).html("").fadeOut();var a={description:u,name:s,sports_id:i,year:o,users_id:r.user_id},f=0;t=="update"&&(f=c(e.target).attr("awardid"),a.id1=c(e.target).attr("awardid"));var l=new d(a);l.users_id=r.user_id,l.award_id=f,l.action=t,l.target=c(e.target),l.save(),c.when(l.request).done(function(){r.ClearControls(e),r.setUpListView()})},SaveNewAward:function(e){r.SaveAward(e,"save")},EditAward:function(e){c(e.target).parents(r.controls.newAwardContainer).find(r.controls.newControls).removeAttr("disabled"),c(e.target).fadeOut(),c(e.target).parents(r.controls.newAwardContainer).find(r.controls.btnRemoveExisting).fadeOut(),c(e.target).parents(r.controls.newAwardContainer).find(r.controls.btnUpdateAwardExisting).fadeIn(),c(e.target).parents(r.controls.newAwardContainer).find(r.controls.btnCancelExisting).fadeIn()},UpdateAward:function(e){r.SaveAward(e,"update")},CancelNew:function(e){r.ClearControls(e)},CancelExisting:function(e){c(e.target).fadeOut(),c(e.target).parents(r.controls.newAwardContainer).find(r.controls.btnUpdateAwardExisting).fadeOut(),c(e.target).parents(r.controls.newAwardContainer).find(r.controls.btnEditAward).fadeIn(),c(e.target).parents(r.controls.newAwardContainer).find(r.controls.btnRemoveExisting).fadeIn(),c(e.target).parents(r.controls.newAwardContainer).find("textarea, input").attr("disabled","disabled")},RemoveAward:function(e){var t=c(e.target).attr("awardid"),n={id1:t,award_id:t,users_id:r.user_id},i=new d(n);i.id1=t,i.users_id=r.user_id,i.award_id=t,i.action="delete",i.target=c(e.target),i.destroy({success:function(){r.setUpListView()}})}});return v}),define("user/collections/contacts",["facade","collections","user/models/common","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel,i=s.extend({model:n,fetchSuccess:function(e,t){e.reset();var r=t.payload;for(var i in r){var s=new n;s.id=Math.ceil(Math.random()*1e5),s.set("payload",r[i]),s.set("desc",t.desc),s.set("exec_data",t.exec_data),e.push(s)}e.deferred.resolve(t)}});return i}),define("userresume/collections/contacts",["facade","collections","user/collections/contacts","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel,i=n.extend({url:function(){return testpath?testpath+"/api/user/contact/"+this.user_id:(this.user_id==undefined,"api/user/contact/"+this.user_id+"?id1="+this.user_id)},parseAsRequired:function(){var e=this,t=e.toJSON(),n=[];return t.length&&$.each(t,function(e,t){if(t!=null&&t.payload!=null){var r=t.payload;n.push({gpa:r.gpa,year:r.year})}}),n}});return i}),define("userresume/views/contacts",["require","text!userresume/templates/contact.html","facade","views","utils","vendor","userresume/collections/contacts"],function(e,t){var n,r=e("facade"),i=e("views"),s=i.SectionView,o=e("utils"),u=o.lib.Channel,a=e("vendor"),f=a.Mustache,l=r.$,c=e("userresume/collections/contacts"),h=s.extend({template:t,events:{},controls:{},messages:{dataNotExistContacts:"No Contacts."},initialize:function(e){s.prototype.initialize.call(this,e),n=this,n.setOptions(e),this.init()},render:function(){s.prototype.render.call(this)},setOptions:function(e){this.user_id=e.user_id},init:function(){n.setupView()},setupView:function(){n.setUpMainView(),n.setUpListView()},setUpMainView:function(){},setUpListView:function(){var e=this,n={user_id:e.user_id},r=new c(n);r.user_id=e.user_id,r.fetch(),l.when(r.request).done(function(){if(r.isError())return;e.contacts=r.parseAsRequired();if(e.contacts.length>0){var n=f.to_html(t,{data:e.contacts});l(e.el).find(e.el).html(n)}else l(e.el).find(e.controls.ContainerGpa).html(e.messages.dataNotExistContacts)})}});return h}),define("text!userresume/templates/listReferences.html",[],function(){return'\r\n{{#data}}\r\n<div class="section-rdtree-items_h inset-data-entry">\r\n	<div class="row-fluid awards-sports-header"><span class="standard-subsection-header">{{#icon}}<img src="{{icon}}" />{{/icon}}{{sports_name}}</span></div>\r\n\r\n		{{#references}}\r\n		<div class="section-new-reference"  style="background-color: #eeeeee; border-bottom: 1px solid #ccc; padding-bottom: 10px;">\r\n			<div class="row-fluid section-new-controls">\r\n\r\n				<span class=""><span class="award-labels">Reference Name:</span> <input type="text" class="txtReferences_h txt_name_h" value="{{name}}" disabled="disabled"/></span>\r\n				<span class=""><span class="award-labels">Relationship:</span> <input type="text" class="txtReferences_h txt_relation_h" value="{{relation}}" disabled="disabled"/></span>\r\n				<span class=""><span class="award-labels">Phone:</span> <input type="text" class="txtReferences_h txt_phone_h" value="{{phone}}" disabled="disabled"/></span>\r\n				<span class=""><span class="award-labels">Email:</span> <input type="text" class="txtReferences_h txt_email_h" value="{{email}}" disabled="disabled"/></span>\r\n				<span><textarea style="width:90%;" type="text" class="txtReferences_h txt_description_h" disabled="disabled">{{description}}</textarea></span>\r\n				<br />\r\n				<span class="">\r\n					<a href="javascript:void(0)" class="edit edit_reference_h"></a><a href="javascript:void(0)" class="remove btn-remove_reference_h" referenceid="{{id}}"></a>\r\n					<a href="javascript:void(0)" class="resume_button btn-Update_reference_h displayNone" sportid="{{sports_id}}" referenceid="{{id}}">Save</a>\r\n					<a href="javascript:void(0)" class="resume_button btn-Cancel-Existing_reference_h displayNone">Cancel</a>\r\n\r\n					<span class="alert alert-danger displayNone error_h"></span>\r\n					<span class="alert alert-success displayNone success_h"></span>\r\n					\r\n				</span>\r\n				</div>\r\n		</div>	\r\n		{{/references}}\r\n	</div>\r\n	{{/data}}'}),define("user/collections/references",["facade","collections","user/models/common","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel,i=s.extend({model:n,fetchSuccess:function(e,t){e.reset();var r=t.payload;for(var i in r){var s=r[i];s.sports_id=i;var o=new n;o.id=Math.ceil(Math.random()*1e5),o.set("payload",s),o.set("desc",t.desc),o.set("exec_data",t.exec_data),e.push(o)}e.deferred.resolve(t)}});return i}),define("userresume/collections/references",["facade","collections","user/collections/references","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel,i=n.extend({url:function(){return testpath?testpath+"/api/user/references/"+this.user_id:"api/user/references/"+this.user_id+"?id1="+this.user_id},parseAsRequired:function(){var e=this,t=e.toJSON(),n=[];return console.log("models References",t),t.length&&$.each(t,function(e,t){if(t!=null&&t.payload!=null){var r=t.payload,i={sports_id:r.id,sports_name:r.name,icon:r.icon,references:[]};$.each(r.references,function(e,t){i.references.push({id:t.id,name:t.name,description:t.long_description,relation:t.relation,email:t.email,phone:t.phone})}),n.push(i)}}),console.log("del",n),n}});return i}),define("userresume/views/references",["require","text!userresume/templates/references.html","text!userresume/templates/listReferences.html","facade","views","utils","vendor","userresume/collections/references","userresume/collections/sports","userresume/models/reference"],function(e,t,n){var r,i=e("facade"),s=e("views"),o=s.SectionView,u=e("utils"),a=u.lib.Channel,f=e("vendor"),l=f.Mustache,c=i.$,h=e("userresume/collections/references"),p=e("userresume/collections/sports"),d=e("userresume/models/reference"),v=o.extend({template:t,events:{"click .btn-Add-reference_h":"AddNewReference","click .btn-Save_reference_h":"SaveNewReference","click .btn-Update_reference_h":"UpdateReference","click .btn-Cancel-New":"CancelNew","click .btn-Cancel-Existing_reference_h":"CancelExisting","click .btn-remove_reference_h":"RemoveReference","click .edit_reference_h":"EditReference"},controls:{listContainer:"#section-list-references",newReferenceContainer:".section-new-reference",newReferenceControls:".section-new-controls",btnAddReferencesExisting:".btn-Add-Existing",btnAddNew:".btn-Add",btnCancelExisting:".btn-Cancel-Existing_reference_h",btnRemoveExisting:".btn-remove_reference_h",btnUpdateReferenceExisting:".btn-Update_reference_h",btnEditReference:".edit_reference_h",ddlSports:".ddl-sports-references_h",newControls:".txtReferences_h",txtName:".txt_name_h",txtDescription:".txt_description_h",txtYear:".txt_year_h",txtEmail:".txt_email_h",txtPhone:".txt_phone_h",txtRelation:".txt_relation_h",lblError:".error_h",lblSuccess:".success_h"},messages:{dataNotExistReferences:"No References entered yet.",MandatoryFields:"All Fields are Mandatory."},initialize:function(e){o.prototype.initialize.call(this,e),r=this,r.setOptions(e),this.init()},render:function(){o.prototype.render.call(this)},setOptions:function(e){this.user_id=e.user_id},init:function(){r.setupView()},setupView:function(){r.setUpMainView(),r.setUpListView()},setUpMainView:function(){var e=l.to_html(r.template,{});c(r.el).html(e)},setUpListView:function(){var e={user_id:r.user_id},t=new h(e);t.user_id=r.user_id,t.fetch(),c.when(t.request).done(function(){if(t.isError())return;r.references=t.parseAsRequired();if(r.references.length>0){var e=l.to_html(n,{data:r.references});c(r.el).find(r.controls.listContainer).html(e)}else c(r.el).find(r.controls.listContainer).html(r.messages.dataNotExistReferences)})},ClearControls:function(e){c(e.target).parents(r.controls.newReferenceContainer).find(r.controls.newControls).val(""),c(e.target).parents(r.controls.newReferenceContainer).find(r.controls.newReferenceControls).fadeOut()},AddNewReference:function(e){r.ClearControls(e);var t=c(e.target).parents(r.controls.newReferenceContainer).find(r.controls.ddlSports);c(e.target).parents(r.controls.newReferenceContainer).find(r.controls.newReferenceControls).fadeIn();if(r.sports&&r.sports.length>0){r.setDropdownOptions(r.sports,"sport_name","sport_id",t,"Select Sport");return}var n=new p;n.sport_type=1,n.sport_type_id=1,n.male=1,n.female=0,r.gender=="male"?n.male=1:r.gender=="famale"&&(n.female=0),n.fetch(),c.when(n.request).done(function(){if(n.isError())return;var e=n.toJSON();(e==null||e.length<1)&&r.$(r.controls.ddlSports).parent().find(r.controls.fieldMessage).html(r.messages.dataNotExist).stop().fadeIn(),r.sports=[];for(var i in e)r.sports.push(e[i].payload);r.sort(r.sports,"sport_name",!1),r.setDropdownOptions(r.sports,"sport_name","sport_id",t,"Select Sport")})},AddExistingReference:function(){console.log("Add Existing")},SaveReference:function(e,t){var n=c(e.target).parents(r.controls.newReferenceContainer).find(r.controls.newReferenceControls),i=c(e.target).attr("sportid")||n.find(r.controls.ddlSports).val(),s=n.find(r.controls.txtName).val(),o=n.find(r.controls.txtDescription).val(),u=n.find(r.controls.txtRelation).val(),a=n.find(r.controls.txtEmail).val(),f=n.find(r.controls.txtPhone).val();if(i==""||i<1||c.trim(s)==""||c.trim(f)==""){n.find(r.controls.lblError).html(r.messages.MandatoryFields).fadeIn();return}n.find(r.controls.lblError).html("").fadeOut();var l={users_id:r.user_id,sports_id:i,name:s,relation:u,email:a,phone:f,long_description:o},h=0;t=="update"&&(h=c(e.target).attr("referenceid"),l.id1=c(e.target).attr("referenceid"));var p=new d(l);p.users_id=r.user_id,p.reference_id=h,p.action=t,p.target=c(e.target),p.save(),c.when(p.request).done(function(){r.ClearControls(e),r.setUpListView()})},SaveNewReference:function(e){r.SaveReference(e,"save")},EditReference:function(e){c(e.target).parents(r.controls.newReferenceContainer).find(r.controls.newControls).removeAttr("disabled"),c(e.target).fadeOut(),c(e.target).parents(r.controls.newReferenceContainer).find(r.controls.btnUpdateReferenceExisting).fadeIn(),c(e.target).parents(r.controls.newReferenceContainer).find(r.controls.btnCancelExisting).fadeIn(),c(e.target).parents(r.controls.newAwardContainer).find(r.controls.btnRemoveExisting).fadeOut()},UpdateReference:function(e){r.SaveReference(e,"update")},CancelNew:function(e){r.ClearControls(e)},CancelExisting:function(e){c(e.target).fadeOut(),c(e.target).parents(r.controls.newReferenceContainer).find(r.controls.btnUpdateReferenceExisting).fadeOut(),c(e.target).parents(r.controls.newReferenceContainer).find(r.controls.btnEditReference).fadeIn(),c(e.target).parents(r.controls.newAwardContainer).find(r.controls.btnRemoveExisting).fadeIn()},RemoveReference:function(e){var t=c(e.target).attr("referenceid"),n={id1:t,reference_id:t,users_id:r.user_id},i=new d(n);i.id1=t,i.users_id=r.user_id,i.reference_id=t,i.action="delete",i.target=c(e.target),i.destroy({success:function(){r.setUpListView()}})}});return v}),define("userresume",["require","text!userresume/templates/layout.html","text!userresume/templates/sentresume.html","text!userresume/templates/basic_info_header.html","text!userresume/templates/rdtree.html","text!userresume/templates/academic.html","text!userresume/templates/awards.html","text!userresume/templates/contact.html","text!userresume/templates/references.html","facade","controller","models","views","utils","profilesetting/models/basic_info","userresume/models/resume","userresume/models/rdtree","userresume/models/gpa","userresume/models/award","userresume/models/contact","userresume/models/reference","profilesetting/views/basic_info","userresume/views/sentresumeview","userresume/views/rdtree","userresume/views/academic","userresume/views/awards","userresume/views/contacts","userresume/views/references"],function(e,t,n,r,i,s,o,u,a){var f,l=e("facade"),c=e("controller"),h=e("models"),p=e("views"),d=e("utils"),v=l.$,m=l._,g=d.debug,y=d.lib.Channel,b=p.LayoutView,w=e("profilesetting/models/basic_info"),E=e("userresume/models/resume"),S=e("userresume/models/rdtree"),x=e("userresume/models/gpa"),T=e("userresume/models/award"),N=e("userresume/models/contact"),C=e("userresume/models/reference"),k=e("profilesetting/views/basic_info"),L=e("userresume/views/sentresumeview"),A=e("userresume/views/rdtree"),O=e("userresume/views/academic"),M=e("userresume/views/awards"),_=e("userresume/views/contacts"),D=e("userresume/views/references"),f=c.extend({cssArr:["/pages/profilesetting/profilesettings.css"],events:{},initialize:function(e){return y("load:css").publish(this.cssArr),m.bindAll(this),this.scheme=[],e.id&&(this.id=e.id,this.init()),this},init:function(){this.setupLayout().render(),this.setupView(),this.handleDeferreds()},setupLayout:function(){var e;if(this.layout)return this.layout;var e=new b({scheme:this.scheme,destination:"#main",template:t,displayWhen:"ready"});return this.layout=e,this.layout},setupView:function(){var e=this;this.basicInfoModel=new w,this.basicInfoModel.id=e.id,this.basicInfoModel.fetch(),v.when(this.basicInfoModel.request).done(function(){var t=e.basicInfoModel.toJSON();e.gender=t.payload.gender,e.setUpBasicView(),e.setUpSentResumeView(),e.setUpRdTreeView()})},setUpBasicView:function(){var e=this;this.basicView=new k({model:new w,template:r,name:"basic-info",destination:"#section-basics-prof-setting",user_id:e.id,id:e.id}),this.scheme.push(this.basicView)},setUpSentResumeView:function(){var e=this;this.sentResumeView=new L({model:new E,template:n,name:"sent-resume",destination:"#section-sent-resume",user_id:e.id,id:e.id}),this.scheme.push(this.sentResumeView),this.layout.render()},setUpRdTreeView:function(){var e=this;this.rdTreeView=new A({model:new S,template:i,name:"rd-tree",destination:"#section-RD-Tree",user_id:e.id}),this.scheme.push(this.rdTreeView),this.layout.render()},setUpAcademicView:function(){var e=this;this.academicView=new O({model:new x,template:s,name:"resume-academic",destination:"#section-academic",user_id:e.id}),this.scheme.push(this.academicView),this.layout.render()},setUpAwardsView:function(){var e=this;this.awardsView=new M({model:new T,template:o,name:"resume-awards",destination:"#section-awards",user_id:e.id}),this.scheme.push(this.awardsView),this.layout.render()},setUpContactsView:function(){var e=this;this.contactsView=new _({model:new N,template:u,name:"resume-contacts",destination:"#section-contacts",user_id:e.id}),this.scheme.push(this.contactsView),this.layout.render()},setUpReferenceView:function(){var e=this;this.referenceView=new D({model:new C,template:a,name:"resume-references",destination:"#section-references",user_id:e.id}),this.scheme.push(this.referenceView),this.layout.render()}});return f});