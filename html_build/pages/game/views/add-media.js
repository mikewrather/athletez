define(["require","text!media/templates/add-media.html","game/models/addmedia","facade","views","sportorg/models/team"],function(e,t){var n,r=e("facade"),i=e("views"),s=i.SectionView,o=e("sportorg/models/team"),u=r._;return GameAddMediaView=s.extend({id:"add-media",template:t,events:{"click #addPhoto":"openAddImagePopup"},game_model:{},initialize:function(e){s.prototype.initialize.call(this,e)},setOptions:function(e){if(!this.model)throw new Error("AddMediaView expects option with model property.")},childViews:{},render:function(e,t,n){s.prototype.render.call(this,e,t,n)},openAddImagePopup:function(e){var t=new o({id:this.game_model.attributes.payload.teams[0].id});t.fetch();var n=this;$.when(t.request).done(function(){var e="/api/game/addimage/"+n.game_model.attributes.id,r={sports_id:t.attributes.payload.org_sport_link_obj.sports_id};routing.trigger("add-image",e,r)})}}),GameAddMediaView});