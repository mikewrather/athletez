define(["require","text!signup/templates/registration.html","backbone","underscore","registration","views","signup/views/facebooksignup","facade","utils"],function(e,t,n,r,i){var s,o=e("facade"),u=e("views"),a=e("signup/views/facebooksignup"),f=e("utils"),l=f.lib.Channel,c=n.View;return s=c.extend({initialize:function(e){this.registrationController=new i({route:""}),this.template=r.template(t),this.$el=$(e.destination),$("#errormsg, #preview").html(""),c.prototype.initialize.call(this,e),debug.log("Image upload basic view"),$("#RegModal").modal("show"),$("#RegModal").on("hidden",function(){}),$("#RegModal").on("hide",function(){$("div#modalPopup").remove()}),this.render()},render:function(){this.$el.html(this.template)},events:{"click .regsubmit":"next","click #fbpane":"signupFacebook"},next:function(e){e.preventDefault();var t=this.$(":input").serializeArray(),n=!0;$.each(t,function(e,t){if(!t.value)return alert(t.name+" is blank"),n=!1,!1}),n&&routing.trigger("register-basic-final",t)},signupFacebook:function(e){e.preventDefault(),$("#RegModal").modal("hide"),headView=new a,headView.signupFacebook()}}),s});