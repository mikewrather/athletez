define(["vendor","facade","views","utils","schedules/views/schedule-item","utils/storage","text!schedules/templates/schedule-list.html"],function(e,t,n,r,i,s,o){var u,a,f=t.$,l=t._,c=r.lib.Channel,h=n.CollectionView,p=e.Mustache,d=n.SectionView;return a=h.extend(d.prototype),u=a.extend({__super__:h.prototype,id:"schedule-list",name:"schedule List",_tagName:"li",_className:"org",_view:i,events:{"click .add-game-h":"addGame","mouseover .team-info-h":"showinfo","mouseout .team-info-h":"showinfo"},showinfo:function(e){e.preventDefault(),f(e.target).parents(".game-info").length||(f(e.target).find(".game-info").hasClass("hide")?f(e.target).find(".game-info").removeClass("hide"):f(".game-info").addClass("hide"))},checkForUser:function(){return!l.isUndefined(routing.userLoggedIn)&&routing.userLoggedIn?!0:!1},addGame:function(e){if(!this.checkForUser()){f(".signup-email").trigger("click");return}!l.isUndefined(this.teamRecords)&&this.teamRecords?routing.trigger("add-game",0,f("#team-h").val(),f("#sports-h").val()):routing.trigger("add-game",0,f(e.currentTarget).data("team-id"),f(e.currentTarget).data("sport-id"))},initialize:function(e){this.teamRecords=e.teamRecords;if(!l.isUndefined(e.teamRecords)&&e.teamRecords){var t=e.collection.toJSON();this.renderTemplate(),this.listView=".schedule-list-h",this.singleView=!0}else this.tagName="ul";h.prototype.initialize.call(this,e);if(!this.collection)throw new Error("Schedulr expected options.collection.");l.bindAll(this),this.addSubscribers()},renderTemplate:function(){var e=p.to_html(o,{data:this.collection.length});return console.error(e),this.$el.html(e),this}}),u});