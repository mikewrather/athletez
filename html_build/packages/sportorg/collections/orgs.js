define(["facade","collections","sportorg/models/org","utils"],function(e,t,n,r){var i,s=t.BaseCollection,o=e._,u=r.lib.Channel;return i=s.extend({model:n,url:function(){var e=this,t="/api/org/search?sports_club="+encodeURIComponent(e.sports_club)+"&states_id="+encodeURIComponent(e.states_id)+"&org_name="+encodeURIComponent(e.org_name);return e.single_sport_id&&(t+="&single_sport_id="+e.single_sport_id),t},fetchSuccess:function(e,t){e.reset();var r=t.payload;for(var i in r){var s=new n;s.id=Math.ceil(Math.random()*1e5);var o=r[i],u=o.teams,a=[];for(var f in u){var l=u[f];a.push(l)}o.teams=a,s.set("payload",r[i]),s.set("desc",t.desc),s.set("exec_data",t.exec_data),e.push(s)}e.deferred.resolve(t)},isError:function(){return!1}}),i});