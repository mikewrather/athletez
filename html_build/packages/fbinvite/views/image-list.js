define(["facade","views","utils","packages/fbinvite/views/image-item","text!packages/fbinvite/templates/image-list.html","votes/models/follow"],function(e,t,n,r,i){var s,o,u=e.$,a=e._,f=require("vendor"),l=require("votes/models/follow"),c=n.lib.Channel,h=t.CollectionView,p=t.SectionView,d=f.Mustache;return o=h.extend(p.prototype),s=o.extend({__super__:h.prototype,template:i,_tagName:"li",_className:"image",page:0,FBoptions:{},page_limit:20,listView:".image-list",_view:r,events:{"click .see-more-h":"seeMore"},renderTemplate:function(){var e=d.to_html(this.template,{target:this.target_id});return this.$el.html(e),this},checkForUser:function(){return!a.isUndefined(routing.userLoggedIn)&&routing.userLoggedIn?!0:!1},initialize:function(e){e.name?this.name=e.name:this.name="image list",this.renderTemplate(),console.error(e),this.FBoptions=e.FBOptions,this.pageName=e.pageName?e.pageName:"profile",e.collecton&&(this.collection=e.collection),this.data=e.data,this.controllerObject=e.controllerObject;var t=this;t.allData=this.collection.toArray();var n=t.allData.length;t.start=0,t.end=t.page_limit,t.page_limit=8,t.seeMore(),h.prototype.initialize.call(this,e);if(!this.collection)throw new Error("ImageListView expected options.collection.");a.bindAll(this),this.addSubscribers()},seeMore:function(e){var t=this.allData.length;e&&(this.start=this.end,this.end=this.end+this.page_limit),t<=this.end&&this.$el.find(".see-more-h").hide(),e?this.collection.add(this.allData.slice(this.start,this.end)):this.collection.reset(this.allData.slice(this.start,this.end)),this.page++,e&&this.addSubscribers&&this.addSubscribers()},childViews:{}}),s});