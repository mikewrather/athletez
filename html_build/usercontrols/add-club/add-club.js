define(["require","facade","controller","models","views","user/models/basic_info","usercontrols/add-club/views/main"],function(e){var t=e("facade"),n=e("controller"),r=e("models"),i=e("views"),s=e("utils"),o=t.$,u=t._,a=s.debug,f=s.lib.Channel,l=i.LayoutView,c=t.Backbone,h=e("user/models/basic_info"),p=e("usercontrols/add-club/views/main");return n.extend({cssArr:["/usercontrols/add-club/add-club.css"],events:{},initialize:function(e){var t=this;f("load:css").publish(this.cssArr),u.bindAll(this),e.id&&(this.id=e.id),e.index&&(this.index=e.index),e.userId&&(this.userId=e.userId),e.type&&(this.type=e.type),this.viewObj=e.viewObj,this.callback=e.callback,e._collection&&(this._collection=e._collection),this.modelHTML='<div class="add-club-area-h photo-player"></div>',this.setupLayout().render(),this.setUpMainView()},setupLayout:function(){this.scheme=[];var e=new l({scheme:this.scheme,destination:"#modalBody",template:"",displayWhen:"ready"});this.layout=e;var t={};return t.height="500px",t.width="500px",t.title=this.type=="school"?"Add School":"Add Club",routing.trigger("common-popup-open",t),this.layout},setUpMainView:function(){var e=this,t=new p({model:new h,name:"add club",destination:"#modalBody",addType:e.type,callback:e.callback,viewObj:e.viewObj});e.scheme.push(t),e.layout.render()}})});