define(["vendor","views","utils","text!usercontrol/photo-player/templates/tag-item.html","common/models/delete"],function(e,t,n,r,i){var s,o=t.BaseView,u=e.Mustache;return s=o.extend({tagName:"li",template:r,className:"tag",events:{"click .deleteTag":"deleteTag"},initialize:function(e){},filterData:function(){var e=this,t=this.model.get("payload"),n={_enttypes_id:t.enttypes_id,_id:t.id},r=!1,i=null;n.Sportsteam=null,console.log(t.subject,"for testing");switch(t.subject_enttypes_id){case"23":n._thumbnail=t.thumbs,n._label=t.media.name,n._link="javascript: void(0);",t.media.hasOwnProperty("is_owner")&&(r=t.media.is_owner);break;case"21":typeof t.types=="object"?typeof t.types.standard_thumb=="object"?(i=t.types.standard_thumb,n._thumbnail=i.url):typeof t.types.large_thumb=="object"?(i=t.types.large_thumb,n._thumbnail=i.url):typeof t.types.original=="object"&&(i=t.types.original,n._thumbnail=i.url):n._label=t.media_obj.name,n._link="javascript: void(0);",t.media_obj.hasOwnProperty("is_owner")&&(r=t.media_obj.is_owner);break;case"1":typeof t.subject.user_picture_obj=="object"&&typeof t.subject.user_picture_obj.types=="object"&&(typeof t.subject.user_picture_obj.types.standard_thumb=="object"?(i=t.subject.user_picture_obj.types.standard_thumb,n._thumbnail=i.url):typeof t.subject.user_picture_obj.types.large_thumb=="object"?(i=t.subject.user_picture_obj.types.large_thumb,n._thumbnail=i.url):typeof t.subject.user_picture_obj.types.original=="object"&&(i=t.subject.user_picture_obj.types.original,n._thumbnail=i.url)),n._label=t.subject.label,n._link="/#!profile/"+t.subject.id,t.hasOwnProperty("is_owner")&&(r=t.is_owner);break;case"8":n._detailclass="game",i=t.subject.game_picture!==null?t.subject.game_picture.types.standard_thumb:{height:440,width:440,url:"http://lorempixel.com/output/sports-q-g-440-440-3.jpg"},n._thumbnail=i.url,n._link="/#!game/"+t.subject.id;var s="",o=function(e){return e=e.toLowerCase(),e.replace(/(^([a-zA-Z\p{M}]))|([ -][a-zA-Z\p{M}])/g,function(e){return e.toUpperCase()})},a=t.subject.teams?t.subject.teams.length:0;for(var f=0;f<a;f++){if(f%2==1)var l="game-match-name1",c="game-score1";else var l="game-match-name",c="game-score";s+='<div class="'+l+'">',console.log(t.subject.teams[f].team_name+",score="+t.subject.teams[f].points_scored+",i="+f),s+=o(t.subject.teams[f].team_name),s+="</div>",s+='<div class="'+c+'">',s+='<span class="scoreAlign">',s+=t.subject.teams[f].points_scored!=null?t.subject.teams[f].points_scored:"--",s+="</span>",s+="</div>"}n._label=s!=""?s:t.subject.event_name,console.log(n._label),t.hasOwnProperty("is_owner")&&(r=t.is_owner);if(!this.Sportsteam&&a){this.Sportsteam=!0;var h=t.subject.shared.season,p=h.split(" "),d='<div class="name"><span class="topalign">'+t.subject.shared.sport+'</span></div>	<div class="game"><span class="topalign">'+t.subject.shared.complevel+'</span></div><div class="season"><span class="topalign">'+p[2]+"</span></div>";$(".headerinfo").html(d)}break;case"5":n._detailclass="team",i=t.subject.picture!==null?t.subject.picture:{height:440,width:440,url:"http://lorempixel.com/output/sports-q-g-440-440-3.jpg"},n._thumbnail="",n._link="/#!team/"+t.subject_id;var s=t.subject.team_name;t.hasOwnProperty("is_owner")&&(r=t.is_owner),n._label=s}n.show_edit=r==1?!0:undefined,console.log(n);var v=u.to_html(this.template,n);this.$el.html(v)},render:function(){return this.filterData(),this},deleteTag:function(e){var t=new i;t.subject_id=$(e.target).attr("data-subject-id"),t.enttypes_id=$(e.target).attr("data-enttypes-id"),t.removeNode=$(e.target).parents("li.tags-li"),console.log(t),t.destroyAndRemove()}}),s});