/**
 * Copyright Facebook Inc.
 *
 * Licensed under the Apache License, Version 2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 */

/**
		 * @providesModule JSON3
		 * @preserve-header
		 *
		 *! JSON v3.2.3 | http://bestiejs.github.com/json3 | Copyright 2012, Kit Cambridge | http://kit.mit-license.org
		 */

try{window.FB||function(e){function o(){}var t=e,n=e.document,r=e.setTimeout,i=e.setInterval,s=0,u,a;a=function(e){return e[0]},u=function(e){return e};var f,l;(function(e){var t={},n={},r=["global","require","requireDynamic","requireLazy","module","exports"];f=function(r,i){if(n.hasOwnProperty(r))return n[r];if(!t.hasOwnProperty(r)){if(i)return null;throw new Error("Module "+r+" has not been defined")}var s=t[r],o=s.deps,u=o.length,a,l=[];for(var c=0;c<u;c++){switch(o[c]){case"module":a=s;break;case"exports":a=s.exports;break;case"global":a=e;break;case"require":a=f;break;case"requireDynamic":a=f;break;case"requireLazy":a=null;break;default:a=f.call(null,o[c])}l.push(a)}return s.factory.apply(e,l),n[r]=s.exports,s.exports},l=function(e,i,s,o){typeof s=="function"?(t[e]={factory:s,deps:r.concat(i),exports:{}},o===3&&f.call(null,e)):n[e]=s}})(this);var c=function(){return l("ES5ArrayPrototype",[],function(e,t,n,r,i,s){var o={};o.map=function(e,t){if(typeof e!="function")throw new TypeError;var n,r=this.length,i=new Array(r);for(n=0;n<r;++n)n in this&&(i[n]=e.call(t,this[n],n,this));return i},o.forEach=function(e,t){o.map.call(this,e,t)},o.filter=function(e,t){if(typeof e!="function")throw new TypeError;var n,r,i=this.length,s=[];for(n=0;n<i;++n)n in this&&(r=this[n],e.call(t,r,n,this)&&s.push(r));return s},o.every=function(e,t){if(typeof e!="function")throw new TypeError;var n=new Object(this),r=n.length;for(var i=0;i<r;i++)if(i in n&&!e.call(t,n[i],i,n))return!1;return!0},o.some=function(e,t){if(typeof e!="function")throw new TypeError;var n=new Object(this),r=n.length;for(var i=0;i<r;i++)if(i in n&&e.call(t,n[i],i,n))return!0;return!1},o.indexOf=function(e,t){var n=this.length;t|=0,t<0&&(t+=n);for(;t<n;t++)if(t in this&&this[t]===e)return t;return-1},i.exports=o}),l("ES5FunctionPrototype",[],function(e,t,n,r,i,s){var o={};o.bind=function(e){function r(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}if(typeof this!="function")throw new TypeError("Bind must be called on a function");var t=this,n=Array.prototype.slice.call(arguments,1);return r.displayName="bound:"+(t.displayName||t.name||"(?)"),r.toString=function(){return"bound: "+t},r},i.exports=o}),l("ES5StringPrototype",[],function(e,t,n,r,i,s){var o={};o.trim=function(){if(this==null)throw new TypeError("String.prototype.trim called on null or undefined");return String.prototype.replace.call(this,/^\s+|\s+$/g,"")},i.exports=o}),l("ES5Array",[],function(e,t,n,r,i,s){var o={};o.isArray=function(e){return Object.prototype.toString.call(e)=="[object Array]"},i.exports=o}),l("ES5Object",[],function(e,t,n,r,i,s){var o={};o.create=function(e){var t=typeof e;if(t!="object"&&t!="function")throw new TypeError("Object prototype may only be a Object or null");var n=new Function;return n.prototype=e,new n},o.keys=function(e){var t=typeof e;if(t!="object"&&t!="function"||e===null)throw new TypeError("Object.keys called on non-object");var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(r);var i=!{toString:!0}.propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","prototypeIsEnumerable","constructor"];if(i)for(var o=0;o<s.length;o++){var u=s[o];Object.prototype.hasOwnProperty.call(e,u)&&n.push(u)}return n},i.exports=o}),l("ES5Date",[],function(e,t,n,r,i,s){var o={};o.now=function(){return(new Date).getTime()},i.exports=o}),l("JSON3",[],function(e,t,n,r,i,s){(function(){var e={}.toString,t,n,r,s=i.exports={},o='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S=new Date(-0xc782b5b800cec),x,T,N;try{S=S.getUTCFullYear()==-109252&&S.getUTCMonth()===0&&S.getUTCDate()==1&&S.getUTCHours()==10&&S.getUTCMinutes()==37&&S.getUTCSeconds()==6&&S.getUTCMilliseconds()==708}catch(C){}S||(x=Math.floor,T=[0,31,59,90,120,151,181,212,243,273,304,334],N=function(e,t){return T[t]+365*(e-1970)+x((e-1969+(t=+(t>1)))/4)-x((e-1901+t)/100)+x((e-1601+t)/400)}),typeof JSON=="object"&&JSON&&(s.stringify=JSON.stringify,s.parse=JSON.parse);if(u=typeof s.stringify=="function"&&!N){(S=function(){return 1}).toJSON=S;try{u=s.stringify(0)==="0"&&s.stringify(new Number)==="0"&&s.stringify(new String)=='""'&&s.stringify(e)===r&&s.stringify(r)===r&&s.stringify()===r&&s.stringify(S)==="1"&&s.stringify([S])=="[1]"&&s.stringify([r])=="[null]"&&s.stringify(null)=="null"&&s.stringify([r,e,null])=="[null,null,null]"&&s.stringify({result:[S,true,false,null,"\0\b\n\f\r	"]})==o&&s.stringify(null,S)==="1"&&s.stringify([1,2],null,1)=="[\n 1,\n 2\n]"&&s.stringify(new Date(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&s.stringify(new Date(864e13))=='"+275760-09-13T00:00:00.000Z"'&&s.stringify(new Date(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&s.stringify(new Date(-1))=='"1969-12-31T23:59:59.999Z"'}catch(C){u=!1}}if(typeof s.parse=="function")try{if(s.parse("0")===0&&!s.parse(!1)){S=s.parse(o);if(h=S.A.length==5&&S.A[0]==1){try{h=!s.parse('"	"')}catch(C){}if(h)try{h=s.parse("01")!=1}catch(C){}}}}catch(C){h=!1}S=o=null;if(!u||!h)(t={}.hasOwnProperty)||(t=function(n){var r={},i;return(r.__proto__=null,r.__proto__={toString:1},r).toString!=e?t=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(i=r.constructor,t=function(e){var t=(this.constructor||i).prototype;return e in this&&!(e in t&&this[e]===t[e])}),r=null,t.call(this,n)}),n=function(n,r){var i=0,s,o,u,a;(s=function(){this.valueOf=0}).prototype.valueOf=0,o=new s;for(u in o)t.call(o,u)&&i++;return s=o=null,i?i==2?a=function(n,r){var i={},s=e.call(n)=="[object Function]",o;for(o in n)(!s||o!="prototype")&&!t.call(i,o)&&(i[o]=1)&&t.call(n,o)&&r(o)}:a=function(n,r){var i=e.call(n)=="[object Function]",s,o;for(s in n)(!i||s!="prototype")&&t.call(n,s)&&!(o=s==="constructor")&&r(s);(o||t.call(n,s="constructor"))&&r(s)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],a=function(n,r){var i=e.call(n)=="[object Function]",s,u;for(s in n)(!i||s!="prototype")&&t.call(n,s)&&r(s);for(u=o.length;s=o[--u];t.call(n,s)&&r(s));}),a(n,r)},u||(a={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},f=function(e,t){return("000000"+(t||0)).slice(-e)},l=function(e){var t='"',n=0,r;for(;r=e.charAt(n);n++)t+='\\"\b\f\n\r	'.indexOf(r)>-1?a[r]:r<" "?"\\u00"+f(2,r.charCodeAt(0).toString(16)):r;return t+'"'},c=function(i,s,o,u,a,h,p){var d=s[i],v,m,g,y,b,w,E,S,T,C,k,L,A,O,M;if(typeof d=="object"&&d){v=e.call(d);if(v=="[object Date]"&&!t.call(d,"toJSON"))if(d>-1/0&&d<1/0){if(N){y=x(d/864e5);for(m=x(y/365.2425)+1970-1;N(m+1,0)<=y;m++);for(g=x((y-N(m,0))/30.42);N(m,g+1)<=y;g++);y=1+y-N(m,g),b=(d%864e5+864e5)%864e5,w=x(b/36e5)%24,E=x(b/6e4)%60,S=x(b/1e3)%60,T=b%1e3}else m=d.getUTCFullYear(),g=d.getUTCMonth(),y=d.getUTCDate(),w=d.getUTCHours(),E=d.getUTCMinutes(),S=d.getUTCSeconds(),T=d.getUTCMilliseconds();d=(m<=0||m>=1e4?(m<0?"-":"+")+f(6,m<0?-m:m):f(4,m))+"-"+f(2,g+1)+"-"+f(2,y)+"T"+f(2,w)+":"+f(2,E)+":"+f(2,S)+"."+f(3,T)+"Z"}else d=null;else typeof d.toJSON=="function"&&(v!="[object Number]"&&v!="[object String]"&&v!="[object Array]"||t.call(d,"toJSON"))&&(d=d.toJSON(i))}o&&(d=o.call(s,i,d));if(d===null)return"null";v=e.call(d);if(v=="[object Boolean]")return""+d;if(v=="[object Number]")return d>-1/0&&d<1/0?""+d:"null";if(v=="[object String]")return l(d);if(typeof d=="object"){for(A=p.length;A--;)if(p[A]===d)throw TypeError();p.push(d),C=[],O=h,h+=a;if(v=="[object Array]"){for(L=0,A=d.length;L<A;M||(M=!0),L++)k=c(L,d,o,u,a,h,p),C.push(k===r?"null":k);return M?a?"[\n"+h+C.join(",\n"+h)+"\n"+O+"]":"["+C.join(",")+"]":"[]"}return n(u||d,function(e){var t=c(e,d,o,u,a,h,p);t!==r&&C.push(l(e)+":"+(a?" ":"")+t),M||(M=!0)}),M?a?"{\n"+h+C.join(",\n"+h)+"\n"+O+"}":"{"+C.join(",")+"}":"{}"}},s.stringify=function(t,n,r){var i,s,o,u,a,f;if(typeof n=="function"||typeof n=="object"&&n)if(e.call(n)=="[object Function]")s=n;else if(e.call(n)=="[object Array]"){o={};for(u=0,a=n.length;u<a;f=n[u++],(e.call(f)=="[object String]"||e.call(f)=="[object Number]")&&(o[f]=1));}if(r)if(e.call(r)=="[object Number]"){if((r-=r%1)>0)for(i="",r>10&&(r=10);i.length<r;i+=" ");}else e.call(r)=="[object String]"&&(i=r.length<=10?r:r.slice(0,10));return c("",(f={},f[""]=t,f),s,o,i,"",[])}),h||(p=String.fromCharCode,d={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"	",n:"\n",f:"\f",r:"\r"},v=function(){throw w=E=null,SyntaxError()},m=function(){var e=E,t=e.length,n,r,i,s,o;while(w<t){n=e.charAt(w);if("	\r\n ".indexOf(n)>-1)w++;else{if("{}[]:,".indexOf(n)>-1)return w++,n;if(n=='"'){for(r="@",w++;w<t;){n=e.charAt(w);if(n<" ")v();else if(n=="\\"){n=e.charAt(++w);if('\\"/btnfr'.indexOf(n)>-1)r+=d[n],w++;else if(n=="u"){i=++w;for(s=w+4;w<s;w++)n=e.charAt(w),n>="0"&&n<="9"||n>="a"&&n<="f"||n>="A"&&n<="F"||v();r+=p("0x"+e.slice(i,w))}else v()}else{if(n=='"')break;r+=n,w++}}if(e.charAt(w)=='"')return w++,r;v()}else{i=w,n=="-"&&(o=!0,n=e.charAt(++w));if(n>="0"&&n<="9"){n=="0"&&(n=e.charAt(w+1),n>="0"&&n<="9")&&v(),o=!1;for(;w<t&&(n=e.charAt(w),n>="0"&&n<="9");w++);if(e.charAt(w)=="."){s=++w;for(;s<t&&(n=e.charAt(s),n>="0"&&n<="9");s++);s==w&&v(),w=s}n=e.charAt(w);if(n=="e"||n=="E"){n=e.charAt(++w),(n=="+"||n=="-")&&w++;for(s=w;s<t&&(n=e.charAt(s),n>="0"&&n<="9");s++);s==w&&v(),w=s}return+e.slice(i,w)}o&&v();if(e.slice(w,w+4)=="true")return w+=4,!0;if(e.slice(w,w+5)=="false")return w+=5,!1;if(e.slice(w,w+4)=="null")return w+=4,null;v()}}}return"$"},g=function(e){var t,n,r;e=="$"&&v();if(typeof e=="string"){if(e.charAt(0)=="@")return e.slice(1);if(e=="["){t=[];for(;;n||(n=!0)){e=m();if(e=="]")break;n&&(e==","?(e=m(),e=="]"&&v()):v()),e==","&&v(),t.push(g(e))}return t}if(e=="{"){t={};for(;;n||(n=!0)){e=m();if(e=="}")break;n&&(e==","?(e=m(),e=="}"&&v()):v()),(e==","||typeof e!="string"||e.charAt(0)!="@"||m()!=":")&&v(),t[e.slice(1)]=g(m())}return t}v()}return e},b=function(e,t,n){var i=y(e,t,n);i===r?delete e[t]:e[t]=i},y=function(t,r,i){var s=t[r],o;if(typeof s=="object"&&s)if(e.call(s)=="[object Array]")for(o=s.length;o--;)b(s,o,i);else n(s,function(e){b(s,e,i)});return i.call(t,r,s)},s.parse=function(t,n){w=0,E=t;var r=g(m());return m()!="$"&&v(),w=E=null,n&&e.call(n)=="[object Function]"?y((S={},S[""]=r,S),"",n):r})}).call(this)}),l("ES5",["ES5ArrayPrototype","ES5FunctionPrototype","ES5StringPrototype","ES5Array","ES5Object","ES5Date","JSON3"],function(t,n,r,i,s,o){function x(e,t,n){var r=d.call(arguments,3),i=n?/\s(.*)\]/.exec(v.call(e).toLowerCase())[1]:e,s=m[i+"."+t]||e[t];if(typeof s=="function")return s.apply(e,r)}var u=n("ES5ArrayPrototype"),a=n("ES5FunctionPrototype"),f=n("ES5StringPrototype"),l=n("ES5Array"),c=n("ES5Object"),h=n("ES5Date"),p=n("JSON3"),d=Array.prototype.slice,v=Object.prototype.toString,m={"JSON.stringify":p.stringify,"JSON.parse":p.parse},g={array:u,"function":a,string:f,Object:c,Array:l,Date:h};for(var y in g){if(!g.hasOwnProperty(y))continue;var b=g[y],w=y===y.toLowerCase()?e[y.replace(/^\w/,function(e){return e.toUpperCase()})].prototype:e[y];for(var E in b){if(!b.hasOwnProperty(E))continue;var S=w[E];m[y+"."+E]=S&&/\{\s+\[native code\]\s\}/.test(S)?S:b[E]}}s.exports=x}),c=f("ES5"),c.apply(null,arguments)};l("sdk.RuntimeConfig",[],{locale:"en_US",rtl:!1}),l("SDKConfig",[],{bustCache:!0,tagCountLogRate:.01,errorHandling:{rate:4},usePluginPipe:!0,features:{kill_fragment:!0,xfbml_profile_pic_server:!0,error_handling:{rate:4},e2e_ping_tracking:{rate:1e-6}},api:{mode:"warn",whitelist:["Canvas","Canvas.Prefetcher","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.hideFlashElement","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.showFlashElement","Canvas.startTimer","Canvas.stopTimer","Data","Data.process","Data.query","Data.query:wait","Data.waitOn","Data.waitOn:wait","Event","Event.subscribe","Event.unsubscribe","Music.flashCallback","Music.init","Music.send","Payment","Payment.cancelFlow","Payment.continueFlow","Payment.init","Payment.lockForProcessing","Payment.unlockForProcessing","Payment.parse","Payment.setSize","ThirdPartyProvider","ThirdPartyProvider.init","ThirdPartyProvider.sendData","UA","UA.nativeApp","XFBML","XFBML.RecommendationsBar","XFBML.RecommendationsBar.markRead","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui","ui:subscribe"]},initSitevars:{enableMobileComments:1,iframePermissions:{read_stream:!1,manage_mailbox:!1,manage_friendlists:!1,read_mailbox:!1,publish_checkins:!0,status_update:!0,photo_upload:!0,video_upload:!0,sms:!1,create_event:!0,rsvp_event:!0,offline_access:!0,email:!0,xmpp_login:!1,create_note:!0,share_item:!0,export_stream:!1,publish_stream:!0,publish_likes:!0,ads_management:!1,contact_email:!0,access_private_data:!1,read_insights:!1,read_requests:!1,read_friendlists:!0,manage_pages:!1,physical_login:!1,manage_groups:!1,read_deals:!1}}}),l("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",connect:"connect.facebook.net",business:"business.facebook.com",api_https:"api.facebook.com",api_read_https:"api-read.facebook.com",graph_https:"graph.facebook.com",fbcdn_http:"static.ak.fbcdn.net",fbcdn_https:"fbstatic-a.akamaihd.net",cdn_http:"static.ak.facebook.com",cdn_https:"s-static.ak.facebook.com"}),l("XDConfig",[],{XdUrl:"connect/xd_arbiter.php?version=40",Flash:{path:"https://connect.facebook.net/rsrc.php/v1/yR/r/ks_9ZXiQ0GL.swf"},useCdn:!0}),l("CssConfig",[],{rules:'.fb_hidden{position:absolute;top:-10000px;z-index:10001}\n.fb_invisible{display:none}\n.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}\n.fb_reset > div{overflow:hidden}\n.fb_link img{border:none}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}\n.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}\n.fb_dialog_content{background:#fff;color:#333}\n.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\\9;right:7px\\9}\n.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}\n.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}\n.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}\n.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}\n.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}\n.fb_dialog_top_left,\n.fb_dialog_top_right,\n.fb_dialog_bottom_left,\n.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}\n.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}\n.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}\n.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}\n.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}\n.fb_dialog_vert_left,\n.fb_dialog_vert_right,\n.fb_dialog_horiz_top,\n.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}\n.fb_dialog_vert_left,\n.fb_dialog_vert_right{width:10px;height:100%}\n.fb_dialog_vert_left{margin-left:-10px}\n.fb_dialog_vert_right{right:0;margin-right:-10px}\n.fb_dialog_horiz_top,\n.fb_dialog_horiz_bottom{width:100%;height:10px}\n.fb_dialog_horiz_top{margin-top:-10px}\n.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}\n.fb_dialog_iframe{line-height:0}\n.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}\n.fb_dialog_content .dialog_title > span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif)\nno-repeat 5px 50%;float:left;padding:5px 0 7px 26px}\nbody.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}\n.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif)\nwhite no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}\n.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}\n#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}\n#fb-root #fb_dialog_ipad_overlay.hidden{display:none}\n.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}\n.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}\n.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%\n}\n.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px\n}\n.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px\n}\n.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6),\ncolor-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,\nrgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}\n.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\n.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}\n.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}\n.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}\n#fb_dialog_loader_close{float:left}\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}\n.fb_iframe_widget{display:inline-block;position:relative}\n.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}\n.fb_iframe_widget iframe{position:absolute}\n.fb_iframe_widget_lift{z-index:1}\n.fb_hide_iframes iframe{position:relative;left:-10000px}\n.fb_iframe_widget_loader{position:relative;display:inline-block}\n.fb_iframe_widget_fluid{display:inline}\n.fb_iframe_widget_fluid span{width:100%}\n.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}\n.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}\n.fb_connect_bar_container div,\n.fb_connect_bar_container span,\n.fb_connect_bar_container a,\n.fb_connect_bar_container img,\n.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}\n.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}\n.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}\n.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}\n.fb_connect_bar a:hover{color:#fff}\n.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}\n.fb_connect_bar div a,\n.fb_connect_bar span,\n.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}\n.fb_connect_bar .fb_buttons{float:right;margin-top:7px}\n.fbpluginrecommendationsbarleft,\n.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}\n.fbpluginrecommendationsbarleft{left:10px}\n.fbpluginrecommendationsbarright{right:10px}',components:["css:fb.css.base","css:fb.css.dialog","css:fb.css.iframewidget","css:fb.css.connectbarwidget","css:fb.css.plugin.recommendationsbar"]}),l("CanvasPrefetcherConfig",[],{blacklist:[0x83d70a64a992],sampleRate:500}),l("PluginPipeConfig",[],{threshold:0,enabledApps:{0xbec51e4718e7:1,0xaa568c1d5c06:1}}),l("ConnectBarConfig",[],{imgs:{buttonUrl:"rsrc.php/v2/yY/r/h_Y6u1wrZPW.png",missingProfileUrl:"rsrc.php/v2/yo/r/UlIqmHJn-SK.gif"}}),l("ApiClientConfig",[],{FlashRequest:{swfUrl:"https://connect.facebook.net/rsrc.php/v1/yW/r/PvklbuW2Ycn.swf"}}),l("QueryString",[],function(e,t,n,r,i,s){function o(e){var t=[];return c(c("Object","keys",!1,e).sort(),"forEach",!0,function(n){var r=e[n];if(typeof r=="undefined")return;if(r===null){t.push(n);return}t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}),t.join("&")}function u(e,t){var n={};if(e==="")return n;var r=e.split("&");for(var i=0;i<r.length;i++){var s=r[i].split("=",2),o=decodeURIComponent(s[0]);if(t&&n.hasOwnProperty(o))throw new URIError("Duplicate key: "+o);n[o]=s.length===2?decodeURIComponent(s[1]):null}return n}function a(e,t){return e+(~c(e,"indexOf",!0,"?")?"&":"?")+(typeof t=="string"?t:f.encode(t))}var f={encode:o,decode:u,appendToUrl:a};i.exports=f}),l("copyProperties",[],function(e,t,n,r,i,s){function o(e,t,n,r,i,s,o){e=e||{};var u=[t,n,r,i,s],a=0,f;while(u[a]){f=u[a++];for(var l in f)e[l]=f[l];f.hasOwnProperty&&f.hasOwnProperty("toString")&&typeof f.toString!="undefined"&&e.toString!==f.toString&&(e.toString=f.toString)}return e}i.exports=o}),l("ManagedError",[],function(e,t,n,r,i,s){function o(e,t){Error.prototype.constructor.call(this,e),this.message=e,this.innerError=t}o.prototype=new Error,o.prototype.constructor=o,i.exports=o}),l("AssertionError",["ManagedError"],function(e,t,n,r,i,s){function u(e){o.prototype.constructor.apply(this,arguments)}var o=t("ManagedError");u.prototype=new o,u.prototype.constructor=u,i.exports=u}),l("sprintf",[],function(e,t,n,r,i,s){function o(e){var t=Array.prototype.slice.call(arguments,1),n=0;return e.replace(/%s/g,function(e){return t[n++]})}i.exports=o}),l("Assert",["AssertionError","sprintf"],function(e,t,n,r,i,s){function a(e,t){if(typeof e!="boolean"||!e)throw new o(t);return e}function f(e,t,n){var r;if(t===undefined)r="undefined";else if(t===null)r="null";else{var i=Object.prototype.toString.call(t);r=/\s(\w*)/.exec(i)[1].toLowerCase()}return a(c(e,"indexOf",!0,r)!==-1,n||u("Expression is of type %s, not %s",r,e)),t}function l(e,t,n){return a(t instanceof e,n||"Expression not instance of type"),t}function h(e,t){p["is"+e]=t,p["maybe"+e]=function(e,n){e!=null&&t(e,n)}}var o=t("AssertionError"),u=t("sprintf"),p={isInstanceOf:l,isTrue:a,isTruthy:function(e,t){return a(!!e,t)},type:f,define:function(e,t){e=e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase(),h(e,function(e,n){a(t(e),n)})}};c(["Array","Boolean","Date","Function","Null","Number","Object","Regexp","String","Undefined"],"forEach",!0,function(e){h(e,c(f,"bind",!0,null,e.toLowerCase()))}),i.exports=p}),l("Type",["copyProperties","Assert"],function(e,t,n,r,i,s){function a(){var e=this.__mixins;if(e)for(var t=0;t<e.length;t++)e[t].apply(this,arguments)}function f(e,t){if(t instanceof e)return!0;if(t instanceof a)for(var n=0;n<t.__mixins.length;n++)if(t.__mixins[n]==e)return!0;return!1}function l(e,t){var n=e.prototype;c("Array","isArray",!1,t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];typeof i=="function"&&(n.__mixins.push(i),i=i.prototype),c(c("Object","keys",!1,i),"forEach",!0,function(e){n[e]=i[e]})}}function h(e,t,n){var r=t&&t.hasOwnProperty("constructor")?t.constructor:function(){this.parent.apply(this,arguments)};u.isFunction(r);if(e&&e.prototype instanceof a==0)throw new Error("parent type does not inherit from Type");e=e||a;var i=new Function;return i.prototype=e.prototype,r.prototype=new i,o(r.prototype,t),r.prototype.constructor=r,r.parent=e,r.prototype.__mixins=e.prototype.__mixins?Array.prototype.slice.call(e.prototype.__mixins):[],n&&l(r,n),r.prototype.parent=function(){this.parent=e.prototype.parent,e.apply(this,arguments)},r.prototype.parentCall=function(t){return e.prototype[t].apply(this,Array.prototype.slice.call(arguments,1))},r.extend=function(e,t){return h(this,e,t)},r}var o=t("copyProperties"),u=t("Assert");o(a.prototype,{instanceOf:function(e){return f(e,this)}}),o(a,{extend:function(e,t){return typeof e=="function"?h.apply(null,arguments):h(null,e,t)},instanceOf:f}),i.exports=a}),l("ObservableMixin",[],function(e,t,n,i,s,o){function u(){this.__observableEvents={}}u.prototype={inform:function(e){var t=Array.prototype.slice.call(arguments,1),n=Array.prototype.slice.call(this.getSubscribers(e));for(var i=0;i<n.length;i++){if(n[i]===null)continue;try{n[i].apply(this,t)}catch(s){r(function(){throw s},0)}}return this},getSubscribers:function(e){return this.__observableEvents[e]||(this.__observableEvents[e]=[])},clearSubscribers:function(e){return e&&(this.__observableEvents[e]=[]),this},clearAllSubscribers:function(){return this.__observableEvents={},this},subscribe:function(e,t){var n=this.getSubscribers(e);return n.push(t),this},unsubscribe:function(e,t){var n=this.getSubscribers(e);for(var r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);break}return this},monitor:function(e,t){if(!t()){var n=c(function(r){t.apply(t,arguments)&&this.unsubscribe(e,n)},"bind",!0,this);this.subscribe(e,n)}return this}},s.exports=u}),l("sdk.Model",["Type","ObservableMixin"],function(e,t,n,r,i,s){var o=t("Type"),u=t("ObservableMixin"),a=o.extend({constructor:function(e){this.parent();var t={},n=this;c(c("Object","keys",!1,e),"forEach",!0,function(r){t[r]=e[r],n["set"+r]=function(e){return e===t[r]?this:(t[r]=e,n.inform(r+".change",e),n)},n["get"+r]=function(){return t[r]}})}},u);i.exports=a}),l("sdk.Runtime",["sdk.Model","copyProperties","sdk.RuntimeConfig"],function(t,n,r,i,s,o){var u=n("sdk.Model"),a=r("sdk.RuntimeConfig"),f=n("copyProperties"),l={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},c=new u({AccessToken:"",ClientID:"",Environment:l.UNKNOWN,Initialized:!1,KidDirectedSite:undefined,Locale:a.locale,LoginStatus:undefined,Rtl:a.rtl,Scope:undefined,Secure:undefined,UseCookie:!1,UserID:"",CookieUserID:""});f(c,{ENVIRONMENTS:l,isEnvironment:function(e){var t=this.getEnvironment();return(e|t)===t}}),function(){var t=/app_runner/.test(e.name)?l.PAGETAB:/iframe_canvas/.test(e.name)?l.CANVAS:l.UNKNOWN;(t|l.PAGETAB)===t&&(t|=l.CANVAS),c.setEnvironment(t)}(),s.exports=c}),l("sdk.Cookie",["QueryString","sdk.Runtime"],function(e,t,r,i,s,o){function l(e,t,r){e+=a.getClientID();var i=f&&f!==".";i&&(n.cookie=e+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;",n.cookie=e+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;"+"domain="+location.hostname+";");var s=(new Date(r)).toGMTString();n.cookie=e+"="+t+(t&&r===0?"":"; expires="+s)+"; path=/"+(i?"; domain="+f:"")}function c(e){e+=a.getClientID();var t=new RegExp("\\b"+e+"=([^;]*)\\b");return t.test(n.cookie)?RegExp.$1:null}var u=t("QueryString"),a=t("sdk.Runtime"),f=null,h={setDomain:function(e){f=e;var t=u.encode({base_domain:f&&f!=="."?f:""}),n=new Date;n.setFullYear(n.getFullYear()+1),l("fbm_",t,n.getTime())},getDomain:function(){return f},loadMeta:function(){var e=c("fbm_");if(e){var t=u.decode(e);return f||(f=t.base_domain),t}},loadSignedRequest:function(){return c("fbsr_")},setSignedRequestCookie:function(e,t){if(!e)throw new Error("Value passed to Cookie.setSignedRequestCookie was empty.");l("fbsr_",e,t)},clearSignedRequestCookie:function(){l("fbsr_","",0)},setRaw:l};s.exports=h}),l("guid",[],function(e,t,n,r,i,s){function o(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}i.exports=o}),l("hasNamePropertyBug",["guid"],function(e,t,r,i,s,o){function f(){var e=n.createElement("form"),t=e.appendChild(n.createElement("input"));return t.name=u(),a=t!==e.elements[t.name],e=t=null,a}function l(){return typeof a=="undefined"?f():a}var u=t("guid"),a;s.exports=l}),l("wrapFunction",[],function(e,t,n,r,i,s){function u(e,t,n){return t=t||"default",function(){var r=t in o?o[t](e,n):e;return r.apply(this,arguments)}}var o={};u.setWrapper=function(e,t){t=t||"default",o[t]=e},i.exports=u}),l("DOMEventListener",["wrapFunction"],function(t,n,r,i,s,o){var u=n("wrapFunction"),a,f;e.addEventListener?(a=function(e,t,n){n.wrapper=u(n,"entry","DOMEventListener.add "+t),e.addEventListener(t,n.wrapper,!1)},f=function(e,t,n){e.removeEventListener(t,n.wrapper,!1)}):e.attachEvent?(a=function(e,t,n){n.wrapper=u(n,"entry","DOMEventListener.add "+t),e.attachEvent("on"+t,n.wrapper)},f=function(e,t,n){e.detachEvent("on"+t,n.wrapper)}):f=a=function(){};var l={add:function(e,t,n){return a(e,t,n),{remove:function(){f(e,t,n),e=null}}},remove:f};s.exports=l}),l("sdk.createIframe",["copyProperties","guid","hasNamePropertyBug","DOMEventListener"],function(e,t,r,i,s,o){function c(e){e=u({},e);var t,r=e.name||a(),i=e.root,s=e.style||{border:"none"},o=e.url,c=e.onload;f()?t=n.createElement('<iframe name="'+r+'"/>'):(t=n.createElement("iframe"),t.name=r),delete e.style,delete e.name,delete e.url,delete e.root,delete e.onload;var p=u({frameBorder:0,allowTransparency:!0,scrolling:"no"},e);p.width&&(t.width=p.width+"px"),p.height&&(t.height=p.height+"px"),delete p.height,delete p.width;for(var d in p)p.hasOwnProperty(d)&&t.setAttribute(d,p[d]);u(t.style,s),t.src="javascript:false",i.appendChild(t);if(c)var v=l.add(t,"load",function(){v.remove(),c()});return t.src=o,t}var u=t("copyProperties"),a=t("guid"),f=t("hasNamePropertyBug"),l=t("DOMEventListener");s.exports=c}),l("DOMWrapper",[],function(e,r,i,s,o,u){var a,f,l={setRoot:function(e){a=e},getRoot:function(){return a||n.body},setWindow:function(e){f=e},getWindow:function(){return f||t}};o.exports=l}),l("sdk.feature",["SDKConfig"],function(e,t,n,r,i,s){function u(e,t){if(o.features&&e in o.features){var n=o.features[e];return typeof n=="object"&&typeof n.rate=="number"?n.rate&&Math.random()*100<=n.rate?n.value||!0:n.value?null:!1:n}return typeof t!="undefined"?t:null}var o=n("SDKConfig");i.exports=u}),l("UserAgent",[],function(e,t,r,i,s,o){function x(){if(u)return;u=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),r=/(Mac OS X)|(Windows)|(Linux)/.exec(e);b=/\b(iPhone|iP[ao]d)/.exec(e),w=/\b(iP[ao]d)/.exec(e),g=/Android/i.exec(e),E=/FBAN\/\w+;/i.exec(e),S=/Mobile/i.exec(e),y=!!/Win64/.exec(e);if(t){a=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,a&&n&&n.documentMode&&(a=n.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(e);p=i?parseFloat(i[1])+4:a,f=t[2]?parseFloat(t[2]):NaN,l=t[3]?parseFloat(t[3]):NaN,c=t[4]?parseFloat(t[4]):NaN,c?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),h=t&&t[1]?parseFloat(t[1]):NaN):h=NaN}else a=f=l=h=c=NaN;if(r){if(r[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);d=s?parseFloat(s[1].replace("_",".")):!0}else d=!1;v=!!r[2],m=!!r[3]}else d=v=m=!1}var u=!1,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,T={ie:function(){return x()||a},ieCompatibilityMode:function(){return x()||p>a},ie64:function(){return T.ie()&&y},firefox:function(){return x()||f},opera:function(){return x()||l},webkit:function(){return x()||c},safari:function(){return T.webkit()},chrome:function(){return x()||h},windows:function(){return x()||v},osx:function(){return x()||d},linux:function(){return x()||m},iphone:function(){return x()||b},mobile:function(){return x()||b||w||g||S},nativeApp:function(){return x()||E},android:function(){return x()||g},ipad:function(){return x()||w}};s.exports=T}),l("sdk.getContextType",["UserAgent","sdk.Runtime"],function(e,t,n,r,i,s){function a(){return o.nativeApp()?3:o.mobile()?2:u.isEnvironment(u.ENVIRONMENTS.CANVAS)?5:1}var o=t("UserAgent"),u=t("sdk.Runtime");i.exports=a}),l("UrlMap",["UrlMapConfig"],function(e,t,n,r,i,s){var o=t("UrlMapConfig"),u={resolve:function(e,t){var n=typeof t=="undefined"?location.protocol.replace(":",""):t?"https":"http";if(e in o)return n+"://"+o[e];if(typeof t=="undefined"&&e+"_"+n in o)return n+"://"+o[e+"_"+n];if(t!==!0&&e+"_http"in o)return"http://"+o[e+"_http"];if(t!==!1&&e+"_https"in o)return"https://"+o[e+"_https"]}};i.exports=u}),l("sdk.Impressions",["guid","QueryString","sdk.Runtime","UrlMap"],function(e,t,n,r,i,s){function l(e){var t=a.getClientID();!e.api_key&&t&&(e.api_key=t),e.kid_directed_site=a.getKidDirectedSite();var n=new Image;n.src=u.appendToUrl(f.resolve("www",!0)+"/impression.php/"+o()+"/",e)}var o=t("guid"),u=t("QueryString"),a=t("sdk.Runtime"),f=t("UrlMap"),h={log:function(e,t){t.source||(t.source="jssdk"),l({lid:e,payload:c("JSON","stringify",!1,t)})},impression:l};i.exports=h}),l("Log",["sprintf"],function(t,n,r,i,s,o){function f(t,n){var r=Array.prototype.slice.call(arguments,2),i=u.apply(null,r),s=e.console;s&&l.level>=n&&s[t in s?t:"log"](i)}var u=n("sprintf"),a={DEBUG:3,INFO:2,WARNING:1,ERROR:0},l={level:-1,Level:a,debug:c(f,"bind",!0,null,"debug",a.DEBUG),info:c(f,"bind",!0,null,"info",a.INFO),warn:c(f,"bind",!0,null,"warn",a.WARNING),error:c(f,"bind",!0,null,"error",a.ERROR)};s.exports=l}),l("Base64",[],function(e,t,n,r,i,s){function u(e){return e=e.charCodeAt(0)<<16|e.charCodeAt(1)<<8|e.charCodeAt(2),String.fromCharCode(o.charCodeAt(e>>>18),o.charCodeAt(e>>>12&63),o.charCodeAt(e>>>6&63),o.charCodeAt(e&63))}function f(e){return e=a.charCodeAt(e.charCodeAt(0)-43)<<18|a.charCodeAt(e.charCodeAt(1)-43)<<12|a.charCodeAt(e.charCodeAt(2)-43)<<6|a.charCodeAt(e.charCodeAt(3)-43),String.fromCharCode(e>>>16,e>>>8&255,e&255)}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=">___?456789:;<=_______\0\b	\n\f\r______ !\"#$%&'()*+,-./0123",l={encode:function(e){e=unescape(encodeURI(e));var t=(e.length+2)%3;return e=(e+"\0\0".slice(t)).replace(/[\s\S]{3}/g,u),e.slice(0,e.length+t-2)+"==".slice(t)},decode:function(e){e=e.replace(/[^A-Za-z0-9+\/]/g,"");var t=e.length+3&3;e=(e+"AAA".slice(t)).replace(/..../g,f),e=e.slice(0,e.length+t-3);try{return decodeURIComponent(escape(e))}catch(n){throw new Error("Not valid UTF-8")}},encodeObject:function(e){return l.encode(c("JSON","stringify",!1,e))},decodeObject:function(e){return c("JSON","parse",!1,l.decode(e))},encodeNums:function(e){return String.fromCharCode.apply(String,c(e,"map",!0,function(e){return o.charCodeAt((e|-(e>63))&-(e>0)&63)}))}};i.exports=l}),l("sdk.SignedRequest",["Base64"],function(e,t,n,r,i,s){function u(e){if(!e)return null;var t=e.split(".",2)[1].replace(/\-/g,"+").replace(/\_/g,"/");return o.decodeObject(t)}var o=t("Base64"),a={parse:u};i.exports=a}),l("URL",["Assert","copyProperties","QueryString","Log"],function(e,t,r,i,s,o){function m(e){u.isString(e,"The passed argument was of invalid type.");if(h.test(e))throw new URIError("The passed argument could not be parsed as a url.");if(this instanceof m==0)return new m(e);var t=e.replace(p,function(t){return l.warn('Escaping unescaped character \\x%s from "%s"',t.charCodeAt(0).toString(16),e),encodeURIComponent(t)}).match(c);if(!e||!t)throw new URIError("The passed argument could not be parsed as a url.");var n=!!location.hostname;this.setProtocol(t[4]||(n?location.protocol.replace(/:/,""):"")),this.setDomain(t[6]||location.hostname),this.setPort(t[8]||(n&&!t[6]?location.port:"")),this.setPath(t[9]||""),this.setSearch(t[11]||""),this.setFragment(t[13]||""),this._path.substring(0,1)!="/"&&(this._path="/"+this._path);if(this._domain&&!d.test(decodeURIComponent(this._domain.toLowerCase())))throw l.error("Invalid characters found in domain name: %s",this._domain),new URIError("Domain contained invalid characters.")}var u=t("Assert"),a=t("copyProperties"),f=t("QueryString"),l=t("Log"),c=new RegExp("((((\\w+):)?//)(.*?@)?([^~/?#:]+)(:(\\d+))?)?([^\\?$#]+)?(\\?([^$#]+))?(#([^$]+))?"),h=/[\0\\]/,p=/[^\w\-\.,;\/?:@=&%#$~+!*'\[\]()]+/g,d=/^[a-z0-9.][a-z0-9\-\.]+[a-z0-9.]$/,v=/\.facebook\.com$/;a(m.prototype,{constructor:m,getProtocol:function(){return this._protocol},setProtocol:function(e){return this._protocol=e,this},getDomain:function(){return this._domain},setDomain:function(e){return this._domain=e,this},getPort:function(){return this._port},setPort:function(e){return this._port=e,this},getPath:function(){return this._path},setPath:function(e){return this._path=e,this},getSearch:function(){return this._search},setSearch:function(e){return this._search=e,this},getFragment:function(){return this._fragment},setFragment:function(e){return this._fragment=e,this},getParsedSearch:function(){return f.decode(this._search)},getParsedFragment:function(){return f.decode(this._fragment)},isFacebookURL:function(){return v.test(this._domain)},toString:function(){return(this._protocol?this._protocol+":":"")+(this._domain?"//"+this._domain:"")+(this._port?":"+this._port:"")+this._path+(this._search?"?"+this._search:"")+(this._fragment?"#"+this._fragment:"")},valueOf:function(){return this.toString()}}),a(m,{getCurrent:function(){return new m(location.href)},getReferrer:function(){return n.referrer?new m(n.referrer):null}}),s.exports=m}),l("sdk.domReady",[],function(t,i,s,o,u,a){function c(){if(!f)return;var e;while(e=f.shift())e();f=null}function h(e){if(f){f.push(e);return}e()}var f,l="readyState"in n?/loaded|complete/.test(n.readyState):!!n.body;if(!l){f=[],n.addEventListener?(n.addEventListener("DOMContentLoaded",c,!1),e.addEventListener("load",c,!1)):n.attachEvent&&(n.attachEvent("onreadystatechange",c),e.attachEvent("onload",c));if(n.documentElement.doScroll&&e==e.top){var p=function(){try{n.documentElement.doScroll("left")}catch(e){r(p,0);return}c()};p()}}u.exports=h},3),l("sdk.Content",["sdk.domReady","Log","UserAgent"],function(e,t,r,i,s,o){var u=t("sdk.domReady"),a=t("Log"),f=t("UserAgent"),l,c,h={append:function(e,t){t||(l?t=l:(l=t=n.getElementById("fb-root"),t||(a.warn('The "fb-root" div has not been created, auto-creating'),l=t=n.createElement("div"),t.id="fb-root",f.ie()||!n.body?u(function(){n.body.appendChild(t)}):n.body.appendChild(t)),t.className+=" fb_reset"));if(typeof e=="string"){var r=n.createElement("div");return t.appendChild(r).innerHTML=e,r}return t.appendChild(e)},appendHidden:function(e){if(!t){var t=n.createElement("div"),r=t.style;r.position="absolute",r.top="-10000px",r.width=r.height=0,t=h.append(t)}return h.append(e,t)},submitToTarget:function(e,t){var r=n.createElement("form");r.action=e.url,r.target=e.target,r.method=t?"GET":"POST",h.appendHidden(r);for(var i in e.params)if(e.params.hasOwnProperty(i)){var s=e.params[i];if(s!==null&&s!==undefined){var o=n.createElement("input");o.name=i,o.value=s,r.appendChild(o)}}r.submit(),r.parentNode.removeChild(r)}};s.exports=h}),l("sdk.Event",[],function(e,t,n,r,i,s){var o={subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},subscribe:function(e,t){var n=this.subscribers();n[e]?n[e].push(t):n[e]=[t]},unsubscribe:function(e,t){var n=this.subscribers()[e];n&&c(n,"forEach",!0,function(e,r){e==t&&(n[r]=null)})},monitor:function(e,t){if(!t()){var n=this,r=function(){t.apply(t,arguments)&&n.unsubscribe(e,r)};this.subscribe(e,r)}},clear:function(e){delete this.subscribers()[e]},fire:function(e){var t=Array.prototype.slice.call(arguments,1),n=this.subscribers()[e];n&&c(n,"forEach",!0,function(e){e&&e.apply(this,t)})}};i.exports=o}),l("Queue",["copyProperties"],function(e,t,n,i,s,o){function f(e){this._opts=u({interval:0,processor:null},e),this._queue=[],this._stopped=!0}var u=t("copyProperties"),a={};f.prototype._dispatch=function(e){if(this._stopped||this._queue.length===0)return;if(!this._opts.processor)throw this._stopped=!0,new Error("No processor available");if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=r(c(this._dispatch,"bind",!0,this),this._opts.interval);else while(this._queue.length)this._opts.processor.call(this,this._queue.shift())},f.prototype.enqueue=function(e){return this._opts.processor&&!this._stopped?this._opts.processor.call(this,e):this._queue.push(e),this},f.prototype.start=function(e){return e&&(this._opts.processor=e),this._stopped=!1,this._dispatch(),this},f.prototype.dispatch=function(){this._dispatch(!0)},f.prototype.stop=function(e){return this._stopped=!0,e&&clearTimeout(this._timeout),this},f.prototype.merge=function(e,t){return this._queue[t?"unshift":"push"].apply(this._queue,e._queue),e._queue=[],this._dispatch(),this},f.prototype.getLength=function(){return this._queue.length},f.get=function(e,t){var n;return e in a?n=a[e]:n=a[e]=new f(t),n},f.exists=function(e){return e in a},f.remove=function(e){return delete a[e]},s.exports=f}),l("JSONRPC",["copyProperties","Log"],function(e,t,n,i,s,o){function f(e){this._counter=0,this._callbacks={},this.remote=c(function(e){return this._context=e,this.remote},"bind",!0,this),this.local={},this._write=e}var u=t("copyProperties"),a=t("Log");u(f.prototype,{stub:function(e){this.remote[e]=c(function(){var t=Array.prototype.slice.call(arguments),n={jsonrpc:"2.0",method:e};typeof t[t.length-1]=="function"&&(n.id=++this._counter,this._callbacks[n.id]=t.pop()),n.params=t,this._write(c("JSON","stringify",!1,n),this._context||{method:e})},"bind",!0,this)},read:function(e,t){var n=c("JSON","parse",!1,e),i=n.id;if(!n.method){if(!this._callbacks[i]){a.warn("Could not find callback %s",i);return}var s=this._callbacks[i];delete this._callbacks[i],delete n.id,delete n.jsonrpc,s(n);return}var o=this,u=this.local[n.method],f;i?f=function(e,n){var s={jsonrpc:"2.0",id:i};s[e]=n,r(function(){o._write(c("JSON","stringify",!1,s),t)},0)}:f=function(){};if(!u){a.error('Method "%s" has not been defined',n.method),f("error",{code:-32601,message:"Method not found",data:n.method});return}n.params.push(c(f,"bind",!0,null,"result")),n.params.push(c(f,"bind",!0,null,"error"));try{var l=u.apply(t||null,n.params);typeof l!="undefined"&&f("result",l)}catch(p){a.error("Invokation of RPC method %s resulted in the error: %s",n.method,p.message),f("error",{code:-32603,message:"Internal error",data:p.message})}}}),s.exports=f}),l("sdk.RPC",["Assert","JSONRPC","Queue"],function(e,t,n,r,i,s){var o=t("Assert"),u=t("JSONRPC"),a=t("Queue"),f=new a,l=new u(function(e){f.enqueue(e)}),h={local:l.local,remote:l.remote,stub:c(l.stub,"bind",!0,l),setInQueue:function(e){o.isInstanceOf(a,e),e.start(function(e){l.read(e)})},getOutQueue:function(){return f}};i.exports=h}),l("emptyFunction",["copyProperties"],function(e,t,n,r,i,s){function u(e){return function(){return e}}function a(){}var o=t("copyProperties");o(a,{thatReturns:u,thatReturnsFalse:u(!1),thatReturnsTrue:u(!0),thatReturnsNull:u(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(e){return e}}),i.exports=a}),l("htmlSpecialChars",[],function(e,t,n,r,i,s){function c(e){return typeof e=="undefined"||e===null||!e.toString?"":e===!1?"0":e===!0?"1":e.toString().replace(o,"&amp;").replace(f,"&quot;").replace(l,"&#039;").replace(u,"&lt;").replace(a,"&gt;")}var o=/&/g,u=/</g,a=/>/g,f=/"/g,l=/'/g;i.exports=c}),l("Flash",["DOMEventListener","DOMWrapper","QueryString","UserAgent","copyProperties","guid","htmlSpecialChars"],function(t,n,r,i,s,o){function g(e){var t=m.getElementById(e);t&&t.parentNode.removeChild(t),delete d[e]}function y(){for(var e in d)d.hasOwnProperty(e)&&g(e)}function b(e){return e.replace(/\d+/g,function(e){return"000".substring(e.length)+e})}function w(t){v||(l.ie()>=9&&u.add(e,"unload",y),v=!0),d[t]=t}var u=n("DOMEventListener"),a=n("DOMWrapper"),f=n("QueryString"),l=n("UserAgent"),c=n("copyProperties"),h=n("guid"),p=n("htmlSpecialChars"),d={},v,m=a.getWindow().document,E={embed:function(e,t,n,r){var i=h();e=p(e).replace(/&amp;/g,"&"),n=c({allowscriptaccess:"always",flashvars:r,movie:e},n||{}),typeof n.flashvars=="object"&&(n.flashvars=f.encode(n.flashvars));var s=[];for(var o in n)n.hasOwnProperty(o)&&n[o]&&s.push('<param name="'+p(o)+'" value="'+p(n[o])+'">');var u=t.appendChild(m.createElement("span")),a="<object "+(l.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+e+'" '+(n.height?'height="'+n.height+'" ':"")+(n.width?'width="'+n.width+'" ':"")+'id="'+i+'">'+s.join("")+"</object>";u.innerHTML=a;var d=u.firstChild;return w(i),d},remove:g,getVersion:function(){var e="Shockwave Flash",t="application/x-shockwave-flash",n="ShockwaveFlash.ShockwaveFlash",r;if(navigator.plugins&&typeof navigator.plugins[e]=="object"){var i=navigator.plugins[e].description;i&&navigator.mimeTypes&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(r=i.match(/\d+/g))}if(!r)try{r=(new ActiveXObject(n)).GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),r=Array.prototype.slice.call(r,1)}catch(s){}return r},checkMinVersion:function(e){var t=E.getVersion();return t?b(t.join("."))>=b(e):!1},isAvailable:function(){return!!E.getVersion()}};s.exports=E}),l("dotAccess",[],function(e,t,n,r,i,s){function o(e,t,n){var r=t.split(".");do{var i=r.shift();e=e[i]||n&&(e[i]={})}while(r.length&&e);return e}i.exports=o}),l("GlobalCallback",["DOMWrapper","dotAccess","guid","wrapFunction"],function(e,t,n,r,i,s){var o=t("DOMWrapper"),u=t("dotAccess"),a=t("guid"),f=t("wrapFunction"),l,c,h={setPrefix:function(e){l=u(o.getWindow(),e,!0),c=e},create:function(e,t){l||this.setPrefix("__globalCallbacks");var n=a();return l[n]=f(e,"entry",t||"GlobalCallback"),c+"."+n},remove:function(e){var t=e.substring(c.length+1);delete l[t]}};i.exports=h}),l("XDM",["DOMEventListener","DOMWrapper","emptyFunction","Flash","GlobalCallback","guid","Log","UserAgent","wrapFunction"],function(e,t,n,i,s,o){function b(e){var t={},n=e.length,r=g.transports;while(n--)t[e[n]]=1;n=r.length;while(n--){var i=r[n],s=m[i];if(!t[i]&&s.isAvailable())return i}}var u=t("DOMEventListener"),a=t("DOMWrapper"),f=t("emptyFunction"),l=t("Flash"),c=t("GlobalCallback"),h=t("guid"),p=t("Log"),d=t("UserAgent"),v=t("wrapFunction"),m={},g={transports:[]},y=a.getWindow(),w={register:function(e,t){p.debug("Registering %s as XDM provider",e),g.transports.push(e),m[e]=t},create:function(e){if(!e.whenReady&&!e.onMessage)throw p.error("An instance without whenReady or onMessage makes no sense"),new Error("An instance without whenReady or onMessage makes no sense");e.channel||(p.warn("Missing channel name, selecting at random"),e.channel=h()),e.whenReady||(e.whenReady=f),e.onMessage||(e.onMessage=f);var t=e.transport||b(e.blacklist||[]),n=m[t];if(n&&n.isAvailable())return p.debug("%s is available",t),n.init(e),t}};w.register("flash",function(){var e=!1,t,n=!1,i=15e3,s;return{isAvailable:function(){return l.checkMinVersion("8.0.24")},init:function(o){p.debug("init flash: "+o.channel);var u={send:function(e,n,r,i){p.debug("sending to: %s (%s)",n,i),t.postMessage(e,n,i)}};if(e){o.whenReady(u);return}var a=o.root.appendChild(y.document.createElement("div")),f=c.create(function(){c.remove(f),clearTimeout(s),p.info("xdm.swf called the callback");var e=c.create(function(e,t){e=decodeURIComponent(e),t=decodeURIComponent(t),p.debug("received message %s from %s",e,t),o.onMessage(e,t)},"xdm.swf:onMessage");t.init(o.channel,e),o.whenReady(u)},"xdm.swf:load");t=l.embed(o.flashUrl,a,null,{protocol:location.protocol.replace(":",""),host:location.host,callback:f,log:n}),s=r(function(){p.warn("The Flash component did not load within %s ms - verify that the container is not set to hidden or invisible using CSS as this will cause some browsers to not load the components",i)},i),e=!0}}}()),w.register("postmessage",function(){var e=!1;return{isAvailable:function(){return!!y.postMessage},init:function(t){p.debug("init postMessage: "+t.channel);var n="_FB_"+t.channel,i={send:function(e,t,n,i){if(y===n)throw p.error("Invalid windowref, equal to window (self)"),new Error;p.debug("sending to: %s (%s)",t,i);var s=function(){n.postMessage("_FB_"+i+e,t)};d.ie()==8||d.ieCompatibilityMode()?r(s,0):s()}};if(e){t.whenReady(i);return}u.add(y,"message",v(function(e){var r=e.data,i=e.origin||"native";if(typeof r!="string"){p.warn("Received message of type %s from %s, expected a string",typeof r,i);return}p.debug("received message %s from %s",r,i),r.substring(0,n.length)==n&&(r=r.substring(n.length)),t.onMessage(r,i)},"entry","onMessage")),t.whenReady(i),e=!0}}}()),s.exports=w}),l("sdk.XD",["sdk.Content","sdk.createIframe","sdk.Event","guid","Log","QueryString","Queue","sdk.RPC","sdk.Runtime","UrlMap","URL","XDM","XDConfig"],function(e,t,r,i,s,o){function P(e){h.info("Remote XD can talk to facebook.com (%s)",e),m.setEnvironment(e==="canvas"?m.ENVIRONMENTS.CANVAS:m.ENVIRONMENTS.PAGETAB)}function H(e,t){if(!t)throw h.error("No senderOrigin"),new Error;var n=/^https?/.exec(t)[0];switch(e.xd_action){case"proxy_ready":var r,i;n=="https"?(r=x,i=N):(r=S,i=T),e.registered&&(P(e.registered),E=r.merge(E)),h.info("Proxy ready, starting queue %s containing %s messages",n+"ProxyQueue",r.getLength()),r.start(function(e){A.send(typeof e=="string"?e:p.encode(e),t,i.contentWindow,k+"_"+n)});break;case"plugin_ready":h.info("Plugin %s ready, protocol: %s",e.name,n),_[e.name]={protocol:n};if(d.exists(e.name)){var s=d.get(e.name);h.debug("Enqueuing %s messages for %s in %s",s.getLength(),e.name,n+"ProxyQueue"),(n=="https"?x:S).merge(s)}}e.data&&B(e.data,t)}function B(e,t){if(t&&t!=="native"&&!y(t).isFacebookURL())return;if(typeof e=="string"){if(/^FB_RPC:/.test(e)){D.enqueue(e.substring(7));return}if(e.substring(0,1)=="{")try{e=c("JSON","parse",!1,e)}catch(n){h.warn("Failed to decode %s as JSON",e);return}else e=p.decode(e)}t||e.xd_sig==C&&(t=e.xd_origin);if(e.xd_action){H(e,t);return}e.access_token&&m.setSecure(/^https/.test(L));if(e.cb){var r=I._callbacks[e.cb];I._forever[e.cb]||delete I._callbacks[e.cb],r&&r(e)}}function j(e,t){if(e=="facebook")t.relation="parent.parent",E.enqueue(t);else{t.relation='parent.frames["'+e+'"]';var n=_[e];n?(h.debug("Enqueuing message for plugin %s in %s",e,n.protocol+"ProxyQueue"),(n.protocol=="https"?x:S).enqueue(t)):(h.debug("Buffering message for plugin %s",e),d.get(e).enqueue(t))}}function F(e){if(O)return;var t=u.appendHidden(n.createElement("div")),r=w.create({blacklist:null,root:t,channel:k,flashUrl:b.Flash.path,whenReady:function(n){A=n;var i={channel:k,origin:location.protocol+"//"+location.host,transport:r,xd_name:e},s="/"+b.XdUrl+"#"+p.encode(i),o=b.useCdn?g.resolve("cdn",!1):"http://www.facebook.com",u=b.useCdn?g.resolve("cdn",!0):"https://www.facebook.com";m.getSecure()!==!0&&(T=a({url:o+s,name:"fb_xdm_frame_http",id:"fb_xdm_frame_http",root:t,"aria-hidden":!0,title:M,"tab-index":-1})),N=a({url:u+s,name:"fb_xdm_frame_https",id:"fb_xdm_frame_https",root:t,"aria-hidden":!0,title:M,"tab-index":-1})},onMessage:B});O=!0}var u=t("sdk.Content"),a=t("sdk.createIframe"),f=t("sdk.Event"),l=t("guid"),h=t("Log"),p=t("QueryString"),d=t("Queue"),v=t("sdk.RPC"),m=t("sdk.Runtime"),g=t("UrlMap"),y=t("URL"),b=r("XDConfig"),w=t("XDM"),E=new d,S=new d,x=new d,T,N,C=l(),k=l(),L=location.protocol+"//"+location.host,A,O=!1,M="Facebook Cross Domain Communication Frame",_={},D=new d;v.setInQueue(D),v.getOutQueue().start(function(e){j("facebook","FB_RPC:"+e)});var I={rpc:v,_callbacks:{},_forever:{},_channel:k,_origin:L,onMessage:B,recv:B,init:F,sendToFacebook:j,inform:function(e,t,n,r){j("facebook",{method:e,params:c("JSON","stringify",!1,t||{}),behavior:r||"p",relation:n})},handler:function(e,t,n,r){var i=b.useCdn?g.resolve("cdn",location.protocol=="https:"):location.protocol+"//www.facebook.com";return i+"/"+b.XdUrl+"#"+p.encode({cb:this.registerCallback(e,n,r),origin:L+"/"+k,domain:location.hostname,relation:t||"opener"})},registerCallback:function(e,t,n){return n=n||l(),t&&(I._forever[n]=!0),I._callbacks[n]=e,n}};f.subscribe("init:post",function(e){F(e.xdProxyName)}),s.exports=I}),l("sdk.Auth",["sdk.Cookie","copyProperties","sdk.createIframe","DOMWrapper","sdk.feature","sdk.getContextType","guid","sdk.Impressions","Log","ObservableMixin","QueryString","sdk.Runtime","sdk.SignedRequest","UrlMap","URL","sdk.XD"],function(e,t,n,i,s,o){function k(e,t){var n=b.getUserID(),r="";if(e)if(e.userID)r=e.userID;else if(e.signedRequest){var i=w.parse(e.signedRequest);i&&i.user_id&&(r=i.user_id)}var s=b.getLoginStatus(),o=s==="unknown"&&e||b.getUseCookie()&&b.getCookieUserID()!==r,u=n&&!e,a=e&&n&&n!=r,f=e!=T,l=t!=(s||"unknown");b.setLoginStatus(t),b.setAccessToken(e&&e.accessToken||null),b.setUserID(r),T=e;var c={authResponse:e,status:t};return(u||a)&&C.inform("logout",c),(o||a)&&C.inform("login",c),f&&C.inform("authresponse.change",c),l&&C.inform("status.change",c),c}function L(){return T}function A(e,t,n){return function(r){var i;if(r&&r.access_token){var s=w.parse(r.signed_request);t={accessToken:r.access_token,userID:s.user_id,expiresIn:parseInt(r.expires_in,10),signedRequest:r.signed_request},r.granted_scopes&&(t.grantedScopes=r.granted_scopes);if(b.getUseCookie()){var o=t.expiresIn===0?0:c("Date","now",!1)+t.expiresIn*1e3,a=u.getDomain();!a&&r.base_domain&&u.setDomain("."+r.base_domain),u.setSignedRequestCookie(r.signed_request,o)}i="connected",k(t,i)}else if(n==="logout"||n==="login_status")r.error&&r.error==="not_authorized"?i="not_authorized":i="unknown",k(null,i),b.getUseCookie()&&u.clearSignedRequestCookie();return r&&r.https==1&&b.setSecure(!0),e&&e({authResponse:t,status:b.getLoginStatus()}),t}}function O(e){var t,n=c("Date","now",!1);N&&(clearTimeout(N),N=null);var i=A(e,T,"login_status"),s=S(E.resolve("www",!0)+"/connect/ping").setSearch(y.encode({client_id:b.getClientID(),response_type:"token,signed_request,code",domain:location.hostname,origin:p(),redirect_uri:x.handler(function(e){if(h("e2e_ping_tracking",!0)){var s={init:n,close:c("Date","now",!1),method:"ping"};m.debug("e2e: %s",c("JSON","stringify",!1,s)),v.log(114,{payload:s})}t.parentNode.removeChild(t),i(e)&&(N=r(function(){O(function(){})},12e5))},"parent"),sdk:"joey",kid_directed_site:b.getKidDirectedSite()}));t=f({root:l.getRoot(),name:d(),url:s.toString(),style:{display:"none"}})}function _(e,t){if(!b.getClientID()){m.warn("FB.getLoginStatus() called before calling FB.init().");return}if(e){if(!t&&M=="loaded"){e({status:b.getLoginStatus(),authResponse:L()});return}C.subscribe("FB.loginStatus",e)}if(!t&&M=="loading")return;M="loading";var n=function(e){M="loaded",C.inform("FB.loginStatus",e),C.clearSubscribers("FB.loginStatus")};O(n)}var u=t("sdk.Cookie"),a=t("copyProperties"),f=t("sdk.createIframe"),l=t("DOMWrapper"),h=t("sdk.feature"),p=t("sdk.getContextType"),d=t("guid"),v=t("sdk.Impressions"),m=t("Log"),g=t("ObservableMixin"),y=t("QueryString"),b=t("sdk.Runtime"),w=t("sdk.SignedRequest"),E=t("UrlMap"),S=t("URL"),x=t("sdk.XD"),T,N,C=new g,M;a(C,{getLoginStatus:_,fetchLoginStatus:O,setAuthResponse:k,getAuthResponse:L,parseSignedRequest:w.parse,xdResponseWrapper:A}),s.exports=C}),l("invariant",[],function(e,t,n,r,i,s){function o(e){if(!e){var t=new Error("Minified exception occured, use the non-minified dev environment for the full error message and additional helpful warnings.");throw t.framesToPop=1,t}}i.exports=o}),l("toArray",["invariant"],function(e,t,n,r,i,s){function u(e){var t=e.length;o(!c("Array","isArray",!1,e)&&(typeof e=="object"||typeof e=="function")),o(typeof t=="number"),o(t===0||t-1 in e);if(e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}var r=Array(t);for(var i=0;i<t;i++)r[i]=e[i];return r}var o=t("invariant");i.exports=u}),l("createArrayFrom",["toArray"],function(e,t,n,r,i,s){function u(e){return!!e&&(typeof e=="object"||typeof e=="function")&&"length"in e&&!("setInterval"in e)&&typeof e.nodeType!="number"&&(c("Array","isArray",!1,e)||"callee"in e||"item"in e)}function a(e){return u(e)?c("Array","isArray",!1,e)?e.slice():o(e):[e]}var o=t("toArray");i.exports=a}),l("sdk.DOM",["Assert","createArrayFrom","sdk.domReady","UserAgent"],function(t,r,i,s,o,u){function d(e,t){var n=e.getAttribute(t)||e.getAttribute(t.replace(/_/g,"-"))||e.getAttribute(t.replace(/-/g,"_"))||e.getAttribute(t.replace(/-/g,""))||e.getAttribute(t.replace(/_/g,""))||e.getAttribute("data-"+t)||e.getAttribute("data-"+t.replace(/_/g,"-"))||e.getAttribute("data-"+t.replace(/-/g,"_"))||e.getAttribute("data-"+t.replace(/-/g,""))||e.getAttribute("data-"+t.replace(/_/g,""));return n?String(n):null}function v(e,t){var n=d(e,t);return n?/^(true|1|yes|on)$/.test(n):null}function m(e,t){a.isTruthy(e,"element not specified"),a.isString(t);try{return String(e[t])}catch(n){throw new Error("Could not read property "+t+" : "+n.message)}}function g(e,t){a.isTruthy(e,"element not specified"),a.isString(t);try{e.innerHTML=t}catch(n){throw new Error("Could not set innerHTML : "+n.message)}}function y(e,t){a.isTruthy(e,"element not specified"),a.isString(t);var n=" "+m(e,"className")+" ";return c(n,"indexOf",!0," "+t+" ")>=0}function b(e,t){a.isTruthy(e,"element not specified"),a.isString(t),y(e,t)||(e.className=m(e,"className")+" "+t)}function w(e,t){a.isTruthy(e,"element not specified"),a.isString(t);var n=new RegExp("\\s*"+t,"g");e.className=c(m(e,"className").replace(n,""),"trim",!0)}function E(e,t,r){a.isString(e),t=t||n.body,r=r||"*";if(t.querySelectorAll)return f(t.querySelectorAll(r+"."+e));var i=t.getElementsByTagName(r),s=[];for(var o=0,u=i.length;o<u;o++)y(i[o],e)&&(s[s.length]=i[o]);return s}function S(e,t){a.isTruthy(e,"element not specified"),a.isString(t),t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()});var r=e.currentStyle||n.defaultView.getComputedStyle(e,null),i=r[t];return/backgroundPosition?/.test(t)&&/top|left/.test(i)&&(i="0%"),i}function x(e,t,n){a.isTruthy(e,"element not specified"),a.isString(t),t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}),e.style[t]=n}function T(e,t){var r=!0;for(var i=0,s;s=t[i++];)s in p||(r=!1,p[s]=!0);if(r)return;if(!h.ie()){var o=n.createElement("style");o.type="text/css",o.textContent=e,n.getElementsByTagName("head")[0].appendChild(o)}else try{n.createStyleSheet().cssText=e}catch(u){n.styleSheets[0]&&(n.styleSheets[0].cssText+=e)}}function N(){var t=n.documentElement&&n.compatMode=="CSS1Compat"?n.documentElement:n.body;return{scrollTop:t.scrollTop||n.body.scrollTop,scrollLeft:t.scrollLeft||n.body.scrollLeft,width:e.innerWidth?e.innerWidth:t.clientWidth,height:e.innerHeight?e.innerHeight:t.clientHeight}}function C(e){a.isTruthy(e,"element not specified");var t=0,n=0;do t+=e.offsetLeft,n+=e.offsetTop;while(e=e.offsetParent);return{x:t,y:n}}var a=r("Assert"),f=r("createArrayFrom"),l=r("sdk.domReady"),h=r("UserAgent"),p={},k={containsCss:y,addCss:b,removeCss:w,getByClass:E,getStyle:S,setStyle:x,getAttr:d,getBoolAttr:v,getProp:m,html:g,addCssRules:T,getViewportInfo:N,getPosition:C,ready:l};o.exports=k}),l("sdk.Scribe",["UrlMap","QueryString"],function(e,t,n,r,i,s){function a(e,t){(new Image).src=u.appendToUrl(o.resolve("www",!0)+"/common/scribe_endpoint.php",{c:e,m:c("JSON","stringify",!1,t)})}var o=t("UrlMap"),u=t("QueryString"),f={log:a};i.exports=f}),l("sdk.ErrorHandling",["sdk.feature","ManagedError","sdk.Runtime","sdk.Scribe","UserAgent","wrapFunction"],function(t,n,s,o,u,a){function y(e){var t=e._originalError;throw delete e._originalError,p.log("jssdk_error",{appId:h.getClientID(),error:e.name||e.message,extra:e}),t}function b(e){var t={line:e.lineNumber||e.line,message:e.message,name:e.name,script:e.fileName||e.sourceURL||e.script,stack:e.stackTrace||e.stack};t._originalError=e,d.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(e.stack)&&(t.script=RegExp.$1,t.line=parseInt(RegExp.$2,10));for(var n in t)t[n]==null&&delete t[n];return t}function w(e,t){return function(){if(!m)return e.apply(this,arguments);try{return g=t,e.apply(this,arguments)}catch(n){if(n instanceof l)throw n;var r=b(n);r.entry=t;var i=c(Array.prototype.slice.call(arguments),"map",!0,function(e){var t=Object.prototype.toString.call(e);return/^\[object (String|Number|Boolean|Object|Date)\]$/.test(t)?e:e.toString()});r.args=c("JSON","stringify",!1,i).substring(0,200),y(r)}finally{g=""}}}function E(t){return t.__wrapper||(t.__wrapper=function(){try{return t.apply(this,arguments)}catch(n){return e.setTimeout(function(){throw n},0),!1}}),t.__wrapper}function S(e,t){return function(n,r){var i=t+":"+(g||"[global]")+":"+(n.name||"[anonymous]"+(arguments.callee.caller.name?"("+arguments.callee.caller.name+")":""));return e(v(n,"entry",i),r)}}var f=n("sdk.feature"),l=n("ManagedError"),h=n("sdk.Runtime"),p=n("sdk.Scribe"),d=n("UserAgent"),v=n("wrapFunction"),m=f("error_handling",!1),g="";m&&(r=S(r,"setTimeout"),i=S(i,"setInterval"),v.setWrapper(w,"entry"));var x={guard:w,unguard:E};u.exports=x}),l("sdk.Insights",["sdk.Impressions"],function(e,t,n,r,i,s){var o=t("sdk.Impressions"),u={TYPE:{NOTICE:"notice",WARNING:"warn",ERROR:"error"},CATEGORY:{DEPRECATED:"deprecated",APIERROR:"apierror"},log:function(e,t,n){var r={source:"jssdk",type:e,category:t,payload:n};o.log(113,r)},impression:o.impression};i.exports=u}),l("FB",["sdk.Auth","copyProperties","dotAccess","sdk.domReady","sdk.DOM","sdk.ErrorHandling","sdk.Content","DOMWrapper","GlobalCallback","sdk.Insights","Log","sdk.Runtime","sdk.Scribe","CssConfig","SDKConfig"],function(t,r,i,s,o,u){function O(e,t,n,r){var i;/^_/.test(n)?i="hide":N&&!N[t]&&(i=C);switch(i){case"hide":return;case"stub":return function(){w.warn("The method FB.%s has been removed from the JS SDK.",t)};default:return v.guard(function(){function n(e){return c("Array","isArray",!1,e)?c(e,"map",!0,n):e&&typeof e=="object"&&e.__wrapped?e.__wrapped:typeof e=="function"&&/^function/.test(e.toString())?v.unguard(e):e}i==="warn"&&(w.warn("The method FB.%s is not officially supported by Facebook and access to it will soon be removed.",t),k.hasOwnProperty(t)||(b.log(b.TYPE.WARNING,b.CATEGORY.DEPRECATED,"FB."+t),S.log("jssdk_error",{appId:E.getClientID(),error:"Private method used",extra:{args:t}}),k[t]=!0));var s=c(Array.prototype.slice.call(arguments),"map",!0,n),o=e.apply(r,s),u,a=!0;if(o&&typeof o=="object"){var f=Function();f.prototype=o,u=new f,u.__wrapped=o;for(var l in o){var h=o[l];if(typeof h!="function"||l==="constructor")continue;a=!1,u[l]=O(h,t+":"+l,l,o)}}return a?a?o:u:u},t)}}function M(e,t){var n=e?h(T,e,!0):T;c(c("Object","keys",!1,t),"forEach",!0,function(r){var i=t[r];if(typeof i=="function"){var s=(e?e+".":"")+r,o=O(i,s,r,t);o&&(n[r]=o)}})}var a=r("sdk.Auth"),f=r("copyProperties"),l=i("CssConfig"),h=r("dotAccess"),p=r("sdk.domReady"),d=r("sdk.DOM"),v=r("sdk.ErrorHandling"),m=r("sdk.Content"),g=r("DOMWrapper"),y=r("GlobalCallback"),b=r("sdk.Insights"),w=r("Log"),E=r("sdk.Runtime"),S=r("sdk.Scribe"),x=i("SDKConfig"),T,N,C=h(x,"api.mode"),k={};T=e.FB={};var L={};w.level=1,y.setPrefix("FB.__globalCallbacks");var A=n.createElement("div");g.setRoot(A),p(function(){w.info("domReady"),m.appendHidden(A),l.rules&&d.addCssRules(l.rules,l.components)}),E.subscribe("AccessToken.change",function(e){!e&&E.getLoginStatus()==="connected"&&a.getLoginStatus(null,!0)}),h(x,"api.whitelist.length")&&(N={},c(x.api.whitelist,"forEach",!0,function(e){N[e]=1})),E.setSecure(function(){var t=/iframe_canvas|app_runner/.test(e.name),n=/dialog/.test(e.name);if(location.protocol=="https:"&&(e==top||!t&&!n))return!0;if(/_fb_https?/.test(e.name))return c(e.name,"indexOf",true,"_fb_https")!=-1}()),f(L,{provide:M}),o.exports=L}),l("ArgumentError",["ManagedError"],function(e,t,n,r,i,s){function u(e,t){o.prototype.constructor.apply(this,arguments)}var o=t("ManagedError");u.prototype=new o,u.prototype.constructor=u,i.exports=u}),l("CORSRequest",["wrapFunction","QueryString"],function(e,n,r,i,s,o){function f(e,n){if(!t.XMLHttpRequest)return null;var r=new XMLHttpRequest,i=function(){};if("withCredentials"in r)r.open(e,n,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded");else{if(!t.XDomainRequest)return null;r=new XDomainRequest;try{r.open(e,n),r.onprogress=r.ontimeout=i}catch(s){return null}}var o={send:function(e){r.send(e)}},a=u(function(){a=i,"onload"in o&&o.onload(r)},"entry","XMLHttpRequest:load"),f=u(function(){f=i,"onerror"in o&&o.onerror(r)},"entry","XMLHttpRequest:error");return r.onload=function(){a()},r.onerror=function(){f()},r.onreadystatechange=function(){r.readyState==4&&(r.status==200?a():f())},o}function l(e,t,n,r){n.suppress_http_code=1;var i=a.encode(n);t!="post"&&(e=a.appendToUrl(e,i),i="");var s=f(t,e);return s?(s.onload=function(e){r(c("JSON","parse",!1,e.responseText))},s.onerror=function(e){e.responseText?r(c("JSON","parse",!1,e.responseText)):r({error:{type:"http",message:"unknown error",status:e.status}})},s.send(i),!0):!1}var u=n("wrapFunction"),a=n("QueryString"),h={execute:l};s.exports=h}),l("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(e,t,n,r,i,s){function m(){if(!d)throw new Error("swfUrl has not been set");var e=a.create(function(){h.start(function(e){var t=v.execute(e.method,e.url,e.body);if(!t)throw new Error("Could create request");p[t]=e.callback})}),t=a.create(function(e,t,n){var r;try{r=c("JSON","parse",!1,decodeURIComponent(n))}catch(i){r={error:{type:"SyntaxError",message:i.message,status:t,raw:n}}}p[e](r),delete p[e]});v=u.embed(d,o.getRoot(),null,{log:!1,initCallback:e,requestCallback:t})}function g(e,t,n,r){n.suppress_http_code=1,n.method||(n.method=t);var i=f.encode(n);t==="get"&&e.length+i.length<2e3?(e=f.appendToUrl(e,i),i=""):t="post";if(!h){if(!u.isAvailable())return!1;h=new l,m()}return h.enqueue({method:t,url:e,body:i,callback:r}),!0}var o=t("DOMWrapper"),u=t("Flash"),a=t("GlobalCallback"),f=t("QueryString"),l=t("Queue"),h,p={},d,v,y={setSwfUrl:function(e){d=e},execute:g};i.exports=y}),l("flattenObject",[],function(e,t,n,r,i,s){function o(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(null===r||undefined===r)continue;typeof r=="string"?t[n]=r:t[n]=c("JSON","stringify",!1,r)}return t}i.exports=o}),l("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(e,t,i,s,o,u){function c(e,t,i,s){var o=n.createElement("script"),u=function(e){u=function(){},f.remove(i.callback),s(e),o.parentNode.removeChild(o)};i.callback=f.create(u),i.method||(i.method=t),e=l.appendToUrl(e,i);if(e.length>2e3)return f.remove(i.callback),!1;o.onerror=function(){u({error:{type:"http",message:"unknown error"}})};var c=function(){r(function(){u({error:{type:"http",message:"unknown error"}})},0)};return o.addEventListener?o.addEventListener("load",c,!1):o.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&c()},o.src=e,a.getRoot().appendChild(o),!0}var a=t("DOMWrapper"),f=t("GlobalCallback"),l=t("QueryString"),h={execute:c};o.exports=h}),l("keyMirror",["invariant"],function(e,t,n,r,i,s){var o=t("invariant"),u=function(e){var t={},n;o(e instanceof Object&&!c("Array","isArray",!1,e));for(n in e){if(!e.hasOwnProperty(n))continue;t[n]=n}return t};i.exports=u}),l("mergeHelpers",["invariant","keyMirror"],function(e,t,n,r,i,s){var o=t("invariant"),u=t("keyMirror"),a=36,f=function(e){return typeof e!="object"||e===null},l={MAX_MERGE_DEPTH:a,isTerminal:f,normalizeMergeArg:function(e){return e===undefined||e===null?{}:e},checkMergeArrayArgs:function(e,t){o(c("Array","isArray",!1,e)&&c("Array","isArray",!1,t))},checkMergeObjectArgs:function(e,t){l.checkMergeObjectArg(e),l.checkMergeObjectArg(t)},checkMergeObjectArg:function(e){o(!f(e)&&!c("Array","isArray",!1,e))},checkMergeLevel:function(e){o(e<a)},checkArrayStrategy:function(e){o(e===undefined||e in l.ArrayStrategies)},ArrayStrategies:u({Clobber:!0,IndexByIndex:!0})};i.exports=l}),l("mergeInto",["mergeHelpers"],function(e,t,n,r,i,s){function a(e,t){u(e);if(t!=null){u(t);for(var n in t){if(!t.hasOwnProperty(n))continue;e[n]=t[n]}}}var o=t("mergeHelpers"),u=o.checkMergeObjectArg;i.exports=a}),l("merge",["mergeInto"],function(e,t,n,r,i,s){var o=t("mergeInto"),u=function(e,t){var n={};return o(n,e),o(n,t),n};i.exports=u}),l("ApiClient",["ArgumentError","Assert","copyProperties","CORSRequest","FlashRequest","flattenObject","JSONPRequest","Log","merge","ObservableMixin","sprintf","URL","UrlMap","ApiClientConfig"],function(e,t,n,r,i,s){function C(e,t,n,r){x&&(n=a({},x,n)),n.access_token=n.access_token||E,n.pretty=n.pretty||0,n=h(n);var i={jsonp:p,cors:f,flash:l},s;n.transport?(s=[n.transport],delete n.transport):s=["jsonp","cors","flash"];for(var o=0;o<s.length;o++){var u=i[s[o]],c=a({},n);if(u.execute(e,t,c,r))return}r({error:{type:"no-transport",message:"Could not find a usable transport for request"}})}function k(e,t,n,r,i){O.inform("request.complete",t,n,r,i),e&&e(i)}function L(e){u.isString(e,"Invalid path");var t,n={};try{t=new y(e)}catch(r){throw new o(r.message,r)}c(Array.prototype.slice.call(arguments,1),"forEach",!0,function(e){n[typeof e]=e});var i=(n.string||"get").toLowerCase(),s=v(n.object||{},t.getParsedSearch()),a=n["function"];a||d.warn("No callback passed to the ApiClient");var f=c(k,"bind",!0,null,a,t.getPath(),i,s);u.isTrue(i in T,g("Invalid method passed to ApiClient: %s",i)),s.method=i,t=b.resolve("graph")+t.getPath(),C(t,i=="get"?"get":"post",s,f)}function A(e,t){u.isObject(e),u.isString(e.method,"method missing"),t||d.warn("No callback passed to the ApiClient");var n=e.method.toLowerCase().replace(".","_");e.format="json-strings",e.api_key=S;var r=n in N?"api_read":"api",i=b.resolve(r)+"/restserver.php",s=c(k,"bind",!0,null,t,"/restserver.php","get",e);C(i,"get",e,s)}var o=t("ArgumentError"),u=t("Assert"),a=t("copyProperties"),f=t("CORSRequest"),l=t("FlashRequest"),h=t("flattenObject"),p=t("JSONPRequest"),d=t("Log"),v=t("merge"),m=t("ObservableMixin"),g=t("sprintf"),y=t("URL"),b=t("UrlMap"),w=t("ApiClientConfig"),E,S,x,T={get:!0,post:!0,"delete":!0,put:!0},N={fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},O=a(new m,{setAccessToken:function(e){E=e},setClientID:function(e){S=e},setDefaultParams:function(e){x=e},rest:A,graph:L});l.setSwfUrl(w.FlashRequest.swfUrl),i.exports=O}),l("sdk.api",["ApiClient","sdk.Runtime"],function(e,t,n,r,i,s){function f(){typeof arguments[0]=="string"?o.graph.apply(o,arguments):o.rest.apply(o,arguments)}var o=t("ApiClient"),u=t("sdk.Runtime"),a;u.subscribe("ClientID.change",function(e){o.setClientID(e)}),u.subscribe("AccessToken.change",function(e){a=e,o.setAccessToken(e)}),o.setDefaultParams({sdk:"joey"}),o.subscribe("request.complete",function(e,t,n,r){var i=!1;if(r&&typeof r=="object")if(r.error){if(r.error=="invalid_token"||r.error.type=="OAuthException"&&r.error.code==190)i=!0}else r.error_code&&r.error_code=="190"&&(i=!0);i&&a===u.getAccessToken()&&u.setAccessToken(null)}),o.subscribe("request.complete",function(e,t,n,r){(e=="/me/permissions"&&t==="delete"||e=="/restserver.php"&&n.method=="Auth.revokeAuthorization")&&r===!0&&u.setAccessToken(null)}),i.exports=f}),l("legacy:fb.api",["FB","sdk.api"],function(e,t,n,r){var i=t("FB"),s=t("sdk.api");i.provide("",{api:s})},3),l("sdk.Canvas.Environment",["sdk.RPC"],function(e,t,n,r,i,s){function u(e){o.remote.getPageInfo(function(t){e(t.result)})}function a(e,t){o.remote.scrollTo({x:e||0,y:t||0})}var o=t("sdk.RPC");o.stub("getPageInfo"),o.stub("scrollTo");var f={getPageInfo:u,scrollTo:a};i.exports=f}),l("sdk.Intl",["Log"],function(e,t,n,r,i,s){function a(e){return typeof e!="string"?!1:!!e.match(new RegExp(u+"["+')"'+"'"+"»"+"༻"+"༽"+"’"+"”"+"›"+"〉"+"》"+"」"+"』"+"】"+"〕"+"〗"+"〙"+"〛"+"〞"+"〟"+"﴿"+"＇"+"）"+"］"+"\\s"+"]*$"))}function f(e,t){if(t!==undefined)if(typeof t!="object")o.error("The second arg to FB.Intl.tx() must be an Object for FB.Intl.tx("+e+", ...)");else{var n;for(var r in t)t.hasOwnProperty(r)&&(a(t[r])?n=new RegExp("\\{"+r+"\\}"+u+"*","g"):n=new RegExp("\\{"+r+"\\}","g"),e=e.replace(n,t[r]))}return e}function l(){throw new Error("Placeholder function")}var o=t("Log"),u="[.!?。！？।…ຯ᠁ฯ．]";l._=f,i.exports={tx:l}}),l("sdk.Dialog",["sdk.Canvas.Environment","sdk.Content","sdk.DOM","DOMEventListener","sdk.Intl","ObservableMixin","sdk.Runtime","Type","UserAgent","sdk.feature"],function(t,i,s,o,u,a){function N(){if(b("dialog_resize_refactor")){var e=h.getViewportInfo();if(e.height&&e.width)return{width:Math.min(e.width,w),height:Math.min(e.height,E)}}return null}var f=i("sdk.Canvas.Environment"),l=i("sdk.Content"),h=i("sdk.DOM"),p=i("DOMEventListener"),d=i("sdk.Intl"),v=i("ObservableMixin"),m=i("sdk.Runtime"),g=i("Type"),y=i("UserAgent"),b=i("sdk.feature"),w=590,E=500,S=240,x=575,T=function(){var e;if(b("dialog_resize_refactor")){var t=N();e=t&&(t.height>=w||t.width>=E)}else e=y.ipad();return T=function(){return e},e},C=g.extend({constructor:function(t,n){this.parent(),this.id=t,this.display=n,this._e2e={},k._dialogs||(k._dialogs={},k._addOrientationHandler()),k._dialogs[t]=this,this.trackEvent("init")},trackEvent:function(e,t){return this._e2e[e]?this:(this._e2e[e]=t||c("Date","now",!1),e=="close"&&this.inform("e2e:end",this._e2e),this)},trackEvents:function(e){typeof e=="string"&&(e=c("JSON","parse",!1,e));for(var t in e)e.hasOwnProperty(t)&&this.trackEvent(t,e[t]);return this}},v),k={newInstance:function(e,t){return new C(e,t)},_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(e){return k._dialogs[e]},_findRoot:function(e){while(e){if(h.containsCss(e,"fb_dialog"))return e;e=e.parentNode}},_createWWWLoader:function(e){return e=e?e:460,k.create({content:'<div class="dialog_title">  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>',width:e})},_createMobileLoader:function(){var e=y.nativeApp()?"":'<table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+d.tx._("Cancel")+'"'+'            id="fb_dialog_loader_close"/>'+"        </label>"+"      </td>"+'      <td class="header_center">'+"        <div>"+d.tx._("Loading...")+"</div>"+"      </td>"+'      <td class="header_right">'+"      </td>"+"    </tr>"+"  </tbody>"+"</table>";return k.create({classes:"loading"+(T()?" centered":""),content:'<div class="dialog_header">'+e+"</div>"})},_restoreBodyPosition:function(){if(!T()){var e=n.getElementsByTagName("body")[0];h.removeCss(e,"fb_hidden")}},_showTabletOverlay:function(){if(!T())return;k._overlayEl||(k._overlayEl=n.createElement("div"),k._overlayEl.setAttribute("id","fb_dialog_ipad_overlay"),l.append(k._overlayEl,null)),k._overlayEl.className=""},_hideTabletOverlay:function(){T()&&(k._overlayEl.className="hidden")},showLoader:function(e,t){k._showTabletOverlay(),k._loaderEl||(k._loaderEl=k._findRoot(y.mobile()?k._createMobileLoader():k._createWWWLoader(t))),e||(e=function(){});var r=n.getElementById("fb_dialog_loader_close");h.removeCss(r,"fb_hidden"),r.onclick=function(){k._hideLoader(),k._restoreBodyPosition(),k._hideTabletOverlay(),e()};var i=n.getElementById("fb_dialog_ipad_overlay");i&&(i.ontouchstart=r.onclick),k._makeActive(k._loaderEl)},_hideLoader:function(){k._loaderEl&&k._loaderEl==k._active&&(k._loaderEl.style.top="-10000px")},_makeActive:function(e){k._setDialogSizes(),k._lowerActive(),k._active=e,m.isEnvironment(m.ENVIRONMENTS.CANVAS)&&f.getPageInfo(function(e){k._centerActive(e)}),k._centerActive()},_lowerActive:function(){if(!k._active)return;k._active.style.top="-10000px",k._active=null},_removeStacked:function(e){k._stack=c(k._stack,"filter",!0,function(t){return t!=e})},_centerActive:function(e){var t=k._active;if(!t)return;var r=h.getViewportInfo(),i=parseInt(t.offsetWidth,10),s=parseInt(t.offsetHeight,10),o=r.scrollLeft+(r.width-i)/2,u=(r.height-s)/2.5;o<u&&(u=o);var a=r.height-s-u,f=(r.height-s)/2;e&&(f=e.scrollTop-e.offsetTop+(e.clientHeight-s)/2),f<u?f=u:f>a&&(f=a),f+=r.scrollTop;if(y.mobile()){var l=100;if(T())l+=(r.height-s)/2;else{var c=n.getElementsByTagName("body")[0];h.addCss(c,"fb_hidden"),b("dialog_resize_refactor")&&(c.style.width="auto"),f=1e4}var p=h.getByClass("fb_dialog_padding",t);p.length&&(p[0].style.height=l+"px")}t.style.left=(o>0?o:0)+"px",t.style.top=(f>0?f:0)+"px"},_setDialogSizes:function(){if(!y.mobile()||T())return;for(var e in k._dialogs)if(k._dialogs.hasOwnProperty(e)){var t=n.getElementById(e);t&&(t.style.width=k.getDefaultSize().width+"px",t.style.height=k.getDefaultSize().height+"px")}},getDefaultSize:function(){if(y.mobile()){var t=N();if(t)return t;if(y.ipad())return{width:E,height:w};if(y.android())return{width:screen.availWidth,height:screen.availHeight};var n=e.innerWidth,r=e.innerHeight,i=n/r>1.2;return{width:n,height:Math.max(r,i?screen.width:screen.height)}}return{width:x,height:S}},_handleOrientationChange:function(e){var t=b("dialog_resize_refactor",!1)?h.getViewportInfo().width:screen.availWidth;if(y.android()&&t==k._availScreenWidth){r(k._handleOrientationChange,50);return}k._availScreenWidth=t;if(T())k._centerActive();else{var i=k.getDefaultSize().width;for(var s in k._dialogs)if(k._dialogs.hasOwnProperty(s)){var o=n.getElementById(s);o&&(o.style.width=i+"px")}}},_addOrientationHandler:function(){if(!y.mobile())return;var t="onorientationchange"in e?"orientationchange":"resize";k._availScreenWidth=b("dialog_resize_refactor",!1)?h.getViewportInfo().width:screen.availWidth,p.add(e,t,k._handleOrientationChange)},create:function(e){e=e||{};var t=n.createElement("div"),r=n.createElement("div"),i="fb_dialog";if(e.closeIcon&&e.onClose){var s=n.createElement("a");s.className="fb_dialog_close_icon",s.onclick=e.onClose,t.appendChild(s)}i+=" "+(e.classes||""),y.ie()?(i+=" fb_dialog_legacy",c(["vert_left","vert_right","horiz_top","horiz_bottom","top_left","top_right","bottom_left","bottom_right"],"forEach",!0,function(e){var r=n.createElement("span");r.className="fb_dialog_"+e,t.appendChild(r)})):i+=y.mobile()?" fb_dialog_mobile":" fb_dialog_advanced",e.content&&l.append(e.content,r),t.className=i;var o=parseInt(e.width,10);isNaN(o)||(t.style.width=o+"px"),r.className="fb_dialog_content",t.appendChild(r);if(y.mobile()){var u=n.createElement("div");u.className="fb_dialog_padding",t.appendChild(u)}return l.append(t),e.visible&&k.show(t),r},show:function(e){var t=k._findRoot(e);t&&(k._removeStacked(t),k._hideLoader(),k._makeActive(t),k._stack.push(t),"fbCallID"in e&&k.get(e.fbCallID).inform("iframe_show").trackEvent("show"))},hide:function(e){var t=k._findRoot(e);k._hideLoader(),t==k._active&&(k._lowerActive(),k._restoreBodyPosition(),k._hideTabletOverlay(),"fbCallID"in e&&k.get(e.fbCallID).inform("iframe_hide").trackEvent("hide"))},remove:function(e){e=k._findRoot(e);if(e){var t=k._active==e;k._removeStacked(e),t?(k._hideLoader(),k._stack.length>0?k.show(k._stack.pop()):(k._lowerActive(),k._restoreBodyPosition(),k._hideTabletOverlay())):k._active===null&&k._stack.length>0&&k.show(k._stack.pop()),r(function(){e.parentNode.removeChild(e)},3e3)}},isActive:function(e){var t=k._findRoot(e);return t&&t===k._active}};u.exports=k}),l("sdk.Frictionless",["sdk.Auth","sdk.api","sdk.Event","sdk.Dialog"],function(e,t,n,r,i,s){var o=t("sdk.Auth"),u=t("sdk.api"),a=t("sdk.Event"),f=t("sdk.Dialog"),l={_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){l._allowedRecipients={},u("/me/apprequestformerrecipients",function(e){if(!e||e.error)return;c(e.data,"forEach",!0,function(e){l._allowedRecipients[e.recipient_id]=!0})})},init:function(){l._useFrictionless=!0,o.getLoginStatus(function(e){e.status=="connected"&&l._updateRecipients()}),a.subscribe("auth.login",function(e){e.authResponse&&l._updateRecipients()})},_processRequestResponse:function(e,t){return function(n){var r=n&&n.updated_frictionless;l._useFrictionless&&r&&l._updateRecipients(),n&&(!t&&n.frictionless&&(f._hideLoader(),f._restoreBodyPosition(),f._hideIPadOverlay()),delete n.frictionless,delete n.updated_frictionless),e&&e(n)}},isAllowed:function(e){if(!e)return!1;if(typeof e=="number")return e in l._allowedRecipients;typeof e=="string"&&(e=e.split(",")),e=c(e,"map",!0,function(e){return c(String(e),"trim",!0)});var t=!0,n=!1;return c(e,"forEach",!0,function(e){t=t&&e in l._allowedRecipients,n=!0}),t&&n}};a.subscribe("init:post",function(e){e.frictionlessRequests&&l.init()}),i.exports=l}),l("insertIframe",["guid","GlobalCallback"],function(e,t,i,s,o,u){function l(e){e.id=e.id||a(),e.name=e.name||a();var t=!1,i=!1,s=function(){t&&!i&&(i=!0,e.onload&&e.onload(e.root.firstChild))},o=f.create(s);if(n.attachEvent){var u='<iframe id="'+e.id+'"'+' name="'+e.name+'"'+(e.title?' title="'+e.title+'"':"")+(e.className?' class="'+e.className+'"':"")+' style="border:none;'+(e.width?"width:"+e.width+"px;":"")+(e.height?"height:"+e.height+"px;":"")+'"'+' src="javascript:false;"'+' frameborder="0"'+' scrolling="no"'+' allowtransparency="true"'+' onload="'+o+'()"'+"></iframe>";e.root.innerHTML='<iframe src="javascript:false" frameborder="0" scrolling="no" style="height:1px"></iframe>',t=!0,r(function(){e.root.innerHTML=u,e.root.firstChild.src=e.url,e.onInsert&&e.onInsert(e.root.firstChild)},0)}else{var l=n.createElement("iframe");l.id=e.id,l.name=e.name,l.onload=s,l.scrolling="no",l.style.border="none",l.style.overflow="hidden",e.title&&(l.title=e.title),e.className&&(l.className=e.className),e.height!==undefined&&(l.style.height=e.height+"px"),e.width!==undefined&&(e.width=="100%"?l.style.width=e.width:l.style.width=e.width+"px"),e.root.appendChild(l),t=!0,l.src=e.url,e.onInsert&&e.onInsert(l)}}var a=t("guid"),f=t("GlobalCallback");o.exports=l}),l("sdk.Native",["copyProperties","Log","UserAgent"],function(t,n,r,i,s,o){var u=n("copyProperties"),a=n("Log"),f=n("UserAgent"),l="fbNativeReady",c={onready:function(t){if(!f.nativeApp()){a.error("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()");return}e.__fbNative&&!this.nativeReady&&u(this,e.__fbNative);if(this.nativeReady)t();else{var n=function(r){e.removeEventListener(l,n),this.onready(t)};e.addEventListener(l,n,!1)}}};s.exports=c}),l("resolveURI",[],function(t,r,i,s,o,u){function a(t){if(!t)return e.location.href;t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;");var r=n.createElement("div");return r.innerHTML='<a href="'+t+'"></a>',r.firstChild.href}o.exports=a}),l("sdk.UIServer",["sdk.Auth","sdk.Content","copyProperties","sdk.Dialog","sdk.DOM","sdk.Event","flattenObject","sdk.Frictionless","sdk.getContextType","guid","insertIframe","Log","sdk.Native","QueryString","resolveURI","sdk.RPC","sdk.Runtime","UrlMap","UserAgent","sdk.XD","SDKConfig"],function(t,s,o,u,a,f){var l=s("sdk.Auth"),h=s("sdk.Content"),p=s("copyProperties"),d=s("sdk.Dialog"),v=s("sdk.DOM"),m=s("sdk.Event"),g=s("flattenObject"),y=s("sdk.Frictionless"),b=s("sdk.getContextType"),w=s("guid"),E=s("insertIframe"),S=s("Log"),x=s("sdk.Native"),T=s("QueryString"),N=s("resolveURI"),C=s("sdk.RPC"),k=s("sdk.Runtime"),L=o("SDKConfig"),A=s("UrlMap"),O=s("UserAgent"),M=s("sdk.XD"),_={transform:function(t){return t.params.display==="touch"&&t.params.access_token&&e.postMessage?(t.params.channel=P._xdChannelHandler(t.id,"parent"),O.nativeApp()||(t.params.in_iframe=1),t):P.genericTransform(t)},getXdRelation:function(t){var n=t.display;return n==="touch"&&e.postMessage&&t.in_iframe?"parent":P.getXdRelation(t)}},D={"stream.share":{size:{width:670,height:340},url:"sharer.php",transform:function(t){return t.params.u||(t.params.u=e.location.toString()),t.params.display="popup",t}},apprequests:{transform:function(e){return e=_.transform(e),e.params.frictionless=y&&y._useFrictionless,e.params.frictionless&&(y.isAllowed(e.params.to)&&(e.params.display="iframe",e.params.in_iframe=!0,e.hideLoader=!0),e.cb=y._processRequestResponse(e.cb,e.hideLoader)),e.closeIcon=!1,e},getXdRelation:_.getXdRelation},feed:_,"permissions.oauth":{url:"dialog/oauth",size:{width:O.mobile()?null:475,height:O.mobile()?null:183},transform:function(e){if(!k.getClientID()){S.error("FB.login() called before FB.init().");return}if(l.getAuthResponse()&&!e.params.scope&&!e.params.auth_type){S.error("FB.login() called when user is already connected."),e.cb&&e.cb({status:k.getLoginStatus(),authResponse:l.getAuthResponse()});return}var t=e.cb,n=e.id;return delete e.cb,e.params.display==="async"?(p(e.params,{client_id:k.getClientID(),origin:b(),response_type:"token,signed_request",domain:location.hostname}),e.cb=l.xdResponseWrapper(t,l.getAuthResponse(),"permissions.oauth")):p(e.params,{client_id:k.getClientID(),redirect_uri:N(P.xdHandler(t,n,"opener",l.getAuthResponse(),"permissions.oauth")),origin:b(),response_type:"token,signed_request",domain:location.hostname}),e}},"auth.logout":{url:"logout.php",transform:function(e){if(!k.getClientID())S.error("FB.logout() called before calling FB.init().");else{if(!!l.getAuthResponse())return e.params.next=P.xdHandler(e.cb,e.id,"parent",l.getAuthResponse(),"logout"),e;S.error("FB.logout() called without an access token.")}}},"login.status":{url:"dialog/oauth",transform:function(e){var t=e.cb,n=e.id;return delete e.cb,p(e.params,{client_id:k.getClientID(),redirect_uri:P.xdHandler(t,n,"parent",l.getAuthResponse(),"login_status"),origin:b(),response_type:"token,signed_request,code",domain:location.hostname}),e}}},P={Methods:D,_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',genericTransform:function(e){return(e.params.display=="dialog"||e.params.display=="iframe")&&p(e.params,{display:"iframe",channel:P._xdChannelHandler(e.id,"parent.parent")},!0),e},checkOauthDisplay:function(e){var t=e.scope||e.perms||k.getScope();if(!t)return e.display;var n=t.split(/\s|,/g);for(var r=0;r<n.length;r++)if(!L.initSitevars.iframePermissions[c(n[r],"trim",!0)])return"popup";return e.display},prepareCall:function(e,t){var n=e.method.toLowerCase(),r=p({},P.Methods[n]),i=w(),s=k.getSecure()||n!=="auth.status"&&n!="login.status";p(e,{app_id:k.getClientID(),locale:k.getLocale(),sdk:"joey",access_token:s&&k.getAccessToken()||undefined}),e.display=P.getDisplayMode(r,e),r.url||(r.url="dialog/"+n),(r.url=="dialog/oauth"||r.url=="dialog/permissions.request")&&(e.display=="iframe"||e.display=="touch"&&e.in_iframe)&&(e.display=P.checkOauthDisplay(e));var o={cb:t,id:i,size:r.size||P.getDefaultSize(),url:A.resolve(e.display=="touch"?"m":"www",s)+"/"+r.url,params:e,name:n,dialog:d.newInstance(i,e.display)},u=r.transform?r.transform:P.genericTransform;if(u){o=u(o);if(!o)return}var a=r.getXdRelation||P.getXdRelation,f=a(o.params);return!(o.id in P._defaultCb)&&!("next"in o.params)&&!("redirect_uri"in o.params)&&(o.params.next=P._xdResult(o.cb,o.id,f,!0)),f==="parent"&&p(o.params,{channel_url:P._xdChannelHandler(i,"parent.parent")},!0),o=P.prepareParams(o),o},prepareParams:function(e){var t=e.params.method;e.params.display!=="async"&&delete e.params.method,e.params=g(e.params);var n=T.encode(e.params);return!O.nativeApp()&&P.urlTooLongForIE(e.url+"?"+n)?e.post=!0:n&&(e.url+="?"+n),e},urlTooLongForIE:function(e){return e.length>2e3},getDisplayMode:function(e,t){if(t.display==="hidden"||t.display==="none")return t.display;var n=k.isEnvironment(k.ENVIRONMENTS.CANVAS)||k.isEnvironment(k.ENVIRONMENTS.PAGETAB);return n&&!t.display?"async":O.mobile()||t.display==="touch"?"touch":!k.getAccessToken()&&t.display=="dialog"&&!e.loggedOutIframe?(S.error('"dialog" mode can only be used when the user is connected.'),"popup"):e.connectDisplay&&!n?e.connectDisplay:t.display||(k.getAccessToken()?"dialog":"popup")},getXdRelation:function(t){var n=t.display;if(n==="popup"||n==="touch")return"opener";if(n==="dialog"||n==="iframe"||n==="hidden"||n==="none")return"parent";if(n==="async")return"parent.frames["+e.name+"]"},popup:function(t){var r=typeof e.screenX!="undefined"?e.screenX:e.screenLeft,i=typeof e.screenY!="undefined"?e.screenY:e.screenTop,s=typeof e.outerWidth!="undefined"?e.outerWidth:n.documentElement.clientWidth,o=typeof e.outerHeight!="undefined"?e.outerHeight:n.documentElement.clientHeight-22,u=O.mobile()?null:t.size.width,a=O.mobile()?null:t.size.height,f=r<0?e.screen.width+r:r,l=parseInt(f+(s-u)/2,10),c=parseInt(i+(o-a)/2.5,10),p=[];u!==null&&p.push("width="+u),a!==null&&p.push("height="+a),p.push("left="+l),p.push("top="+c),p.push("scrollbars=1"),(t.name=="permissions.request"||t.name=="permissions.oauth")&&p.push("location=1,toolbar=0"),p=p.join(",");var d;t.post?(d=e.open("about:blank",t.id,p),d&&(P.setLoadedNode(t,d,"popup"),h.submitToTarget({url:t.url,target:t.id,params:t.params}))):(d=e.open(t.url,t.id,p),d&&P.setLoadedNode(t,d,"popup"));if(!d)return;t.id in P._defaultCb&&P._popupMonitor()},setLoadedNode:function(e,t,n){e.params&&e.params.display!="popup"&&(t.fbCallID=e.id),t={node:t,type:n,fbCallID:e.id},P._loadedNodes[e.id]=t},getLoadedNode:function(e){var t=typeof e=="object"?e.id:e,n=P._loadedNodes[t];return n?n.node:null},hidden:function(e){e.className="FB_UI_Hidden",e.root=h.appendHidden(""),P._insertIframe(e)},iframe:function(e){e.className="FB_UI_Dialog";var t=function(){P._triggerDefault(e.id)};e.root=d.create({onClose:t,closeIcon:e.closeIcon===undefined?!0:e.closeIcon,classes:O.ipad()?"centered":""}),e.hideLoader||d.showLoader(t,e.size.width),v.addCss(e.root,"fb_dialog_iframe"),P._insertIframe(e)},touch:function(e){e.params&&e.params.in_iframe?e.ui_created?d.showLoader(function(){P._triggerDefault(e.id)},0):P.iframe(e):O.nativeApp()&&!e.ui_created?(e.frame=e.id,x.onready(function(){P.setLoadedNode(e,x.open(e.url+"#cb="+e.frameName),"native")}),P._popupMonitor()):e.ui_created||P.popup(e)},async:function(e){e.params.redirect_uri=location.protocol+"//"+location.host+location.pathname,delete e.params.access_token,C.remote.showDialog(e.params,function(t){var n=t.result;if(n&&n.e2e){var r=d.get(e.id);r.trackEvents(n.e2e),r.trackEvent("close"),delete n.e2e}e.cb(n)})},getDefaultSize:function(){return d.getDefaultSize()},_insertIframe:function(e){P._loadedNodes[e.id]=!1;var t=function(t){e.id in P._loadedNodes&&P.setLoadedNode(e,t,"iframe")};e.post?E({url:"about:blank",root:e.root,className:e.className,width:e.size.width,height:e.size.height,id:e.id,onInsert:t,onload:function(t){h.submitToTarget({url:e.url,target:t.name,params:e.params})}}):E({url:e.url,root:e.root,className:e.className,width:e.size.width,height:e.size.height,id:e.id,name:e.frameName,onInsert:t})},_handleResizeMessage:function(e,t){var n=P.getLoadedNode(e);if(!n)return;t.height&&(n.style.height=t.height+"px"),t.width&&(n.style.width=t.width+"px"),M.inform("resize.ack",t||{},"parent.frames["+n.name+"]"),d.isActive(n)||d.show(n)},_triggerDefault:function(e){P._xdRecv({frame:e},P._defaultCb[e]||function(){})},_popupMonitor:function(){var e;for(var t in P._loadedNodes)if(P._loadedNodes.hasOwnProperty(t)&&t in P._defaultCb){var n=P._loadedNodes[t];if(n.type!="popup"&&n.type!="native")continue;var r=n.node;try{r.closed?P._triggerDefault(t):e=!0}catch(s){}}e&&!P._popupInterval?P._popupInterval=i(P._popupMonitor,100):!e&&P._popupInterval&&(clearInterval(P._popupInterval),P._popupInterval=null)},_xdChannelHandler:function(e,t){return M.handler(function(t){var n=P.getLoadedNode(e);if(!n)return;if(t.type=="resize")P._handleResizeMessage(e,t);else if(t.type=="hide")d.hide(n);else if(t.type=="rendered"){var r=d._findRoot(n);d.show(r)}else t.type=="fireevent"&&m.fire(t.event)},t,!0,null)},_xdNextHandler:function(e,t,n,r){return r&&(P._defaultCb[t]=e),M.handler(function(t){P._xdRecv(t,e)},n)+"&frame="+t},_xdRecv:function(t,n){var i=P.getLoadedNode(t.frame);if(i)if(i.close)try{i.close(),/iPhone.*Version\/(5|6)/.test(navigator.userAgent)&&RegExp.$1!=="5"&&e.focus(),P._popupCount--}catch(s){}else v.containsCss(i,"FB_UI_Hidden")?r(function(){i.parentNode.parentNode.removeChild(i.parentNode)},3e3):v.containsCss(i,"FB_UI_Dialog")&&d.remove(i);delete P._loadedNodes[t.frame],delete P._defaultCb[t.frame];if(t.e2e){var o=d.get(t.frame);o.trackEvents(t.e2e),o.trackEvent("close"),delete t.e2e}n(t)},_xdResult:function(e,t,n,r){return P._xdNextHandler(function(t){e&&e(t.result&&t.result!=P._resultToken&&c("JSON","parse",!1,t.result))},t,n,r)+"&result="+encodeURIComponent(P._resultToken)},xdHandler:function(e,t,n,r,i){return P._xdNextHandler(l.xdResponseWrapper(e,r,i),t,n,!0)}};C.stub("showDialog"),a.exports=P}),l("sdk.ui",["Assert","copyProperties","sdk.feature","sdk.Impressions","Log","sdk.UIServer"],function(e,t,n,r,i,s){function p(e,t){o.isObject(e),o.maybeFunction(t),e=u({},e);if(!e.method)return l.error('"method" is a required parameter for FB.ui().'),null;var n=e.method;e.redirect_uri&&(l.warn("When using FB.ui, you should not specify a redirect_uri."),delete e.redirect_uri),(n=="permissions.request"||n=="permissions.oauth")&&(e.display=="iframe"||e.display=="dialog")&&(e.display=h.checkOauthDisplay(e));var r=a("e2e_tracking",!0);r&&(e.e2e={});var i=h.prepareCall(e,t||function(){});if(!i)return null;var s=i.params.display;s==="dialog"?s="iframe":s==="none"&&(s="hidden");var p=h[s];return p?(r&&i.dialog.subscribe("e2e:end",function(e){e.method=n,e.display=s,l.debug("e2e: %s",c("JSON","stringify",!1,e)),f.log(114,{payload:e})}),p(i),i.dialog):(l.error('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"'),null)}var o=t("Assert"),u=t("copyProperties"),a=t("sdk.feature"),f=t("sdk.Impressions"),l=t("Log"),h=t("sdk.UIServer");i.exports=p}),l("legacy:fb.auth",["sdk.Auth","sdk.Cookie","copyProperties","sdk.Event","FB","Log","sdk.Runtime","sdk.SignedRequest","sdk.ui"],function(e,t,n,r){var i=t("sdk.Auth"),s=t("sdk.Cookie"),o=t("copyProperties"),u=t("sdk.Event"),a=t("FB"),f=t("Log"),l=t("sdk.Runtime"),h=t("sdk.SignedRequest"),p=t("sdk.ui");a.provide("",{getLoginStatus:function(){return i.getLoginStatus.apply(i,arguments)},getAuthResponse:function(){return i.getAuthResponse()},getAccessToken:function(){return l.getAccessToken()||null},getUserID:function(){return l.getUserID()||l.getCookieUserID()},login:function(e,t){t&&t.perms&&!t.scope&&(t.scope=t.perms,delete t.perms,f.warn("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update."));var n=l.isEnvironment(l.ENVIRONMENTS.CANVAS)||l.isEnvironment(l.ENVIRONMENTS.PAGETAB);p(o({method:"permissions.oauth",display:n?"async":"popup",domain:location.hostname},t||{}),e)},logout:function(e){p({method:"auth.logout",display:"hidden"},e)}}),i.subscribe("logout",c(u.fire,"bind",!0,u,"auth.logout")),i.subscribe("login",c(u.fire,"bind",!0,u,"auth.login")),i.subscribe("authresponse.change",c(u.fire,"bind",!0,u,"auth.authResponseChange")),i.subscribe("status.change",c(u.fire,"bind",!0,u,"auth.statusChange")),u.subscribe("init:post",function(e){e.status&&i.getLoginStatus();if(l.getClientID())if(e.authResponse)i.setAuthResponse(e.authResponse,"connected");else if(l.getUseCookie()){var t=s.loadSignedRequest(),n;if(t){try{n=h.parse(t)}catch(r){s.clearSignedRequestCookie()}n&&n.user_id&&l.setCookieUserID(n.user_id)}s.loadMeta()}})},3),l("sdk.Canvas.Plugin",["sdk.api","sdk.RPC","Log","UserAgent","sdk.Runtime","createArrayFrom"],function(t,n,i,s,o,u){function b(e){e._hideunity_savedstyle={},e._hideunity_savedstyle.left=e.style.left,e._hideunity_savedstyle.position=e.style.position,e._hideunity_savedstyle.width=e.style.width,e._hideunity_savedstyle.height=e.style.height,e.style.left="-10000px",e.style.position="absolute",e.style.width="1px",e.style.height="1px"}function w(e){e._hideunity_savedstyle&&(e.style.left=e._hideunity_savedstyle.left,e.style.position=e._hideunity_savedstyle.position,e.style.width=e._hideunity_savedstyle.width,e.style.height=e._hideunity_savedstyle.height)}function E(e){e._old_visibility=e.style.visibility,e.style.visibility="hidden"}function S(e){e.style.visibility=e._old_visibility||"",delete e._old_visibility}function x(e){var t=e.type?e.type.toLowerCase():null,n=t==="application/x-shockwave-flash"||e.classid&&e.classid.toUpperCase()==v;if(!n)return!1;var r=/opaque|transparent/i;if(r.test(e.getAttribute("wmode")))return!1;for(var i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(/param/i.test(s.nodeName)&&/wmode/i.test(s.name)&&r.test(s.value))return!1}return!0}function T(e){var t=e.type?e.type.toLowerCase():null;return t==="application/vnd.unity"||e.classid&&e.classid.toUpperCase()==m}function N(t){var n=d(e.document.getElementsByTagName("object"));n=n.concat(d(e.document.getElementsByTagName("embed")));var i=!1,s=!1;c(n,"forEach",!0,function(e){var n=x(e),o=y&&T(e);if(!n&&!o)return;i=i||n,s=s||o;var u=function(){t.state==="opened"?n?E(e):b(e):n?S(e):w(e)};if(g){l.info("Calling developer specified callback");var a={state:t.state,elem:e};g(a),r(u,200)}else u()});if(Math.random()<=.001){var o={unity:s,flash:i};a(p.getClientID()+"/occludespopups","post",o)}}function C(){E(),b()}function k(){S(),w()}var a=n("sdk.api"),f=n("sdk.RPC"),l=n("Log"),h=n("UserAgent"),p=n("sdk.Runtime"),d=n("createArrayFrom"),v="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",m="CLSID:444785F1-DE89-4295-863A-D46C3A781394",g=null,y=!(h.osx()>=10.9&&(h.chrome()>=31||h.webkit()>=537.71||h.firefox()>=25));f.local.hidePluginObjects=function(){l.info("hidePluginObjects called"),N({state:"opened"})},f.local.showPluginObjects=function(){l.info("showPluginObjects called"),N({state:"closed"})},f.local.showFlashObjects=f.local.showPluginObjects,f.local.hideFlashObjects=f.local.hidePluginObjects;var L={_setHidePluginCallback:function(e){g=e},hidePluginElement:C,showPluginElement:k};o.exports=L}),l("sdk.Canvas.IframeHandling",["DOMWrapper","sdk.RPC"],function(t,n,r,s,o,u){function h(){var e=a.getWindow().document,t=e.body,n=e.documentElement,r=Math.max(t.offsetTop,0),i=Math.max(n.offsetTop,0),s=t.scrollHeight+r,o=t.offsetHeight+r,u=n.scrollHeight+i,f=n.offsetHeight+i;return Math.max(s,o,u,f)}function p(t){typeof t!="object"&&(t={});var n=0,r=0;t.height||(t.height=h(),n=16,r=4),t.frame||(t.frame=e.name||"iframe_canvas");if(c){var i=c.height,s=t.height-i;if(s<=r&&s>=-n)return!1}return c=t,f.remote.setSize(t),!0}function d(e,t){t===undefined&&typeof e=="number"&&(t=e,e=!0),e||e===undefined?(l===null&&(l=i(function(){p()},t||100)),p()):l!==null&&(clearInterval(l),l=null)}var a=n("DOMWrapper"),f=n("sdk.RPC"),l=null,c;f.stub("setSize");var v={setSize:p,setAutoGrow:d};o.exports=v}),l("sdk.Canvas.Navigation",["sdk.RPC"],function(e,t,n,r,i,s){function u(e){o.local.navigate=function(t){e({path:t})},o.remote.setNavigationEnabled(!0)}var o=t("sdk.RPC");o.stub("setNavigationEnabled");var a={setUrlHandler:u};i.exports=a}),l("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(e,t,n,r,i,s){function a(e,t){var n={appId:u.getClientID(),time:c("Date","now",!1),name:t},r=[n];e&&r.push(function(t){e(t.result)}),o.remote.logTtiMessage.apply(null,r)}function f(){a(null,"StartIframeAppTtiTimer")}function l(e){a(e,"StopIframeAppTtiTimer")}function h(e){a(e,"RecordIframeAppTti")}var o=t("sdk.RPC"),u=t("sdk.Runtime");o.stub("logTtiMessage");var p={setDoneLoading:h,startTimer:f,stopTimer:l};i.exports=p}),l("legacy:fb.canvas",["Assert","sdk.Canvas.Environment","sdk.Event","FB","sdk.Canvas.Plugin","sdk.Canvas.IframeHandling","Log","sdk.Canvas.Navigation","sdk.Runtime","sdk.Canvas.Tti"],function(e,t,n,r){var i=t("Assert"),s=t("sdk.Canvas.Environment"),o=t("sdk.Event"),u=t("FB"),a=t("sdk.Canvas.Plugin"),f=t("sdk.Canvas.IframeHandling"),l=t("Log"),c=t("sdk.Canvas.Navigation"),h=t("sdk.Runtime"),p=t("sdk.Canvas.Tti");u.provide("Canvas",{setSize:function(e){return i.maybeObject(e,"Invalid argument"),f.setSize.apply(null,arguments)},setAutoGrow:function(){return f.setAutoGrow.apply(null,arguments)},getPageInfo:function(e){return i.isFunction(e,"Invalid argument"),s.getPageInfo.apply(null,arguments)},scrollTo:function(e,t){return i.maybeNumber(e,"Invalid argument"),i.maybeNumber(t,"Invalid argument"),s.scrollTo.apply(null,arguments)},setDoneLoading:function(e){return i.maybeFunction(e,"Invalid argument"),p.setDoneLoading.apply(null,arguments)},startTimer:function(){return p.startTimer.apply(null,arguments)},stopTimer:function(e){return i.maybeFunction(e,"Invalid argument"),p.stopTimer.apply(null,arguments)},getHash:function(e){return i.isFunction(e,"Invalid argument"),c.getHash.apply(null,arguments)},setHash:function(e){return i.isString(e,"Invalid argument"),c.setHash.apply(null,arguments)},setUrlHandler:function(e){return i.isFunction(e,"Invalid argument"),c.setUrlHandler.apply(null,arguments)}}),u.provide("CanvasInsights",{setDoneLoading:function(e){return l.warn("Deprecated: use FB.Canvas.setDoneLoading"),i.maybeFunction(e,"Invalid argument"),p.setDoneLoading.apply(null,arguments)}}),o.subscribe("init:post",function(e){h.isEnvironment(h.ENVIRONMENTS.CANVAS)&&(i.isTrue(!e.hideFlashCallback||!e.hidePluginCallback,"cannot specify deprecated hideFlashCallback and new hidePluginCallback"),a._setHidePluginCallback(e.hidePluginCallback||e.hideFlashCallback))})},3),l("sdk.Canvas.Prefetcher",["sdk.api","createArrayFrom","sdk.Runtime","CanvasPrefetcherConfig"],function(e,t,i,s,o,u){function y(){var e={object:"data",link:"href",script:"src"};m==p.AUTOMATIC&&c(c("Object","keys",!1,e),"forEach",!0,function(t){var r=e[t];c(f(n.getElementsByTagName(t)),"forEach",!0,function(e){e[r]&&g.push(e[r])})});if(g.length===0)return;a(h.getClientID()+"/staticresources","post",{urls:c("JSON","stringify",!1,g),is_https:location.protocol==="https:"}),g=[]}function b(){if(!h.isEnvironment(h.ENVIRONMENTS.CANVAS)||!h.getClientID()||!d)return;if(Math.random()>1/d||v=="*"||~c(v,"indexOf",!0,h.getClientID()))return;r(y,3e4)}function w(e){m=e}function E(e){g.push(e)}var a=t("sdk.api"),f=t("createArrayFrom"),l=i("CanvasPrefetcherConfig"),h=t("sdk.Runtime"),p={AUTOMATIC:0,MANUAL:1},d=l.sampleRate,v=l.blacklist,m=p.AUTOMATIC,g=[],S={COLLECT_AUTOMATIC:p.AUTOMATIC,COLLECT_MANUAL:p.MANUAL,addStaticResource:E,setCollectionMode:w,_maybeSample:b};o.exports=S}),l("legacy:fb.canvas.prefetcher",["FB","sdk.Canvas.Prefetcher","sdk.Event","sdk.Runtime"],function(e,t,n,r){var i=t("FB"),s=t("sdk.Canvas.Prefetcher"),o=t("sdk.Event"),u=t("sdk.Runtime");i.provide("Canvas.Prefetcher",s),o.subscribe("init:post",function(e){u.isEnvironment(u.ENVIRONMENTS.CANVAS)&&s._maybeSample()})},3),l("legacy:fb.compat.ui",["copyProperties","FB","Log","sdk.ui","sdk.UIServer"],function(e,t,n,r){var i=t("copyProperties"),s=t("FB"),o=t("Log"),u=t("sdk.ui"),a=t("sdk.UIServer");s.provide("",{share:function(e){o.error("share() has been deprecated. Please use FB.ui() instead."),u({display:"popup",method:"stream.share",u:e})},publish:function(e,t){o.error("publish() has been deprecated. Please use FB.ui() instead."),e=e||{},u(i({display:"popup",method:"stream.publish",preview:1},e||{}),t)},addFriend:function(e,t){o.error("addFriend() has been deprecated. Please use FB.ui() instead."),u({display:"popup",id:e,method:"friend.add"},t)}}),a.Methods["auth.login"]=a.Methods["permissions.request"]},3),l("mergeArrays",[],function(e,t,n,r,i,s){function o(e,t){for(var n=0;n<t.length;n++)c(e,"indexOf",!0,t[n])<0&&e.push(t[n]);return e}i.exports=o}),l("format",[],function(e,t,n,r,i,s){function o(e,t){return t=Array.prototype.slice.call(arguments,1),e.replace(/\{(\d+)\}/g,function(e,n){var r=t[Number(n)];return r===null||r===undefined?"":r.toString()})}i.exports=o}),l("safeEval",[],function(t,n,r,i,s,o){function u(t,n){if(t===null||typeof t=="undefined")return;return typeof t!="string"?t:/^\w+$/.test(t)&&typeof e[t]=="function"?e[t].apply(null,n||[]):Function('return eval("'+t.replace(/"/g,'\\"')+'");').apply(null,n||[])}s.exports=u}),l("sdk.Waitable",["sdk.Model"],function(e,t,n,r,i,s){var o=t("sdk.Model"),u=o.extend({constructor:function(){this.parent({Value:undefined})},error:function(e){this.inform("error",e)},wait:function(e,t){t&&this.subscribe("error",t),this.monitor("Value.change",c(function(){var t=this.getValue();if(t!==undefined)return this.value=t,e(t),!0},"bind",!0,this))}});i.exports=u}),l("sdk.Query",["format","safeEval","Type","sdk.Waitable"],function(e,t,n,r,i,s){function l(e){return c(e.split(","),"map",!0,function(e){return c(e,"trim",!0)})}function h(e){var t=/^\s*(\w+)\s*=\s*(.*)\s*$/i.exec(e),n,r,i="unknown";return t&&(r=t[2],/^(["'])(?:\\?.)*?\1$/.test(r)?(r=u(r),i="index"):/^\d+\.?\d*$/.test(r)&&(i="index")),i=="index"?n={type:"index",key:t[1],value:r}:n={type:"unknown",value:e},n}function p(e){return typeof e=="string"?c("JSON","stringify",!1,e):e}var o=t("format"),u=t("safeEval"),a=t("Type"),f=t("sdk.Waitable"),d=1,v=f.extend({constructor:function(){this.parent(),this.name="v_"+d++},hasDependency:function(e){return arguments.length&&(this._hasDependency=e),!!this._hasDependency},parse:function(e){var t=o.apply(null,e),n=/^select (.*?) from (\w+)\s+where (.*)$/i.exec(t);this.fields=l(n[1]),this.table=n[2],this.where=h(n[3]);for(var r=1;r<e.length;r++)a.instanceOf(v,e[r])&&e[r].hasDependency(!0);return this},toFql:function(){var e="select "+this.fields.join(",")+" from "+this.table+" where ";switch(this.where.type){case"unknown":e+=this.where.value;break;case"index":e+=this.where.key+"="+p(this.where.value);break;case"in":this.where.value.length==1?e+=this.where.key+"="+p(this.where.value[0]):e+=this.where.key+" in ("+c(this.where.value,"map",!0,p).join(",")+")"}return e},toString:function(){return"#"+this.name}});i.exports=v}),l("sdk.Data",["sdk.api","sdk.ErrorHandling","mergeArrays","sdk.Query","safeEval","sdk.Waitable"],function(e,t,n,i,s,o){var u=t("sdk.api"),a=t("sdk.ErrorHandling"),f=t("mergeArrays"),l=t("sdk.Query"),h=t("safeEval"),p=t("sdk.Waitable"),d={query:function(e,t){var n=(new l).parse(Array.prototype.slice.call(arguments));return d.queue.push(n),d._waitToProcess(),n},waitOn:function(e,t){var n=new p,r=e.length;if(typeof t=="string"){var i=t;t=a.unguard(function(){return h(i)})}return c(e,"forEach",!0,function(i){i.monitor("Value.change",function(){var s=!1;d._getValue(i)!==undefined&&(i.value=i.getValue(),r--,s=!0);if(r===0){var o=t(c(e,"map",!0,d._getValue));n.setValue(o!==undefined?o:!0)}return s})}),n},process:function(e){d._process(e)},_getValue:function(e){return e instanceof p?e.getValue():e},_selectByIndex:function(e,t,n,r){var i=new l;return i.fields=e,i.table=t,i.where={type:"index",key:n,value:r},d.queue.push(i),d._waitToProcess(),i},_waitToProcess:function(){d.timer<0&&(d.timer=r(function(){d._process()},10))},_process:function(e){d.timer=-1;var t={},n=d.queue;if(!n.length)return;d.queue=[];for(var r=0;r<n.length;r++){var i=n[r];i.where.type=="index"&&!i.hasDependency()?d._mergeIndexQuery(i,t):t[i.name]=i}var s={q:{}};for(var o in t)t.hasOwnProperty(o)&&(s.q[o]=t[o].toFql());e&&(s.access_token=e),u("/fql","GET",s,function(e){e.error?c(c("Object","keys",!1,t),"forEach",!0,function(n){t[n].error(new Error(e.error.message))}):c(e.data,"forEach",!0,function(e){t[e.name].setValue(e.fql_result_set)})})},_mergeIndexQuery:function(e,t){var n=e.where.key,r=e.where.value,i="index_"+e.table+"_"+n,s=t[i];s||(s=t[i]=new l,s.fields=[n],s.table=e.table,s.where={type:"in",key:n,value:[]}),f(s.fields,e.fields),f(s.where.value,[r]),s.wait(function(t){e.setValue(c(t,"filter",!0,function(e){return e[n]==r}))})},timer:-1,queue:[]};s.exports=d}),l("legacy:fb.data",["FB","sdk.Data"],function(e,t,n,r){var i=t("FB"),s=t("sdk.Data");i.provide("Data",s)},3),l("legacy:fb.event",["FB","sdk.Event"],function(e,t,n,r){var i=t("FB"),s=t("sdk.Event");i.provide("Event",s),i.provide("EventProvider",s)},3),l("legacy:fb.frictionless",["FB","sdk.Frictionless"],function(e,t,n,r){var i=t("FB"),s=t("sdk.Frictionless");i.provide("Frictionless",s)},3),l("sdk.init",["sdk.Cookie","copyProperties","createArrayFrom","sdk.ErrorHandling","sdk.Event","Log","QueryString","sdk.Runtime"],function(t,i,s,o,u,a){function y(e){var t=typeof e=="number"&&e>0||typeof e=="string"&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(e);return t?e.toString():(v.warn("Invalid App Id: Must be a number or numeric string representing the application id."),null)}function b(e){g.getInitialized()&&v.warn("FB.init has already been called - this could indicate a problem"),/number|string/.test(typeof e)&&(v.warn("FB.init called with invalid parameters"),e={apiKey:e}),e=l({logging:!0,status:!0},e||{});var t=y(e.appId||e.apiKey);t!==null&&g.setClientID(t),"scope"in e&&g.setScope(e.scope),e.cookie&&(g.setUseCookie(!0),typeof e.cookie=="string"&&f.setDomain(e.cookie)),e.kidDirectedSite&&g.setKidDirectedSite(!0),g.setInitialized(!0),d.fire("init:post",e)}var f=i("sdk.Cookie"),l=i("copyProperties"),h=i("createArrayFrom"),p=i("sdk.ErrorHandling"),d=i("sdk.Event"),v=i("Log"),m=i("QueryString"),g=i("sdk.Runtime");r(function(){var t=/(connect\.facebook\.net|\.facebook\.com\/assets.php).*?#(.*)/;c(h(n.getElementsByTagName("script")),"forEach",!0,function(e){if(e.src){var n=t.exec(e.src);if(n){var r=m.decode(n[2]);for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s=="0"&&(r[i]=0)}b(r)}}}),e.fbAsyncInit&&!e.fbAsyncInit.hasRun&&(e.fbAsyncInit.hasRun=!0,p.unguard(e.fbAsyncInit)())},0),u.exports=b}),l("legacy:fb.init",["FB","sdk.init"],function(e,t,n,r){var i=t("FB"),s=t("sdk.init");i.provide("",{init:s})},3),l("legacy:fb.json",["FB","ManagedError"],function(e,t,n,r){var i=t("FB"),s=t("ManagedError");i.provide("JSON",{stringify:function(e){try{return c("JSON","stringify",!1,e)}catch(t){throw new s(t.message,t)}},parse:function(e){try{return c("JSON","parse",!1,e)}catch(t){throw new s(t.message,t)}}})},3),l("legacy:fb.pay",["FB","copyProperties","sdk.Runtime","sdk.UIServer","sdk.XD"],function(t,n,r,i){n("FB");var s=n("copyProperties"),o=n("sdk.Runtime"),u=n("sdk.UIServer"),a=n("sdk.XD"),f={error_code:1383001,error_message:"An unknown error caused the dialog to be closed"},l=function(e){return function(t){e(t&&t.response?c("JSON","parse",!1,t.response):f)}};s(u.Methods,{"pay.prompt":{transform:function(t){var n=a.handler(l(t.cb),"parent.frames["+(e.name||"iframe_canvas")+"]");t.params.channel=n,a.inform("Pay.Prompt",t.params)}},pay:{size:{width:555,height:120},connectDisplay:"popup",transform:function(t){t.cb=l(t.cb);if(!o.isEnvironment(o.ENVIRONMENTS.CANVAS))return t.params.order_info=c("JSON","stringify",!1,t.params.order_info),t;var n=a.handler(t.cb,"parent.frames["+(e.name||"iframe_canvas")+"]");t.params.channel=n,t.params.uiserver=!0,a.inform("Pay.Prompt",t.params)}}})},3),l("legacy:fb.ua",["FB","UserAgent"],function(e,t,n,r){var i=t("FB"),s=t("UserAgent");i.provide("UA",{nativeApp:s.nativeApp})},3),l("legacy:fb.ui",["FB","sdk.ui"],function(e,t,n,r){var i=t("FB"),s=t("sdk.ui");i.provide("",{ui:s})},3),l("Miny",[],function(e,t,n,r,i,s){function f(e){for(var t=u.encode.length;t<e;t++){var n=t.toString(32).split("");n[n.length-1]=a[parseInt(n[n.length-1],32)],n=n.join(""),u.encode[t]=n,u.decode[n]=t}return u}function l(e){var t=e.match(/\w+|\W+/g),n={};for(var r=0;r<t.length;r++)n[t[r]]=(n[t[r]]||0)+1;var i=c("Object","keys",!1,n);i.sort(function(e,t){return n[e]<n[t]?1:n[t]<n[e]?-1:0});var s=f(i.length).encode;for(r=0;r<i.length;r++)n[i[r]]=s[r];var u=[];for(r=0;r<t.length;r++)u[r]=n[t[r]];for(r=0;r<i.length;r++)i[r]=i[r].replace(/'~'/g,"\\~");return[o,i.length].concat(i).concat(u.join("")).join("~")}function h(e){var t=e.split("~");if(t.shift()!=o)throw new Error("Not a Miny stream");var n=parseInt(t.shift(),10),r=t.pop();r=r.match(/[0-9a-v]*[\-w-zA-Z_]/g);var i=t,s=f(n).decode,u=[];for(var a=0;a<r.length;a++)u[a]=i[s[r[a]]];return u.join("")}var o="Miny1",u={encode:[],decode:{}},a="wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split(""),p={encode:l,decode:h};i.exports=p}),l("runOnce",[],function(e,t,n,r,i,s){function o(e){var t,n;return function(){return t||(t=!0,n=e()),n}}i.exports=o}),l("XFBML",["Assert","copyProperties","createArrayFrom","sdk.DOM","sdk.feature","sdk.Impressions","Log","ObservableMixin","runOnce","UserAgent"],function(e,t,i,s,o,u){function x(e,t){return e[t]+""}function T(e){return e.scopeName?e.scopeName+":"+e.nodeName:""}function N(e){return b[x(e,"nodeName").toLowerCase()]||b[T(e).toLowerCase()]}function C(e){var t=c(c(x(e,"className"),"trim",!0).split(/\s+/),"filter",!0,function(e){return w.hasOwnProperty(e)});if(t.length===0)return undefined;if(e.getAttribute("fb-xfbml-state")||!e.childNodes||e.childNodes.length===0||e.childNodes.length===1&&e.childNodes[0].nodeType===3||e.children.length===1&&x(e.children[0],"className")==="fb-xfbml-parse-ignore")return w[t[0]]}function k(e){var t={};return c(l(e.attributes),"forEach",!0,function(e){t[x(e,"name")]=x(e,"value")}),t}function L(e,t,r){var i=n.createElement("div");return h.addCss(e,t+"-"+r),c(l(e.childNodes),"forEach",!0,function(e){i.appendChild(e)}),c(l(e.attributes),"forEach",!0,function(e){i.setAttribute(e.name,e.value)}),e.parentNode.replaceChild(i,e),i}function A(e,t,n){a.isTrue(e&&e.nodeType&&e.nodeType===1&&!!e.getElementsByTagName,"Invalid DOM node passed to FB.XFBML.parse()"),a.isFunction(t,"Invalid callback passed to FB.XFBML.parse()");var i=++E;v.info("XFBML Parsing Start %s",i);var s=1,o=0,u=function(){s--,s===0&&(v.info("XFBML Parsing Finish %s, %s tags found",i,o),t(),S.inform("render",i,o)),a.isTrue(s>=0,"onrender() has been called too many times")};c(l(e.getElementsByTagName("*")),"forEach",!0,function(e){if(!n&&e.getAttribute("fb-xfbml-state"))return;if(e.nodeType!==1)return;var t=N(e)||C(e);if(!t)return;y.ie()<9&&e.scopeName&&(e=L(e,t.xmlns,t.localName)),s++,o++;var r=new t.ctor(e,t.xmlns,t.localName,k(e));r.subscribe("render",g(function(){e.setAttribute("fb-xfbml-state","rendered"),u()}));var i=function(){e.getAttribute("fb-xfbml-state")=="parsed"?S.subscribe("render.queue",i):(e.setAttribute("fb-xfbml-state","parsed"),r.process())};i()}),S.inform("parse",i,o);var f=3e4;r(function(){s>0&&v.warn("%s tags failed to render in %s ms",s,f)},f),u()}var a=t("Assert"),f=t("copyProperties"),l=t("createArrayFrom"),h=t("sdk.DOM"),p=t("sdk.feature"),d=t("sdk.Impressions"),v=t("Log"),m=t("ObservableMixin"),g=t("runOnce"),y=t("UserAgent"),b={},w={},E=0,S=new m;S.subscribe("render",function(){var e=S.getSubscribers("render.queue");S.clearSubscribers("render.queue"),c(e,"forEach",!0,function(e){e()})}),f(S,{registerTag:function(e){var t=e.xmlns+":"+e.localName;a.isUndefined(b[t],t+" already registered"),b[t]=e,w[e.xmlns+"-"+e.localName]=e},parse:function(e,t){A(e||n.body,t||function(){},!0)},parseNew:function(){A(n.body,function(){},!1)}});if(p("log_tag_count")){var O=function(e,t){S.unsubscribe("parse",O),r(c(d.log,"bind",!0,null,102,{tag_count:t}),5e3)};S.subscribe("parse",O)}o.exports=S}),l("PluginPipe",["sdk.Content","copyProperties","sdk.feature","guid","insertIframe","Miny","ObservableMixin","sdk.Runtime","UrlMap","UserAgent","XFBML","PluginPipeConfig"],function(e,t,r,i,s,o){function x(){return!(!f("plugin_pipe")||m.getSecure()===undefined||!y.chrome()&&!y.firefox()||!v.enabledApps[m.getClientID()])}function T(){function n(){t--,t===0&&N(e)}var e=S;S=[];if(e.length<=E){c(e,"forEach",!0,function(e){h(e.config)});return}var t=e.length+1;c(e,"forEach",!0,function(e){var t={};for(var r in e.config)t[r]=e.config[r];t.url=g.resolve("www",m.getSecure())+"/plugins/plugin_pipe_shell.php",t.onload=n,h(t)}),n()}function N(e){var t=n.createElement("span");u.appendHidden(t);var r={};c(e,"forEach",!0,function(e){r[e.config.name]={plugin:e.tag,params:e.params}});var i=c("JSON","stringify",!1,r),s=p.encode(i);c(e,"forEach",!0,function(e){var t=n.getElementsByName(e.config.name)[0];t.onload=e.config.onload});var o=g.resolve("www",m.getSecure())+"/plugins/pipe.php",a=l();h({url:"about:blank",root:t,name:a,className:"fb_hidden fb_invisible",onload:function(){u.submitToTarget({url:o,target:a,params:{plugins:s.length<i.length?s:i}})}})}var u=t("sdk.Content"),a=t("copyProperties"),f=t("sdk.feature"),l=t("guid"),h=t("insertIframe"),p=t("Miny"),d=t("ObservableMixin"),v=r("PluginPipeConfig"),m=t("sdk.Runtime"),g=t("UrlMap"),y=t("UserAgent"),b=t("XFBML"),w=new d,E=v.threshold,S=[];b.subscribe("parse",T),a(w,{add:function(e){var t=x();return t&&S.push({config:e._config,tag:e._tag,params:e._params}),t}}),s.exports=w}),l("IframePlugin",["sdk.Auth","sdk.createIframe","copyProperties","sdk.DOM","sdk.Event","guid","Log","ObservableMixin","PluginPipe","QueryString","resolveURI","sdk.Runtime","Type","UrlMap","UserAgent","sdk.XD"],function(t,i,s,o,u,a){function k(e,t,n){if(t||t===0)e.style.width=t+"px";if(n||n===0)e.style.height=n+"px"}function L(e){return function(t){var n={width:t.width,height:t.height,pluginID:e};d.fire("xfbml.resize",n)}}function O(e,t){var n=e[t]||e[t.replace(/_/g,"-")]||e[t.replace(/_/g,"")]||e["data-"+t]||e["data-"+t.replace(/_/g,"-")]||e["data-"+t.replace(/_/g,"")]||undefined;return n}function M(e,t,n,r){c(c("Object","keys",!1,e),"forEach",!0,function(i){e[i]=="text"&&!n[i]&&(n[i]=t.textContent||t.innerText||"",t.setAttribute(i,n[i])),r[i]=A[e[i]](O(n,i))})}function _(e){return e||e==="0"||e===0?parseInt(e,10):undefined}var f=i("sdk.Auth"),l=i("sdk.createIframe"),h=i("copyProperties"),p=i("sdk.DOM"),d=i("sdk.Event"),v=i("guid"),m=i("Log"),g=i("ObservableMixin"),y=i("PluginPipe"),b=i("QueryString"),w=i("resolveURI"),E=i("sdk.Runtime"),S=i("Type"),x=i("UrlMap"),T=i("UserAgent"),N=i("sdk.XD"),C={skin:"string",font:"string",width:"px",height:"px",ref:"string",color_scheme:"string"},A={string:function(e){return e},bool:function(e){return e?/^(?:true|1|yes|on)$/i.test(e):undefined},url:function(e){return w(e)},url_maybe:function(e){return e?w(e):e},hostname:function(t){return t||e.location.hostname},px:function(e){return/^(\d+)(?:px)?$/.test(e)?parseInt(RegExp.$1,10):undefined},text:function(e){return e}},D=S.extend({constructor:function(t,r,i,s){this.parent(),i=i.replace(/-/g,"_");var o=O(s,"plugin_id");this.subscribe("xd.resize",L(o)),this.subscribe("xd.resize.flow",L(o)),this.subscribe("xd.resize.flow",c(function(e){this._config.root.style.verticalAlign="bottom",k(this._config.root,_(e.width),_(e.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize",c(function(e){this._config.root.style.verticalAlign="bottom",k(this._config.root,_(e.width),_(e.height)),k(this._iframe,_(e.width),_(e.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize.iframe",c(function(e){k(this._iframe,_(e.width),_(e.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.sdk_event",function(e){var n=c("JSON","parse",!1,e.data);n.pluginID=o,d.fire(e.event,n,t)});var u=E.getSecure()||e.location.protocol=="https:",a=x.resolve("www",u)+"/plugins/"+i+".php?",l={};M(this.getParams(),t,s,l),M(C,t,s,l),l.app_id=E.getClientID(),l.locale=E.getLocale(),l.sdk="joey",l.kid_directed_site=E.getKidDirectedSite();var h=c(function(e){this.inform("xd."+e.type,e)},"bind",!0,this);l.channel=N.handler(h,"parent.parent",!0),p.addCss(t,"fb_iframe_widget");var m=v();this.subscribe("xd.verify",function(e){N.sendToFacebook(m,{method:"xd/verify",params:c("JSON","stringify",!1,e.token)})}),this.subscribe("xd.refreshLoginStatus",c(f.getLoginStatus,"bind",!0,f,c(this.inform,"bind",!0,this,"login.status"),!0));var g=n.createElement("span");g.style.verticalAlign="top",g.style.width="0px",g.style.height="0px",this._element=t,this._ns=r,this._tag=i,this._params=l,this._config={root:g,url:a+b.encode(l),name:m,width:T.mobile()?undefined:l.width||1e3,height:l.height||1e3,style:{border:"none",visibility:"hidden"},title:this._ns+":"+this._tag+" Facebook Social Plugin",onload:c(function(){this.inform("render")},"bind",!0,this)}},process:function(){var e=h({},this._params);delete e.channel;var t=b.encode(e);if(this._element.getAttribute("fb-iframe-plugin-query")==t){m.info("Skipping render: %s:%s %s",this._ns,this._tag,t),this.inform("render");return}this._element.setAttribute("fb-iframe-plugin-query",t),this.subscribe("render",function(){this._iframe.style.visibility="visible"});while(this._element.firstChild)this._element.removeChild(this._element.firstChild);this._element.appendChild(this._config.root);var n=T.mobile()?120:45;this._timeoutID=r(c(function(){this._iframe&&k(this._iframe,0,0),m.warn("%s:%s failed to resize in %ss",this._ns,this._tag,n)},"bind",!0,this),n*1e3),y.add(this)||(this._iframe=l(this._config)),T.mobile()&&(p.addCss(this._element,"fb_iframe_widget_fluid"),this._element.style.display="block",this._element.style.width="100%",this._element.style.height="auto",this._config.root.style.width="100%",this._config.root.style.height="auto",this._iframe.style.width="100%",this._iframe.style.height="auto",this._iframe.style.position="static")},updateLift:function(){var e=this._iframe.style.width===this._config.root.style.width&&this._iframe.style.height===this._config.root.style.height;p[e?"removeCss":"addCss"](this._iframe,"fb_iframe_widget_lift")}},g);D.getVal=O,D.withParams=function(e){return D.extend({getParams:function(){return e}})},u.exports=D}),l("PluginTags",[],function(e,t,n,r,i,s){var o={activity:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",recommendations:"bool",site:"hostname"},composer:{action_type:"string",action_properties:"string"},create_event_button:{},degrees:{href:"url"},facepile:{href:"string",action:"string",size:"string",max_rows:"string",show_count:"bool"},follow:{href:"url",layout:"string",show_faces:"bool"},like:{href:"url",layout:"string",show_faces:"bool",share:"bool",action:"string",send:"bool"},like_box:{href:"string",show_faces:"bool",header:"bool",stream:"bool",force_wall:"bool",show_border:"bool",id:"string",connections:"string",profile_id:"string",name:"string"},open_graph:{href:"url",layout:"string",show_faces:"bool",action_type:"string",action_properties:"string"},open_graph_preview:{action_type:"string",action_properties:"string"},page_events:{href:"url"},post:{href:"url",show_border:"bool"},privacy_selector:{},profile_pic:{uid:"string",linked:"bool",href:"string",size:"string",facebook_logo:"bool"},recommendations:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",site:"hostname"},share_button:{href:"url",type:"string"},shared_activity:{header:"bool"},send:{href:"url"},send_to_mobile:{max_rows:"string",show_faces:"bool",size:"string"},story:{href:"url",show_border:"bool"},topic:{topic_name:"string",topic_id:"string"},want:{href:"url",layout:"string",show_faces:"bool"}},u={subscribe:"follow",fan:"like_box",likebox:"like_box",friendpile:"facepile"};c(c("Object","keys",!1,u),"forEach",!0,function(e){o[e]=o[u[e]]}),i.exports=o}),l("sdk.Arbiter",[],function(e,t,n,r,i,s){var o={BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s"};i.exports=o}),l("sdk.XFBML.Element",["sdk.DOM","Type","ObservableMixin"],function(e,t,r,i,s,o){var u=t("sdk.DOM"),a=t("Type"),f=t("ObservableMixin"),l=a.extend({constructor:function(e){this.parent(),this.dom=e},fire:function(){this.inform.apply(this,arguments)},getAttribute:function(e,t,n){var r=u.getAttr(this.dom,e);return r?n?n(r):r:t},_getBoolAttribute:function(e,t){var n=u.getBoolAttr(this.dom,e);return n===null?t:n},_getPxAttribute:function(e,t){return this.getAttribute(e,t,function(e){var n=parseInt(e.replace("px",""),10);return isNaN(n)?t:n})},_getAttributeFromList:function(e,t,n){return this.getAttribute(e,t,function(e){return e=e.toLowerCase(),c(n,"indexOf",!0,e)>-1?e:t})},isValid:function(){for(var e=this.dom;e;e=e.parentNode)if(e==n.body)return!0},clear:function(){u.html(this.dom,"")}},f);s.exports=l}),l("sdk.XFBML.IframeWidget",["sdk.Arbiter","sdk.Auth","sdk.Content","copyProperties","sdk.DOM","sdk.Event","sdk.XFBML.Element","guid","insertIframe","QueryString","sdk.Runtime","sdk.ui","UrlMap","sdk.XD"],function(e,t,r,i,s,o){function N(){var e={};for(var t in T){var n=T[t];e[t]={widget:n.getUrlBits().name,params:n._getQS()}}return e}var u=t("sdk.Arbiter"),a=t("sdk.Auth"),f=t("sdk.Content"),l=t("copyProperties"),h=t("sdk.DOM"),p=t("sdk.Event"),d=t("sdk.XFBML.Element"),v=t("guid"),m=t("insertIframe"),g=t("QueryString"),y=t("sdk.Runtime"),b=t("sdk.ui"),w=t("UrlMap"),E=t("sdk.XD"),S=d.extend({_iframeName:null,_showLoader:!0,_refreshOnAuthChange:!1,_allowReProcess:!1,_fetchPreCachedLoader:!1,_visibleAfter:"load",_widgetPipeEnabled:!1,_borderReset:!1,_repositioned:!1,getUrlBits:function(){throw new Error("Inheriting class needs to implement getUrlBits().")},setupAndValidate:function(){return!0},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName},getIframeTitle:function(){return"Facebook Social Plugin"},getChannelUrl:function(){if(!this._channelUrl){var e=this;this._channelUrl=E.handler(function(t){e.fire("xd."+t.type,t)},"parent.parent",!0)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(e,t,n){E.sendToFacebook(this.getIframeName(),{method:e,params:c("JSON","stringify",!1,t||{}),behavior:n||u.BEHAVIOR_PERSISTENT})},_arbiterInform:function(e,t,n){var r='parent.frames["'+this.getIframeNode().name+'"]';E.inform(e,t,r,n)},getDefaultWebDomain:function(){return w.resolve("www")},process:function(e){if(this._done){if(!this._allowReProcess&&!e)return;this.clear()}else this._oneTimeSetup();this._done=!0,this._iframeName=this.getIframeName()||this._iframeName||v();if(!this.setupAndValidate()){this.fire("render");return}this._showLoader&&this._addLoader(),h.addCss(this.dom,"fb_iframe_widget"),this._visibleAfter!="immediate"?h.addCss(this.dom,"fb_hide_iframes"):this.subscribe("iframe.onload",c(this.fire,"bind",!0,this,"render"));var t=this.getSize()||{},r=this.getFullyQualifiedURL();t.width=="100%"&&h.addCss(this.dom,"fb_iframe_widget_fluid"),this.clear(),m({url:r,root:this.dom.appendChild(n.createElement("span")),name:this._iframeName,title:this.getIframeTitle(),className:y.getRtl()?"fb_rtl":"fb_ltr",height:t.height,width:t.width,onload:c(this.fire,"bind",!0,this,"iframe.onload")}),this._resizeFlow(t),this.loaded=!1,this.subscribe("iframe.onload",c(function(){this.loaded=!0},"bind",!0,this))},generateWidgetPipeIframeName:function(){return x++,"fb_iframe_"+x},getFullyQualifiedURL:function(){var e=this._getURL();e+="?"+g.encode(this._getQS());if(e.length>2e3){e="about:blank";var t=c(function(){this._postRequest(),this.unsubscribe("iframe.onload",t)},"bind",!0,this);this.subscribe("iframe.onload",t)}return e},_getWidgetPipeShell:function(){return w.resolve("www")+"/common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",c(this._handleResizeMsg,"bind",!0,this)),this.subscribe("xd.resize",c(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.resize.iframe",c(this._resizeIframe,"bind",!0,this)),this.subscribe("xd.resize.flow",c(this._resizeFlow,"bind",!0,this)),this.subscribe("xd.resize.flow",c(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.refreshLoginStatus",function(){a.getLoginStatus(function(){},!0)}),this.subscribe("xd.logout",function(){b({method:"auth.logout",display:"hidden"},function(){})}),this._refreshOnAuthChange&&this._setupAuthRefresh(),this._visibleAfter=="load"&&this.subscribe("iframe.onload",c(this._makeVisible,"bind",!0,this)),this.subscribe("xd.verify",c(function(e){this.arbiterInform("xd/verify",e.token)},"bind",!0,this)),this.oneTimeSetup()},_makeVisible:function(){this._removeLoader(),h.removeCss(this.dom,"fb_hide_iframes"),this.fire("render")},_setupAuthRefresh:function(){a.getLoginStatus(c(function(e){var t=e.status;p.subscribe("auth.statusChange",c(function(e){if(!this.isValid())return;(t=="unknown"||e.status=="unknown")&&this.process(!0),t=e.status},"bind",!0,this))},"bind",!0,this))},_handleResizeMsg:function(e){if(!this.isValid())return;this._resizeIframe(e),this._resizeFlow(e),this._borderReset||(this.getIframeNode().style.border="none",this._borderReset=!0),this._makeVisible()},_bubbleResizeEvent:function(e){var t={height:e.height,width:e.width,pluginID:this.getAttribute("plugin-id")};p.fire("xfbml.resize",t)},_resizeIframe:function(e){var t=this.getIframeNode();e.reposition==="true"&&this._repositionIframe(e),e.height&&(t.style.height=e.height+"px"),e.width&&(t.style.width=e.width+"px"),this._updateIframeZIndex()},_resizeFlow:function(e){var t=this.dom.getElementsByTagName("span")[0];e.height&&(t.style.height=e.height+"px"),e.width&&(t.style.width=e.width+"px"),this._updateIframeZIndex()},_updateIframeZIndex:function(){var e=this.dom.getElementsByTagName("span")[0],t=this.getIframeNode(),n=t.style.height===e.style.height&&t.style.width===e.style.width,r=n?"removeCss":"addCss";h[r](t,"fb_iframe_widget_lift")},_repositionIframe:function(e){var t=this.getIframeNode(),n=parseInt(h.getStyle(t,"width"),10),r=h.getPosition(t).x,i=h.getViewportInfo().width,s=parseInt(e.width,10);r+s>i&&r>s?(t.style.left=n-s+"px",this.arbiterInform("xd/reposition",{type:"horizontal"}),this._repositioned=!0):this._repositioned&&(t.style.left="0px",this.arbiterInform("xd/reposition",{type:"restore"}),this._repositioned=!1)},_addLoader:function(){this._loaderDiv||(h.addCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv=n.createElement("div"),this._loaderDiv.className="FB_Loader",this.dom.appendChild(this._loaderDiv))},_removeLoader:function(){this._loaderDiv&&(h.removeCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv.parentNode&&this._loaderDiv.parentNode.removeChild(this._loaderDiv),this._loaderDiv=null)},_getQS:function(){return l({api_key:y.getClientID(),locale:y.getLocale(),sdk:"joey",kid_directed_site:y.getKidDirectedSite(),ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){var e=this.getDefaultWebDomain(),t="";return e+"/plugins/"+t+this.getUrlBits().name+".php"},_postRequest:function(){f.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}}),x=0,T={};s.exports=S}),l("sdk.XFBML.Comments",["sdk.Event","sdk.XFBML.IframeWidget","QueryString","sdk.Runtime","UrlMap","UserAgent","SDKConfig"],function(t,r,i,s,o,u){var a=r("sdk.Event"),f=r("sdk.XFBML.IframeWidget"),l=r("QueryString"),h=r("sdk.Runtime"),p=i("SDKConfig"),d=r("UrlMap"),v=r("UserAgent"),m=f.extend({_visibleAfter:"immediate",_refreshOnAuthChange:!0,setupAndValidate:function(){var t={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),skin:this.getAttribute("skin"),numposts:this.getAttribute("num-posts",10),width:this._getPxAttribute("width",550),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),order_by:this.getAttribute("order_by"),mobile:this._getBoolAttribute("mobile")};p.initSitevars.enableMobileComments&&v.mobile()&&t.mobile!==!1&&(t.mobile=!0,delete t.width),t.skin||(t.skin=t.colorscheme);if(!t.href){t.migrated=this.getAttribute("migrated"),t.xid=this.getAttribute("xid"),t.title=this.getAttribute("title",n.title),t.url=this.getAttribute("url",n.URL),t.quiet=this.getAttribute("quiet"),t.reverse=this.getAttribute("reverse"),t.simple=this.getAttribute("simple"),t.css=this.getAttribute("css"),t.notify=this.getAttribute("notify");if(!t.xid){var r=c(n.URL,"indexOf",!0,"#");r>0?t.xid=encodeURIComponent(n.URL.substring(0,r)):t.xid=encodeURIComponent(n.URL)}t.migrated&&(t.href=d.resolve("www")+"/plugins/comments_v1.php?"+"app_id="+h.getClientID()+"&xid="+encodeURIComponent(t.xid)+"&url="+encodeURIComponent(t.url))}else{var i=this.getAttribute("fb_comment_id");i||(i=l.decode(n.URL.substring(c(n.URL,"indexOf",!0,"?")+1)).fb_comment_id,i&&c(i,"indexOf",!0,"#")>0&&(i=i.substring(0,c(i,"indexOf",!0,"#")))),i&&(t.fb_comment_id=i,this.subscribe("render",c(function(){e.location.hash||(e.location.hash=this.getIframeNode().id)},"bind",!0,this)))}return this._attr=t,!0},oneTimeSetup:function(){this.subscribe("xd.addComment",c(this._handleCommentMsg,"bind",!0,this)),this.subscribe("xd.commentCreated",c(this._handleCommentCreatedMsg,"bind",!0,this)),this.subscribe("xd.commentRemoved",c(this._handleCommentRemovedMsg,"bind",!0,this))},getSize:function(){return this._attr.mobile?{width:"100%",height:160}:{width:this._attr.width,height:160}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return d.resolve(this._attr.mobile?"m":"www",!0)},_handleCommentMsg:function(e){if(!this.isValid())return;a.fire("comments.add",{post:e.post,user:e.user,widget:this})},_handleCommentCreatedMsg:function(e){if(!this.isValid())return;var t={href:e.href,commentID:e.commentID,parentCommentID:e.parentCommentID};a.fire("comment.create",t)},_handleCommentRemovedMsg:function(e){if(!this.isValid())return;var t={href:e.href,commentID:e.commentID};a.fire("comment.remove",t)}});o.exports=m}),l("sdk.XFBML.CommentsCount",["sdk.Data","sdk.DOM","sdk.XFBML.Element","sprintf"],function(t,n,r,i,s,o){var u=n("sdk.Data"),a=n("sdk.DOM"),f=n("sdk.XFBML.Element"),l=n("sprintf"),h=f.extend({process:function(){a.addCss(this.dom,"fb_comments_count_zero");var t=this.getAttribute("href",e.location.href);u._selectByIndex(["commentsbox_count"],"link_stat","url",t).wait(c(function(e){var t=e[0].commentsbox_count;a.html(this.dom,l('<span class="fb_comments_count">%s</span>',t)),t>0&&a.removeCss(this.dom,"fb_comments_count_zero"),this.fire("render")},"bind",!0,this))}});s.exports=h}),l("sdk.Anim",["sdk.DOM"],function(e,t,n,r,s,o){var u=t("sdk.DOM"),a={ate:function(e,t,n,r){n=!isNaN(parseFloat(n))&&n>=0?n:750;var s=40,o={},a={},f=null,l=i(c(function(){f||(f=c("Date","now",!1));var i=1;n!=0&&(i=Math.min((c("Date","now",!1)-f)/n,1));for(var s in t)if(t.hasOwnProperty(s)){var h=t[s];if(!o[s]){var d=u.getStyle(e,s);if(d===!1)return;o[s]=this._parseCSS(d+"")}a[s]||(a[s]=this._parseCSS(h.toString()));var v="";c(o[s],"forEach",!0,function(e,t){isNaN(a[s][t].numPart)&&a[s][t].textPart=="?"?v=e.numPart+e.textPart:isNaN(e.numPart)?v=e.textPart:v+=e.numPart+Math.ceil((a[s][t].numPart-e.numPart)*Math.sin(Math.PI/2*i))+a[s][t].textPart+" "}),u.setStyle(e,s,v)}i==1&&(clearInterval(l),r&&r(e))},"bind",!0,this),s)},_parseCSS:function(e){var t=[];return c(e.split(" "),"forEach",!0,function(e){var n=parseInt(e,10);t.push({numPart:n,textPart:e.replace(n,"")})}),t}};s.exports=a}),l("escapeHTML",[],function(e,t,n,r,i,s){function a(e){return e.replace(o,function(e){return u[e]})}var o=/[&<>"'\/]/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","/":"&#x2F;"};i.exports=a}),l("sdk.Helper",["sdk.ErrorHandling","sdk.Event","UrlMap","safeEval","sprintf"],function(t,n,r,i,s,o){var u=n("sdk.ErrorHandling"),a=n("sdk.Event"),f=n("UrlMap"),l=n("safeEval"),c=n("sprintf"),h={isUser:function(e){return e<22e8||e>=1e14&&e<=0x5b0a58f100ef||e>=89e12&&e<=89999999999999},upperCaseFirstChar:function(e){return e.length>0?e.substr(0,1).toUpperCase()+e.substr(1):e},getProfileLink:function(e,t,n){return!n&&e&&(n=c("%s/profile.php?id=%s",f.resolve("www"),e.uid||e.id)),n&&(t=c('<a class="fb_link" href="%s">%s</a>',n,t)),t},invokeHandler:function(e,t,n){e&&(typeof e=="string"?u.unguard(l)(e,n):e.apply&&u.unguard(e).apply(t,n||[]))},fireEvent:function(e,t){var n=t._attr.href;t.fire(e,n),a.fire(e,n,t)},executeFunctionByName:function(t){var n=Array.prototype.slice.call(arguments,1),r=t.split("."),i=r.pop(),s=e;for(var o=0;o<r.length;o++)s=s[r[o]];return s[i].apply(this,n)}};s.exports=h}),l("sdk.XFBML.ConnectBar",["sdk.Anim","sdk.api","sdk.Auth","createArrayFrom","sdk.Data","sdk.DOM","sdk.XFBML.Element","escapeHTML","sdk.Event","format","sdk.Helper","sdk.Insights","sdk.Intl","sdk.Runtime","UrlMap","UserAgent","ConnectBarConfig"],function(t,r,i,s,o,u){var a=r("sdk.Anim"),f=r("sdk.api"),l=r("sdk.Auth"),h=r("createArrayFrom"),p=i("ConnectBarConfig"),d=r("sdk.Data"),v=r("sdk.DOM"),m=r("sdk.XFBML.Element"),g=r("escapeHTML"),y=r("sdk.Event"),b=r("format"),w=r("sdk.Helper"),E=r("sdk.Insights"),S=r("sdk.Intl"),x=r("sdk.Runtime"),T=r("UrlMap"),N=r("UserAgent"),C=m.extend({_initialHeight:null,_initTopMargin:0,_picFieldName:"pic_square",_page:null,_displayed:!1,_notDisplayed:!1,_container:null,_animationSpeed:0,process:function(){l.getLoginStatus(c(function(e){y.monitor("auth.statusChange",c(function(){return this.isValid()&&x.getLoginStatus()=="connected"?(this._uid=x.getUserID(),f({method:"Connect.shouldShowConnectBar"},c(function(e){e!=2?(this._animationSpeed=e==0?750:0,this._showBar()):this._noRender()},"bind",!0,this))):this._noRender(),!1},"bind",!0,this))},"bind",!0,this))},_showBar:function(){var e=d._selectByIndex(["first_name","profile_url",this._picFieldName],"user","uid",this._uid),t=d._selectByIndex(["display_name"],"application","api_key",x.getClientID());d.waitOn([e,t],c(function(e){e[0][0].site_name=e[1][0].display_name,this._displayed||(this._displayed=!0,this._notDisplayed=!1,this._renderConnectBar(e[0][0]),this.fire("render"),E.impression({lid:104,name:"widget_load"}),this.fire("connectbar.ondisplay"),y.fire("connectbar.ondisplay",this),w.invokeHandler(this.getAttribute("on-display"),this))},"bind",!0,this))},_noRender:function(){this._displayed&&(this._displayed=!1,this._closeConnectBar()),this._notDisplayed||(this._notDisplayed=!0,this.fire("render"),this.fire("connectbar.onnotdisplay"),y.fire("connectbar.onnotdisplay",this),w.invokeHandler(this.getAttribute("on-not-display"),this))},_renderConnectBar:function(t){var r=n.createElement("div"),i=n.createElement("div");r.className="fb_connect_bar",i.className="fb_reset fb_connect_bar_container",i.appendChild(r),n.body.appendChild(i),this._container=i,this._initialHeight=Math.round(parseFloat(v.getStyle(i,"height"))+parseFloat(v.getStyle(i,"borderBottomWidth"))),v.html(r,b('<div class="fb_buttons"><a href="#" class="fb_bar_close"><img src="{1}" alt="{2}" title="{2}"/></a></div><a href="{7}" class="fb_profile" target="_blank"><img src="{3}" alt="{4}" title="{4}"/></a>{5} <span><a href="{8}" class="fb_learn_more" target="_blank">{6}</a> &ndash; <a href="#" class="fb_no_thanks">{0}</a></span>',S.tx._("No Thanks"),T.resolve("fbcdn")+"/"+p.imgs.buttonUrl,S.tx._("Close"),t[this._picFieldName]||T.resolve("fbcdn")+"/"+p.imgs.missingProfileUrl,g(t.first_name),S.tx._("Hi {firstName}. <strong>{siteName}</strong> is using Facebook to personalize your experience.",{firstName:g(t.first_name),siteName:g(t.site_name)}),S.tx._("Learn More"),t.profile_url,T.resolve("www")+"/sitetour/connect.php")),c(h(r.getElementsByTagName("a")),"forEach",!0,function(e){e.onclick=c(this._clickHandler,"bind",!0,this)},this),this._page=n.body;var s=0;this._page.parentNode?s=Math.round((parseFloat(v.getStyle(this._page.parentNode,"height"))-parseFloat(v.getStyle(this._page,"height")))/2):s=parseInt(v.getStyle(this._page,"marginTop"),10),s=isNaN(s)?0:s,this._initTopMargin=s,e.XMLHttpRequest?(i.style.top=-1*this._initialHeight+"px",a.ate(i,{top:"0px"},this._animationSpeed)):i.className+=" fb_connect_bar_container_ie6";var o={marginTop:this._initTopMargin+this._initialHeight+"px"};N.ie()?o.backgroundPositionY=this._initialHeight+"px":o.backgroundPosition="? "+this._initialHeight+"px",a.ate(this._page,o,this._animationSpeed)},_clickHandler:function(t){t=t||e.event;var n=t.target||t.srcElement;while(n.nodeName!="A")n=n.parentNode;switch(n.className){case"fb_bar_close":f({method:"Connect.connectBarMarkAcknowledged"}),E.impression({lid:104,name:"widget_user_closed"}),this._closeConnectBar();break;case"fb_learn_more":case"fb_profile":e.open(n.href);break;case"fb_no_thanks":this._closeConnectBar(),f({method:"Connect.connectBarMarkAcknowledged"}),E.impression({lid:104,name:"widget_user_no_thanks"}),f({method:"auth.revokeAuthorization",block:!0},c(function(){this.fire("connectbar.ondeauth"),y.fire("connectbar.ondeauth",this),w.invokeHandler(this.getAttribute("on-deauth"),this),this._getBoolAttribute("auto-refresh",!0)&&e.location.reload()},"bind",!0,this))}return!1},_closeConnectBar:function(){this._notDisplayed=!0;var e={marginTop:this._initTopMargin+"px"};N.ie()?e.backgroundPositionY="0px":e.backgroundPosition="? 0px";var t=this._animationSpeed==0?0:300;a.ate(this._page,e,t),a.ate(this._container,{top:-1*this._initialHeight+"px"},t,function(e){e.parentNode.removeChild(e)}),this.fire("connectbar.onclose"),y.fire("connectbar.onclose",this),w.invokeHandler(this.getAttribute("on-close"),this)}});o.exports=C}),l("sdk.XFBML.LoginButton",["sdk.Helper","IframePlugin"],function(e,t,n,r,i,s){var o=t("sdk.Helper"),u=t("IframePlugin"),a=u.extend({constructor:function(e,t,n,r){this.parent(e,t,n,r);var i=u.getVal(r,"on_login");i&&this.subscribe("login.status",function(e){o.invokeHandler(i,null,[e])})},getParams:function(){return{scope:"string",perms:"string",size:"string",login_text:"text",show_faces:"bool",max_rows:"string",show_login_face:"bool",registration_url:"url_maybe",auto_logout_link:"bool",one_click:"bool",show_banner:"bool"}}});i.exports=a}),l("sdk.XFBML.Name",["copyProperties","sdk.Data","escapeHTML","sdk.Event","sdk.XFBML.Element","sdk.Helper","Log","sdk.Runtime"],function(e,t,n,r,i,s){var o=t("copyProperties"),u=t("sdk.Data"),a=t("escapeHTML"),f=t("sdk.Event"),l=t("sdk.XFBML.Element"),h=t("sdk.Helper"),p=t("Log"),d=t("sdk.Runtime"),v=l.extend({process:function(){o(this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",!0),_subjectId:this.getAttribute("subject-id")});if(!this._uid){p.error('"uid" is a required attribute for <fb:name>'),this.fire("render");return}var e=[];this._firstnameonly?e.push("first_name"):this._lastnameonly?e.push("last_name"):e.push("name"),this._subjectId&&(e.push("sex"),this._subjectId==d.getUserID()&&(this._reflexive=!0));var t;f.monitor("auth.statusChange",c(function(){if(!this.isValid())return this.fire("render"),!0;if(!this._uid||this._uid=="loggedinuser")this._uid=d.getUserID();if(!this._uid)return;h.isUser(this._uid)?t=u._selectByIndex(e,"user","uid",this._uid):t=u._selectByIndex(["name","id"],"profile","id",this._uid),t.wait(c(function(e){this._subjectId==this._uid?this._renderPronoun(e[0]):this._renderOther(e[0]),this.fire("render")},"bind",!0,this))},"bind",!0,this))},_renderPronoun:function(e){var t="",n=this._objective;this._subjectId&&(n=!0,this._subjectId===this._uid&&(this._reflexive=!0));if(this._uid==d.getUserID()&&this._getBoolAttribute("use-you",!0))this._possessive?this._reflexive?t="your own":t="your":this._reflexive?t="yourself":t="you";else switch(e.sex){case"male":this._possessive?t=this._reflexive?"his own":"his":this._reflexive?t="himself":n?t="him":t="he";break;case"female":this._possessive?t=this._reflexive?"her own":"her":this._reflexive?t="herself":n?t="her":t="she";break;default:this._getBoolAttribute("use-they",!0)?this._possessive?this._reflexive?t="their own":t="their":this._reflexive?t="themselves":n?t="them":t="they":this._possessive?this._reflexive?t="his/her own":t="his/her":this._reflexive?t="himself/herself":n?t="him/her":t="he/she"}this._getBoolAttribute("capitalize",!1)&&(t=h.upperCaseFirstChar(t)),this.dom.innerHTML=t},_renderOther:function(e){var t="",n="";this._uid==d.getUserID()&&this._getBoolAttribute("use-you",!0)?this._reflexive?this._possessive?t="your own":t="yourself":this._possessive?t="your":t="you":e&&(null===e.first_name&&(e.first_name=""),null===e.last_name&&(e.last_name=""),this._firstnameonly&&e.first_name!==undefined?t=a(e.first_name):this._lastnameonly&&e.last_name!==undefined&&(t=a(e.last_name)),t||(t=a(e.name)),t!==""&&this._possessive&&(t+="'s")),t||(t=a(this.getAttribute("if-cant-see","Facebook User"))),t&&(this._getBoolAttribute("capitalize",!1)&&(t=h.upperCaseFirstChar(t)),e&&this._linked?n=h.getProfileLink(e,t,this.getAttribute("href",null)):n=t),this.dom.innerHTML=n}});i.exports=v}),l("sdk.XFBML.RecommendationsBar",["sdk.Arbiter","DOMEventListener","sdk.Event","sdk.XFBML.IframeWidget","resolveURI","sdk.Runtime"],function(t,i,s,o,u,a){var f=i("sdk.Arbiter"),l=i("DOMEventListener"),h=i("sdk.Event"),p=i("sdk.XFBML.IframeWidget"),d=i("resolveURI"),v=i("sdk.Runtime"),m=p.extend({getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function t(e,t){function s(){t(),i=null,n=c("Date","now",!1)}var n=0,i=null;return function(){if(!i){var t=c("Date","now",!1);t-n<e?i=r(s,e-(t-n)):s()}return!0}}function i(e){if(e.match(/^\d+(?:\.\d+)?%$/)){var t=Math.min(Math.max(parseInt(e,10),0),100);e=t/100}else e!="manual"&&e!="onvisible"&&(e="onvisible");return e}function s(e){return Math.max(parseInt(e,10)||30,10)}function o(e){return e=="left"||e=="right"?e:v.getRtl()?"left":"right"}this._attr={channel:this.getChannelUrl(),api_key:v.getClientID(),font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:d(this.getAttribute("href")),side:o(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),max_age:this.getAttribute("max_age"),trigger:i(this.getAttribute("trigger","")),read_time:s(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2},this._showLoader=!1,this.subscribe("iframe.onload",c(function(){var e=this.dom.children[0];e.className="fbpluginrecommendationsbar"+this._attr.side},"bind",!0,this));var u=c(function(){return l.remove(e,"scroll",u),l.remove(n.documentElement,"click",u),l.remove(n.documentElement,"mousemove",u),r(c(this.arbiterInform,"bind",!0,this,"platform/plugins/recommendations_bar/action",null,f.BEHAVIOR_STATE),this._attr.read_time*1e3),!0},"bind",!0,this);l.add(e,"scroll",u),l.add(n.documentElement,"click",u),l.add(n.documentElement,"mousemove",u);if(this._attr.trigger=="manual"){var a=c(function(e){return e==this._attr.href&&(h.unsubscribe("xfbml.recommendationsbar.read",a),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,f.BEHAVIOR_STATE)),!0},"bind",!0,this);h.subscribe("xfbml.recommendationsbar.read",a)}else{var p=t(500,c(function(){return this.calculateVisibility()&&(l.remove(e,"scroll",p),l.remove(e,"resize",p),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,f.BEHAVIOR_STATE)),!0},"bind",!0,this));l.add(e,"scroll",p),l.add(e,"resize",p),p()}this.visible=!1;var m=t(500,c(function(){return!this.visible&&this.calculateVisibility()?(this.visible=!0,this.arbiterInform("platform/plugins/recommendations_bar/visible")):this.visible&&!this.calculateVisibility()&&(this.visible=!1,this.arbiterInform("platform/plugins/recommendations_bar/invisible")),!0},"bind",!0,this));l.add(e,"scroll",m),l.add(e,"resize",m),m(),this.focused=!0;var y=c(function(){return this.focused=!this.focused,!0},"bind",!0,this);return l.add(e,"blur",y),l.add(e,"focus",y),this.resize_running=!1,this.animate=!1,this.subscribe("xd.signal_animation",c(function(){this.animate=!0},"bind",!0,this)),!0},getSize:function(){return{height:25,width:this._attr.action=="recommend"?140:96}},calculateVisibility:function(){var t=n.documentElement.clientHeight;if(!this.focused&&e.console&&e.console.firebug)return this.visible;switch(this._attr.trigger){case"manual":return!1;case"onvisible":var r=this.dom.getBoundingClientRect().top;return r<=t;default:var i=e.pageYOffset||n.body.scrollTop,s=n.documentElement.scrollHeight;return(i+t)/s>=this._attr.trigger}}});u.exports=m}),l("sdk.XFBML.Registration",["sdk.Auth","sdk.Helper","sdk.XFBML.IframeWidget","sdk.Runtime","UrlMap"],function(t,n,r,i,s,o){var u=n("sdk.Auth"),a=n("sdk.Helper"),f=n("sdk.XFBML.IframeWidget"),l=n("sdk.Runtime"),h=n("UrlMap"),p=f.extend({_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){return this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:l.getClientID(),fb_only:this._getBoolAttribute("fb-only",!1),fb_register:this._getBoolAttribute("fb-register",!1),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",e.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")},this._attr.onvalidate&&this.subscribe("xd.validate",c(function(e){var t=c("JSON","parse",!1,e.value),n=c(function(t){this.arbiterInform("Registration.Validation",{errors:t,id:e.id})},"bind",!0,this),r=a.executeFunctionByName(this._attr.onvalidate,t,n);r&&n(r)},"bind",!0,this)),this.subscribe("xd.authLogin",c(this._onAuthLogin,"bind",!0,this)),this.subscribe("xd.authLogout",c(this._onAuthLogout,"bind",!0,this)),!0},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height)return this._attr.height;var e;if(!this._attr.fields)e=["name"];else try{e=c("JSON","parse",!1,this._attr.fields)}catch(t){e=this._attr.fields.split(/,/)}return this._attr.width<this._skinnyWidth?this._skinnyBaseHeight+e.length*this._skinnyFieldHeight:this._baseHeight+e.length*this._fieldHeight},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return h.resolve("www",!0)},_onAuthLogin:function(){u.getAuthResponse()||u.getLoginStatus(),a.fireEvent("auth.login",this)},_onAuthLogout:function(){u.getAuthResponse()||u.getLoginStatus(),a.fireEvent("auth.logout",this)}});s.exports=p}),l("sdk.XFBML.SocialContext",["sdk.Event","sdk.XFBML.IframeWidget"],function(e,t,n,r,i,s){var o=t("sdk.Event"),u=t("sdk.XFBML.IframeWidget"),a=u.extend({setupAndValidate:function(){var e=this.getAttribute("size","small");return this._attr={channel:this.getChannelUrl(),width:this._getPxAttribute("width",400),height:this._getPxAttribute("height",100),ref:this.getAttribute("ref"),size:this.getAttribute("size"),keywords:this.getAttribute("keywords"),urls:this.getAttribute("urls"),object_id:this.getAttribute("object_id")},this.subscribe("xd.social_context_stats",c(this._bubbleSocialContextStats,"bind",!0,this)),!0},_bubbleSocialContextStats:function(e){var t={pluginID:this.getAttribute("plugin-id"),socialContextPageIDs:c("JSON","parse",!1,e.social_context_page_ids)};o.fire("xfbml.social_context_stats",t)},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"social_context",params:this._attr}}});i.exports=a}),l("legacy:fb.xfbml",["Assert","sdk.domReady","sdk.Event","FB","IframePlugin","PluginTags","wrapFunction","XFBML","sdk.XFBML.Comments","sdk.XFBML.CommentsCount","sdk.XFBML.ConnectBar","sdk.XFBML.LoginButton","sdk.XFBML.Name","sdk.XFBML.RecommendationsBar","sdk.XFBML.Registration","sdk.XFBML.SocialContext"],function(t,i,s,o){var u=i("Assert"),a=i("sdk.domReady"),f=i("sdk.Event"),l=i("FB"),h=i("IframePlugin"),p=i("PluginTags"),d=i("wrapFunction"),v=i("XFBML"),m={comments:i("sdk.XFBML.Comments"),comments_count:i("sdk.XFBML.CommentsCount"),connect_bar:i("sdk.XFBML.ConnectBar"),login_button:i("sdk.XFBML.LoginButton"),name:i("sdk.XFBML.Name"),recommendations_bar:i("sdk.XFBML.RecommendationsBar"),registration:i("sdk.XFBML.Registration"),social_context:i("sdk.XFBML.SocialContext")};c(c("Object","keys",!1,p),"forEach",!0,function(e){v.registerTag({xmlns:"fb",localName:e.replace(/_/g,"-"),ctor:h.withParams(p[e])})}),c(c("Object","keys",!1,m),"forEach",!0,function(e){v.registerTag({xmlns:"fb",localName:e.replace(/_/g,"-"),ctor:m[e]})}),l.provide("XFBML",{parse:function(e){return u.maybeXfbml(e,"Invalid argument"),e&&e.nodeType===9&&(e=e.body),v.parse.apply(null,arguments)}}),l.provide("XFBML.RecommendationsBar",{markRead:function(t){f.fire("xfbml.recommendationsbar.read",t||e.location.href)}}),v.subscribe("parse",c(f.fire,"bind",!0,f,"xfbml.parse")),v.subscribe("render",c(f.fire,"bind",!0,f,"xfbml.render")),f.subscribe("init:post",function(e){e.xfbml&&r(d(c(a,"bind",!0,null,v.parse),"entry","init:post:xfbml.parse"),0)}),u.define("Xfbml",function(e){return(e.nodeType===1||e.nodeType===9)&&typeof e.nodeName=="string"});try{n.namespaces&&!n.namespaces.item.fb&&n.namespaces.add("fb")}catch(g){}},3)}.call({},window.inDapIF?parent.window:window)}catch(e){(new Image).src="http://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","message":"'+e.message+'"}}')};