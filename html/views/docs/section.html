<!DOCTYPE html>  <html> <head>   <title>section.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="base.html">                 base.js               </a>                                           <a class="source" href="collection.html">                 collection.js               </a>                                           <a class="source" href="layout.html">                 layout.js               </a>                                           <a class="source" href="messaging.html">                 messaging.js               </a>                                           <a class="source" href="section.html">                 section.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               section.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h2>Section View States</h2>

<p>Mixin object to track view's state
'not-rendered', 'rendered', 'not-displayed', 'displayed'</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>A section view is the required view object for a layout view which expects
views to track their own state. This view may be extended as need. to use
in a layout, perhaps adding the Section prototype properties to another view.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Requires <code>define</code> <br />
Return {SectionView} object constructor</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">define</span><span class="p">([</span><span class="s1">&#39;facade&#39;</span><span class="p">,</span><span class="s1">&#39;views/base&#39;</span><span class="p">,</span><span class="s1">&#39;utils&#39;</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">facade</span><span class="p">,</span> <span class="nx">BaseView</span><span class="p">,</span> <span class="nx">utils</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">Section</span><span class="p">,</span>
        <span class="nx">SectionView</span><span class="p">,</span>
        <span class="nx">viewStates</span><span class="p">,</span>
        <span class="nx">_</span> <span class="o">=</span> <span class="nx">facade</span><span class="p">.</span><span class="nx">_</span><span class="p">,</span>
        <span class="nx">$</span> <span class="o">=</span> <span class="nx">facade</span><span class="p">.</span><span class="nx">$</span><span class="p">,</span>
        <span class="nx">Channel</span> <span class="o">=</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">lib</span><span class="p">.</span><span class="nx">Channel</span><span class="p">,</span>
        <span class="nx">debug</span> <span class="o">=</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">debug</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>A section view is managed by a layout with the following states.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">viewStates</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;not-rendered&#39;</span><span class="p">,</span> <span class="s1">&#39;rendered&#39;</span><span class="p">,</span> <span class="s1">&#39;not-displayed&#39;</span><span class="p">,</span> <span class="s1">&#39;displayed&#39;</span><span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Constructor {Section} will have the properties and methods to manage state</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">Section</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>

    <span class="nx">Section</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_viewState</span> <span class="o">=</span> <span class="nx">viewStates</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p><strong>Method:</strong> <code>state</code> <br />
A getter/setter to change or retrieve state
Param {String} <code>state</code> - on of the acceptable viewStates <br />
Param (optional) {Function} <code>callback</code> - called when state has changed <br />
Param (optional) {Object} <code>context</code> - the <code>this</code> context of the callback function  </p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">Section</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">lastState</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_viewState</span><span class="p">,</span> <span class="nx">msg</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Set state value</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="o">||</span> <span class="o">!</span><span class="nx">_</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">viewStates</span><span class="p">,</span> <span class="nx">state</span><span class="p">))</span> <span class="p">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Section state (&quot;</span> <span class="o">+</span> <span class="nx">state</span> <span class="o">+</span> <span class="s2">&quot;) not allowed.&quot;</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Handle state changes with callback argument in this content</p>             </td>             <td class="code">               <div class="highlight"><pre>                <span class="k">if</span> <span class="p">(</span><span class="nx">lastState</span> <span class="o">!==</span> <span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">||</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">callback</span><span class="p">))</span> <span class="p">{</span>
                        <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">context</span> <span class="o">||</span> <span class="k">this</span><span class="p">,</span> <span class="nx">lastState</span><span class="p">,</span> <span class="nx">state</span><span class="p">);</span>
                    <span class="p">}</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">_viewState</span> <span class="o">=</span> <span class="nx">state</span><span class="p">;</span>
                    <span class="nx">Channel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;:stateChanged&#39;</span><span class="p">).</span><span class="nx">publish</span><span class="p">(</span><span class="nx">lastState</span><span class="p">,</span> <span class="nx">state</span><span class="p">);</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewState</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">this</span><span class="p">.</span><span class="nx">_viewState</span> <span class="o">=</span> <span class="nx">state</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
                <span class="nx">msg</span> <span class="o">=</span> <span class="s1">&#39;view &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">cid</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">;</span>
                <span class="nx">msg</span> <span class="o">+=</span> <span class="s1">&#39; state was: [&#39;</span> <span class="o">+</span> <span class="nx">lastState</span> <span class="o">+</span> <span class="s1">&#39;], state set to: [&#39;</span> <span class="o">+</span> <span class="nx">state</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span><span class="p">;</span>
                <span class="nx">debug</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Get state value</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">state</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_viewState</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
    <span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p><strong>Methods:</strong> <code>isRendered</code>, <code>isNotRendered</code>, <code>isDisplayed</code>, <code>isNotDisplayed</code> - <br />
these are helpers to check the state of the Section view</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">Section</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isRendered</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">()</span> <span class="o">===</span> <span class="s2">&quot;rendered&quot;</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="nx">Section</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isNotRendered</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">()</span> <span class="o">===</span> <span class="s2">&quot;not-rendered&quot;</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="nx">Section</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isDisplayed</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;displayed&#39;</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="nx">Section</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isNotDisplayed</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;not-displayed&#39;</span><span class="p">;</span>
    <span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p><strong>Constructor</strong> {Function} <code>SectionView</code> extends the BaseView.prototype
object literal argument to extend is the prototype for the SectionView constructor</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">SectionView</span> <span class="o">=</span> <span class="nx">BaseView</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p><strong>Property:</strong> <code>__super__</code> <br />
this is set to the base prototype,
however if needed can be set as another objects prototype (e.g. polymorphic)</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">__super__</span><span class="o">:</span> <span class="nx">BaseView</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p><strong>Method:</strong> <code>initialize</code> <br />
Param {Object} options with properties for {String} name 
and {String} destination as a selector string found in the layout's template 
The Section view's initialize method calls the <strong>super</strong> initialize as well</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">msg</span><span class="p">;</span>

            <span class="nx">_</span><span class="p">.</span><span class="nx">bindAll</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">options</span> <span class="o">||</span> <span class="p">(</span><span class="nx">options</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="nx">options</span><span class="p">.</span><span class="nx">name</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">options</span><span class="p">.</span><span class="nx">destination</span><span class="p">)))</span> <span class="p">{</span>
                <span class="nx">msg</span> <span class="o">=</span> <span class="s2">&quot;Section initialize method requires an &#39;options&#39; {object}&quot;</span><span class="p">;</span>
                <span class="nx">msg</span> <span class="o">+=</span> <span class="s2">&quot; as argument, with &#39;name&#39; and &#39;destination&#39; {string} properties&quot;</span><span class="p">;</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">destination</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">destination</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">state</span> <span class="o">||</span> <span class="s1">&#39;not-rendered&#39;</span><span class="p">);</span>
                <span class="nx">debug</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;SectionView initialize: &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">cid</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">);</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">__super__</span><span class="p">.</span><span class="nx">initialize</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p><strong>Method:</strong> <code>render</code> <br />
Wraps the <code>__super__</code> render method adding a callback to set the section's
state as 'rendered'</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">domInsertion</span><span class="p">,</span> <span class="nx">dataDecorator</span><span class="p">,</span> <span class="nx">partials</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">section</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

            <span class="kd">function</span> <span class="nx">setRenderedState</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">section</span><span class="p">.</span><span class="nx">state</span><span class="p">(</span><span class="s1">&#39;rendered&#39;</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">callbacks</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">setRenderedState</span><span class="p">);</span>
            <span class="nx">debug</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;SectionView render: &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">cid</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">__super__</span><span class="p">.</span><span class="nx">render</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">domInsertion</span><span class="p">,</span> <span class="nx">dataDecorator</span><span class="p">,</span> <span class="nx">partials</span><span class="p">);</span>
        <span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p><strong>Method:</strong> <code>display</code> <br />
Param {Boolean} <code>bool</code> <br />
In addition to render the display function manages whether or not the section
view is visible or not, so the bool param shows the section with true,
and removes the section from the dom with false.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">display</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">bool</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">toDisplay</span> <span class="o">=</span> <span class="nx">bool</span><span class="p">,</span> <span class="nx">section</span><span class="p">,</span> <span class="nx">msg</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">toDisplay</span><span class="p">)</span> <span class="o">||</span> <span class="o">!</span><span class="nx">_</span><span class="p">.</span><span class="nx">isBoolean</span><span class="p">(</span><span class="nx">toDisplay</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">msg</span> <span class="o">=</span> <span class="s2">&quot;SectionView display method expects {boolean} argument.&quot;</span><span class="p">;</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;not-rendered&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">msg</span> <span class="o">=</span> <span class="s2">&quot;SectionView (&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;) cannot display, view state is &#39;not-rendered&#39;.&quot;</span><span class="p">;</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">section</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">destination</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">toDisplay</span> <span class="cm">/*&amp;&amp; this.state() !== &#39;displayed&#39;*/</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">section</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$el</span><span class="p">);</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">(</span><span class="s1">&#39;displayed&#39;</span><span class="p">);</span>
                    <span class="nx">debug</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;SectionView display: &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">cid</span> <span class="o">+</span> <span class="s1">&#39;): &#39;</span> <span class="o">+</span> <span class="nx">toDisplay</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">toDisplay</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;displayed&#39;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">section</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">(</span><span class="s1">&#39;not-displayed&#39;</span><span class="p">);</span>
                    <span class="nx">debug</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;SectionView display: &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">cid</span> <span class="o">+</span> <span class="s1">&#39;): &#39;</span> <span class="o">+</span> <span class="nx">toDisplay</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p><strong>Method:</strong> <code>meta</code> - getter/setter used for managing state of view <br />
this.<em>meta is mean to be private, no mess with please :) <br />
Param {Object} <code>data</code> is the information to set on the this.</em>meta object
with no Param returns this_.meta</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p><strong>Private Property:</strong> <code>_meta</code> <br />
Metadata for params should be set on the this.<em>meta object for managing state
Also, user interations which will be stored and retrieved when viewing 
the page again later, should also be added to this.</em>meta using this.meta(Object)
  NOTE: <code>this._meta</code> is mean to be private, no mess with please :)</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">meta</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">data</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_meta</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">_meta</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_meta</span> <span class="o">||</span> <span class="p">{};</span>
                <span class="nx">_</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">val</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">_meta</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">val</span><span class="p">;</span>
                <span class="p">});</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_meta</span><span class="p">;</span>
        <span class="p">}</span>

    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>Mix-in <code>Section</code> object</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">SectionView</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">Section</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">SectionView</span><span class="p">;</span>
<span class="p">});</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 